# CONTRATO DE CRIA√á√ÉO DE CASOS DE USO (UC)

**Vers√£o:** 1.0  
**Data:** 2025-01-XX  
**Status:** Ativo  
**Tipo:** Contrato Bloqueante de Cobertura Funcional  

---

## 1. IDENTIFICA√á√ÉO DO AGENTE

| Campo | Valor |
|------|------|
| **Papel** | Agente Criador de Casos de Uso |
| **Escopo** | Cria√ß√£o e valida√ß√£o de UC-RFXXX.md e UC-RFXXX.yaml |
| **Modo** | Documenta√ß√£o governada |
| **Autoridade** | N√ÉO altera RF, N√ÉO cria MD, N√ÉO cria WF |

---

## 2. OBJETIVO DO CONTRATO

Garantir que **todo Requisito Funcional (RFXXX)** seja **integral, expl√≠cita e verificavelmente coberto** por Casos de Uso documentados nos arquivos:

- `UC-RFXXX.md`
- `UC-RFXXX.yaml`

Este contrato elimina lacunas funcionais entre RF e UC e **pro√≠be qualquer interpreta√ß√£o impl√≠cita**.

---

## 3. ATIVA√á√ÉO DO CONTRATO

Este contrato √© ativado quando a solicita√ß√£o contiver explicitamente:

```
Conforme CONTRATO DE CRIA√á√ÉO DE UC para RFXXX.
Seguir D:\IC2\CLAUDE.md.
```

---

## 4. PR√â-REQUISITOS (BLOQUEANTES)

| Pr√©-requisito | Descri√ß√£o | Bloqueante |
|--------------|-----------|------------|
| RFXXX.md | RF criado e aprovado | Sim |
| RFXXX.yaml | RF estruturado e sincronizado | Sim |
| Templates UC | `docs/templates/UC.md` e `UC.yaml` | Sim |
| STATUS.yaml | Presente na pasta do RF | Sim |

**Falha em qualquer item BLOQUEIA a execu√ß√£o.**

---

## 5. FONTES DE VERDADE

- RFXXX.md ‚Üí contrato funcional humano
- RFXXX.yaml ‚Üí cat√°logo funcional estruturado
- UC.md / UC.yaml ‚Üí templates obrigat√≥rios

Nenhuma outra fonte √© permitida.

---

## 6. ARQUIVOS DE SA√çDA

| Arquivo | Obrigat√≥rio |
|--------|-------------|
| UC-RFXXX.md | Sim |
| UC-RFXXX.yaml | Sim |
| coverage-report.md | Sim |
| coverage-report.json | Sim |
| checklist-documentacao-uc.yaml | Evid√™ncia formal de valida√ß√£o do contrato |

---

## 7. REGRA DE COBERTURA FUNCIONAL (CR√çTICA)

### RF ‚Üí UC (Cobertura Total)

Todo item **obrigat√≥rio** do RF **DEVE**:

- Estar listado em `RFXXX.yaml.catalog`
- Ser referenciado em `UC-RFXXX.yaml.covers.rf_items`
- Aparecer em pelo menos um UC documentado em UC-RFXXX.md

Qualquer falha BLOQUEIA:
- STATUS.yaml
- Commit
- Avan√ßo no board

---

## 8. CASOS DE USO M√çNIMOS

Salvo exce√ß√£o documentada, todo RF DEVE conter:

| UC | Descri√ß√£o |
|----|----------|
| UC00 | Listar |
| UC01 | Criar |
| UC02 | Visualizar |
| UC03 | Editar |
| UC04 | Excluir |

Exce√ß√µes exigem justificativa expl√≠cita no RF e no STATUS.yaml.

---

## 9. PROCESSO OBRIGAT√ìRIO

1. Ler RFXXX.md integralmente
2. Ler RFXXX.yaml (catalog)
3. Criar UC-RFXXX.md seguindo 100% do template UC.md
4. Criar UC-RFXXX.yaml seguindo 100% do template UC.yaml
5. Mapear cada item do RF para pelo menos um UC
6. Executar o validador de cobertura

---

## 10. VALIDA√á√ÉO AUTOM√ÅTICA (OBRIGAT√ìRIA)

A valida√ß√£o da cria√ß√£o de UC ocorre em DUAS CAMADAS OBRIGAT√ìRIAS:

### 10.1 Valida√ß√£o Estrutural e de Cobertura (Autom√°tica)

Ferramenta:

docs/tools/docs/validator-rf-uc.py


Execu√ß√£o obrigat√≥ria:
```bash
python docs/tools/docs/validator-rf-uc.py \
  --rf docs/rf/**/RFXXX.yaml \
  --uc docs/rf/**/UC-RFXXX.yaml \
  --tc docs/rf/**/TC-RFXXX.yaml

Crit√©rios de aprova√ß√£o:

Exit code = 0

100% dos itens obrigat√≥rios do RF cobertos por UC

Nenhum UC introduz comportamento fora do RF

Falha BLOQUEIA a execu√ß√£o.

### 10.2 Valida√ß√£o Formal por Checklist (OBRIGAT√ìRIA)

Al√©m da valida√ß√£o autom√°tica, o agente DEVE preencher e validar o checklist formal:

üìÑ Arquivo obrigat√≥rio:
D:\IC2\docs\checklists\checklist-documentacao-uc.yaml

Regras:

O checklist DEVE ser preenchido pelo pr√≥prio agente

Todos os itens obrigat√≥rios devem estar como true ou pass

O campo resultado.aprovado DEVE ser true

O checklist funciona como gate contratual

Sem checklist aprovado:

STATUS.yaml N√ÉO pode ser atualizado

Commit √© PROIBIDO

Avan√ßo no board √© BLOQUEADO

---

## 11. ATUALIZA√á√ÉO DO STATUS.yaml

Somente ap√≥s valida√ß√£o:

### Pr√©-condi√ß√µes obrigat√≥rias

Antes de atualizar o STATUS.yaml, o agente DEVE comprovar:

1. Validador `validator-rf-uc.py` executado com sucesso
2. Checklist preenchido e aprovado:

D:\IC2\docs\checklists\checklist-documentacao-uc.yaml

3. `resultado.aprovado = true`

Se qualquer uma dessas condi√ß√µes falhar, a atualiza√ß√£o do STATUS.yaml √© PROIBIDA.


```yaml
documentacao:
  uc: true

validacoes:
  rf_uc_cobertura_total: true
  uc_yaml_sincronizado: true
```

√â proibido marcar como `true` sem valida√ß√£o real.

---

## 12. BLOQUEIOS

O agente DEVE PARAR se:

- Qualquer item do RF n√£o tiver UC correspondente
- O validador falhar
- O template n√£o for seguido fielmente

---

## 13. CRIT√âRIO DE PRONTO

- UC-RFXXX.md criado
- UC-RFXXX.yaml criado
- Cobertura RF ‚Üí UC = 100%
- coverage-report.md/json gerados
- STATUS.yaml atualizado corretamente

---

## 14. REGRA DE NEGOCIA√á√ÉO ZERO

Se algo n√£o estiver explicitamente previsto neste contrato:

- A execu√ß√£o DEVE ser NEGADA
- Nenhuma a√ß√£o parcial √© permitida
