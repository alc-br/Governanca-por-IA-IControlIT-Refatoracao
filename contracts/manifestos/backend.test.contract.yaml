version: "1.0"
contract_type: "backend-test-contract"

rf: RFXXX
epic: EPICXXX
phase: FASE-XXX

generated_by: "Tester-Backend"
generated_at: "YYYY-MM-DD HH:MM:SS"

backend_contract_ref: "CONTRATO-DE-EXECUCAO-BACKEND"
status: draft | active | deprecated

endpoints:
  - name: "Create Resource"
    path: "/api/v1/resource"
    method: POST

    permissions:
      required:
        - "resource.create"

    payload:
      required_fields:
        - name: "name"
          type: "string"
          max_length: 255

      optional_fields:
        - name: "description"
          type: "string"
          nullable: true

    states:
      allowed:
        - "pending -> processing"
      forbidden:
        - "completed -> pending"

    violations:
      - scenario: "missing_required_field"
        expected_status: 422
        expected_error_code: "VALIDATION_ERROR"

      - scenario: "invalid_state_transition"
        expected_status: 409
        expected_error_code: "INVALID_STATE_TRANSITION"

http_codes:
  mandatory:
    200: "OK"
    201: "CREATED"
    401: "UNAUTHENTICATED"
    403: "FORBIDDEN"
    404: "NOT_FOUND"
    409: "CONFLICT"
    422: "VALIDATION_ERROR"
