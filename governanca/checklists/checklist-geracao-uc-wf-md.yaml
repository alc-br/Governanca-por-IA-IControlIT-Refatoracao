# CHECKLIST GERAÇÃO UC/WF/MD
# Validação completa do CONTRATO-GERACAO-UC-WF-MD
# Este checklist deve ser preenchido AUTOMATICAMENTE pelo agente
#
# NOTA: Alguns critérios aparecem em mais de uma seção por motivos de auditoria cruzada.
# Isso é intencional e garante validação completa em diferentes fases do processo.

meta:
  contrato: CONTRATO-GERACAO-UC-WF-MD
  versao: "1.0"
  data_criacao: "2025-12-31"
  documentacao: RFXXX
  tipo_rf: "crud"  # crud | leitura | integracao | batch (define se minimo 5 UCs se aplica)
  responsavel: agente-gerador-uc-wf-md

pre_requisitos:
  pasta_rf_existe: false          # Pasta docs/documentacao/[Fase]/[EPIC]/RFXXX/ existe
  documentacao_md_existe: false             # RFXXX.md existe e aprovado
  documentacao_yaml_existe: false           # RFXXX.yaml existe e sincronizado
  template_uc_md: false           # docs/templates/UC.md encontrado
  template_uc_yaml: false         # docs/templates/UC.yaml encontrado
  template_wf_md: false           # docs/templates/WF.md encontrado
  template_md_yaml: false         # docs/templates/MD.yaml encontrado
  status_yaml_existe: false       # STATUS.yaml presente
  documentacao_validado: false              # STATUS.yaml com documentacao.rf = true

leitura_rf:
  documentacao_md_lido: false               # RFXXX.md lido completamente
  documentacao_yaml_lido: false             # RFXXX.yaml lido completamente
  funcionalidades_mapeadas: false # Funcionalidades extraídas
  regras_negocio_identificadas: false # RN-RFXXX-NNN identificadas
  entidades_identificadas: false  # Entidades principais mapeadas

arquivos_saida:
  uc_md_criado: false             # UC-RFXXX.md criado
  uc_yaml_criado: false           # UC-RFXXX.yaml criado
  wf_md_criado: false             # WF-RFXXX.md criado
  md_yaml_criado: false           # MD-RFXXX.yaml criado
  status_yaml_atualizado: false   # STATUS.yaml atualizado

estrutura_uc_md:
  segue_template: false
  possui_secao_objetivo: false
  possui_sumario_ucs: false
  possui_padroes_gerais: false
  possui_uc00_listar: false
  possui_uc01_criar: false
  possui_uc02_visualizar: false
  possui_uc03_editar: false
  possui_uc04_excluir: false
  todos_uc_possuem_objetivo: false
  todos_uc_possuem_precondicoes: false
  todos_uc_possuem_poscondicoes: false
  todos_uc_possuem_fluxo_principal: false
  todos_uc_possuem_fluxos_alternativos: false
  todos_uc_possuem_fluxos_excecao: false
  todos_uc_possuem_regras_negocio: false

estrutura_uc_yaml:
  segue_template: false
  possui_campo_rf: false
  possui_casos_de_uso: false
  possui_5_ucs_minimo: false
  todos_uc_possuem_covers_rf_items: false
  todos_uc_possuem_uc_items_granulares: false
  todos_uc_possuem_precondicoes: false
  todos_uc_possuem_fluxo_principal: false
  todos_uc_possuem_gatilho: false
  todos_uc_possuem_resultado_final: false
  ids_unicos: false

cobertura_funcional:
  documentacao_funcionalidades_total: 0
  documentacao_funcionalidades_cobertas: 0
  documentacao_cobertura_100_percent: false
  funcionalidades_faltantes: []

validacao_automatica:
  validador_executado: false
  exit_code_zero: false
  data_execucao: null
  tentativas_correcao: 0

estrutura_wf_md:
  segue_template: false
  possui_secao_objetivo: false
  possui_principios_design: false
  possui_mapa_telas: false
  possui_wf01_listagem: false
  possui_wf02_criacao: false
  possui_wf03_edicao: false
  possui_wf04_visualizacao: false
  possui_wf05_confirmacao: false
  todos_wf_possuem_intencao: false
  todos_wf_possuem_acoes_permitidas: false
  todos_wf_possuem_estados_obrigatorios: false
  todos_wf_possuem_contratos_comportamento: false
  cobertura_100_ucs: false
  responsividade_documentada: false
  acessibilidade_wcag_aa: false

estrutura_md_yaml:
  segue_template: false
  possui_metadata: false
  possui_rf_relacionado: false
  possui_entidades: false
  todas_entidades_possuem_campos: false
  todas_entidades_possuem_id_pk: false
  todas_entidades_possuem_multi_tenancy: false
  todas_entidades_possuem_auditoria_completa: false
  todas_entidades_possuem_soft_delete: false
  todas_entidades_possuem_indices: false
  todas_entidades_possuem_constraints: false
  possui_observacoes: false
  possui_historico: false

sincronizacao:
  uc_md_yaml_sincronizados: false
  md_derivado_do_rf: false
  wf_derivado_dos_ucs: false

status_yaml_atualizacao:
  documentacao_uc_true: false
  documentacao_wf_true: false
  documentacao_md_true: false
  validacao_rf_uc_cobertura_total_true: false
  validacao_uc_yaml_sincronizado_true: false

regras_qualidade:
  uc_cobre_100_rf: false
  uc_minimo_5_ucs: false
  uc_todos_com_fluxos_completos: false
  uc_regras_rastreadas_rf: false
  wf_cobre_100_ucs: false
  wf_estados_obrigatorios: false
  wf_responsividade: false
  wf_acessibilidade: false
  md_campos_multi_tenancy: false
  md_campos_auditoria: false
  md_constraints_completas: false
  md_indices_performance: false

# COMMIT: Responsabilidade do usuário (não automatizado)

bloqueios:
  falha_pre_requisito: false
  falha_leitura_rf: false
  falha_template: false
  falha_cobertura: false
  falha_validacao: false
  falha_sincronizacao: false

# RESULTADO FINAL
# REGRA: aprovado = true SOMENTE se TODOS os bloqueios forem false
# E TODAS as regras de qualidade forem true
resultado_final:
  aprovado: false  # Derivado de: bloqueios (all false) AND regras_qualidade (all true)
  observacoes: ""
