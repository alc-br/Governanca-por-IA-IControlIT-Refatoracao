uc:
  rf: "RF048"
  versao: "2.0"
  data: "2025-12-31"
  autor: "Agência ALC - alc.dev.br"
  epic: "EPIC003-CAD-Cadastros-Base"
  fase: "Fase 2 - Cadastros e Serviços Transversais"

casos_de_uso:
  - id: "UC00"
    nome: "Listar Configurações de Status"
    ator_principal: "usuario_autenticado"
    tipo: "leitura"
    impacta_dados: false
    covers:
      rf_items:
        - "RF048-CRUD-02"
      uc_items:
        - id: "FP-UC00-001"
          title: "Usuário acessa /cadastros/status-consumidores"
          required: true
        - id: "FP-UC00-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.VIEW"
          required: true
        - id: "FP-UC00-003"
          title: "Sistema carrega configurações do tenant (Id_Fornecedor)"
          required: true
        - id: "FP-UC00-004"
          title: "Sistema aplica paginação (25 registros/página)"
          required: true
        - id: "FP-UC00-005"
          title: "Sistema exibe grid com colunas"
          required: true
        - id: "FA-UC00-001"
          title: "Filtrar por tipo de status"
          required: false
        - id: "FA-UC00-002"
          title: "Filtrar por faturamento (habilitado/desabilitado)"
          required: false
        - id: "FA-UC00-003"
          title: "Buscar por descrição"
          required: false
        - id: "FA-UC00-004"
          title: "Ordenar por qualquer coluna"
          required: false
        - id: "FE-UC00-001"
          title: "Sem permissão → HTTP 403"
          required: true

  - id: "UC01"
    nome: "Criar Configuração de Status"
    ator_principal: "gestor"
    tipo: "escrita"
    impacta_dados: true
    covers:
      rf_items:
        - "RF048-CRUD-01"
        - "RF048-VAL-01"
      uc_items:
        - id: "FP-UC01-001"
          title: "Usuário acessa formulário de criação"
          required: true
        - id: "FP-UC01-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.ADMIN"
          required: true
        - id: "FP-UC01-003"
          title: "Usuário preenche campos obrigatórios"
          required: true
        - id: "FP-UC01-004"
          title: "Sistema valida status obrigatórios (Pendente, Ativo, Suspenso, Bloqueado, Inativo)"
          required: true
        - id: "FP-UC01-005"
          title: "Sistema cria configuração com status ativo"
          required: true
        - id: "FP-UC01-006"
          title: "Sistema registra auditoria (CREATE)"
          required: true
        - id: "FP-UC01-007"
          title: "Sistema retorna HTTP 201"
          required: true
        - id: "FE-UC01-001"
          title: "Status duplicado no tenant → HTTP 400"
          required: true
        - id: "FE-UC01-002"
          title: "Tentar criar status não obrigatório → HTTP 400"
          required: true

  - id: "UC02"
    nome: "Visualizar Status de Consumidor"
    ator_principal: "usuario_autenticado"
    tipo: "leitura"
    impacta_dados: false
    covers:
      rf_items:
        - "RF048-CRUD-03"
      uc_items:
        - id: "FP-UC02-001"
          title: "Usuário clica em consumidor ou acessa /consumidores/{id}/status"
          required: true
        - id: "FP-UC02-002"
          title: "Sistema valida permissão e tenant"
          required: true
        - id: "FP-UC02-003"
          title: "Sistema carrega status atual + histórico + solicitações pendentes"
          required: true
        - id: "FP-UC02-004"
          title: "Sistema exibe abas: Status Atual, Histórico, Solicitações Pendentes, Métricas"
          required: true
        - id: "FE-UC02-001"
          title: "Consumidor não encontrado ou de outro tenant → HTTP 404"
          required: true

  - id: "UC03"
    nome: "Editar Configuração de Status"
    ator_principal: "gestor"
    tipo: "escrita"
    impacta_dados: true
    covers:
      rf_items:
        - "RF048-CRUD-04"
      uc_items:
        - id: "FP-UC03-001"
          title: "Usuário edita campos permitidos"
          required: true
        - id: "FP-UC03-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.ADMIN"
          required: true
        - id: "FP-UC03-003"
          title: "Sistema valida dados"
          required: true
        - id: "FP-UC03-004"
          title: "Sistema atualiza configuração"
          required: true
        - id: "FP-UC03-005"
          title: "Sistema registra auditoria (UPDATE)"
          required: true
        - id: "FP-UC03-006"
          title: "Sistema retorna HTTP 200"
          required: true
        - id: "FE-UC03-001"
          title: "Tentar alterar status → HTTP 400"
          required: true
        - id: "FE-UC03-002"
          title: "Status obrigatório não pode ser desativado → HTTP 400"
          required: true

  - id: "UC04"
    nome: "Inativar Configuração de Status"
    ator_principal: "gestor"
    tipo: "escrita"
    impacta_dados: true
    covers:
      rf_items:
        - "RF048-CRUD-05"
      uc_items:
        - id: "FP-UC04-001"
          title: "Usuário clica em Inativar"
          required: true
        - id: "FP-UC04-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.ADMIN"
          required: true
        - id: "FP-UC04-003"
          title: "Sistema verifica se status é obrigatório"
          required: true
        - id: "FP-UC04-004"
          title: "Sistema verifica se há consumidores usando o status"
          required: true
        - id: "FP-UC04-005"
          title: "Sistema marca Fl_Ativo = 0"
          required: true
        - id: "FP-UC04-006"
          title: "Sistema registra auditoria (DELETE)"
          required: true
        - id: "FP-UC04-007"
          title: "Sistema retorna HTTP 200"
          required: true
        - id: "FE-UC04-001"
          title: "Status obrigatório → HTTP 400 (não pode inativar)"
          required: true
        - id: "FE-UC04-002"
          title: "Consumidores usando o status → HTTP 400 (não pode inativar)"
          required: true

  - id: "UC05"
    nome: "Mudar Status de Consumidor"
    ator_principal: "gestor"
    tipo: "acao"
    impacta_dados: true
    covers:
      rf_items:
        - "RF048-FUNC-01"
        - "RF048-VAL-02"
        - "RF048-VAL-03"
        - "RF048-VAL-04"
      uc_items:
        - id: "FP-UC05-001"
          title: "Usuário acessa aba Mudar Status do consumidor"
          required: true
        - id: "FP-UC05-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.CHANGE"
          required: true
        - id: "FP-UC05-003"
          title: "Sistema exibe status atual e opções válidas conforme matriz"
          required: true
        - id: "FP-UC05-004"
          title: "Usuário seleciona novo status"
          required: true
        - id: "FP-UC05-005"
          title: "Sistema valida se transição é permitida (matriz)"
          required: true
        - id: "FP-UC05-006"
          title: "Sistema verifica se transição requer aprovação"
          required: true
        - id: "FP-UC05-007"
          title: "Se NÃO requer aprovação: aplica mudança imediatamente"
          required: true
        - id: "FP-UC05-008"
          title: "Sistema registra em StatusConsumidorHistorico (imutável)"
          required: true
        - id: "FP-UC05-009"
          title: "Sistema dispara evento StatusConsumidorAlterado"
          required: true
        - id: "FP-UC05-010"
          title: "Sistema envia notificações multi-canal"
          required: true
        - id: "FP-UC05-011"
          title: "Sistema aplica políticas automáticas (faturamento, acesso)"
          required: true
        - id: "FP-UC05-012"
          title: "Sistema retorna HTTP 200 ou HTTP 202 se pendente aprovação"
          required: true
        - id: "FA-UC05-001"
          title: "Se requer aprovação: cria SolicitacaoMudancaStatus"
          required: false
        - id: "FA-UC05-002"
          title: "Forçar mudança com override (requer permissão ADMIN)"
          required: false
        - id: "FE-UC05-001"
          title: "Transição proibida conforme matriz → HTTP 400"
          required: true
        - id: "FE-UC05-002"
          title: "Justificativa obrigatória ausente → HTTP 400"
          required: true
        - id: "FE-UC05-003"
          title: "Status igual ao atual → HTTP 400"
          required: true

  - id: "UC06"
    nome: "Aprovar Mudança de Status"
    ator_principal: "gestor_aprovador"
    tipo: "acao"
    impacta_dados: true
    covers:
      rf_items:
        - "RF048-FUNC-02"
        - "RF048-VAL-04"
      uc_items:
        - id: "FP-UC06-001"
          title: "Usuário acessa lista de solicitações pendentes"
          required: true
        - id: "FP-UC06-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.APPROVE"
          required: true
        - id: "FP-UC06-003"
          title: "Sistema filtra solicitações pendentes do tenant"
          required: true
        - id: "FP-UC06-004"
          title: "Usuário seleciona solicitação"
          required: true
        - id: "FP-UC06-005"
          title: "Sistema valida se usuário é aprovador válido"
          required: true
        - id: "FP-UC06-006"
          title: "Usuário clica em Aprovar"
          required: true
        - id: "FP-UC06-007"
          title: "Sistema verifica se há mais níveis de aprovação pendentes"
          required: true
        - id: "FP-UC06-008"
          title: "Se todos aprovaram: aplica mudança de status"
          required: true
        - id: "FP-UC06-009"
          title: "Sistema registra em StatusConsumidorHistorico"
          required: true
        - id: "FP-UC06-010"
          title: "Sistema atualiza SolicitacaoMudancaStatus (status: aprovada)"
          required: true
        - id: "FP-UC06-011"
          title: "Sistema dispara evento TransicaoStatusAprovada"
          required: true
        - id: "FP-UC06-012"
          title: "Sistema envia notificações"
          required: true
        - id: "FP-UC06-013"
          title: "Sistema aplica políticas automáticas"
          required: true
        - id: "FP-UC06-014"
          title: "Sistema retorna HTTP 200"
          required: true
        - id: "FA-UC06-001"
          title: "Se ainda há níveis pendentes: registra aprovação parcial"
          required: false
        - id: "FE-UC06-001"
          title: "Solicitação já aprovada/rejeitada → HTTP 400"
          required: true
        - id: "FE-UC06-002"
          title: "Usuário não é aprovador válido → HTTP 403"
          required: true
        - id: "FE-UC06-003"
          title: "Solicitação expirada (>7 dias) → HTTP 400"
          required: true

  - id: "UC07"
    nome: "Rejeitar Mudança de Status"
    ator_principal: "gestor_aprovador"
    tipo: "acao"
    impacta_dados: true
    covers:
      rf_items:
        - "RF048-FUNC-03"
      uc_items:
        - id: "FP-UC07-001"
          title: "Usuário acessa lista de solicitações pendentes"
          required: true
        - id: "FP-UC07-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.APPROVE"
          required: true
        - id: "FP-UC07-003"
          title: "Usuário seleciona solicitação"
          required: true
        - id: "FP-UC07-004"
          title: "Sistema valida se usuário é aprovador válido"
          required: true
        - id: "FP-UC07-005"
          title: "Usuário informa motivo da rejeição (obrigatório)"
          required: true
        - id: "FP-UC07-006"
          title: "Sistema valida motivo (mínimo 10 caracteres)"
          required: true
        - id: "FP-UC07-007"
          title: "Sistema atualiza SolicitacaoMudancaStatus (status: rejeitada)"
          required: true
        - id: "FP-UC07-008"
          title: "Sistema dispara evento TransicaoStatusRejeitada"
          required: true
        - id: "FP-UC07-009"
          title: "Sistema notifica solicitante"
          required: true
        - id: "FP-UC07-010"
          title: "Sistema retorna HTTP 200"
          required: true
        - id: "FE-UC07-001"
          title: "Solicitação já aprovada/rejeitada → HTTP 400"
          required: true
        - id: "FE-UC07-002"
          title: "Usuário não é aprovador válido → HTTP 403"
          required: true
        - id: "FE-UC07-003"
          title: "Motivo ausente ou muito curto → HTTP 400"
          required: true

  - id: "UC08"
    nome: "Processar Lote de Mudanças"
    ator_principal: "gestor"
    tipo: "acao"
    impacta_dados: true
    covers:
      rf_items:
        - "RF048-FUNC-04"
        - "RF048-VAL-05"
      uc_items:
        - id: "FP-UC08-001"
          title: "Usuário acessa Processamento em Lote"
          required: true
        - id: "FP-UC08-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.PROCESS_BATCH"
          required: true
        - id: "FP-UC08-003"
          title: "Usuário seleciona consumidores (filtros)"
          required: true
        - id: "FP-UC08-004"
          title: "Sistema valida quantidade (máximo 1.000)"
          required: true
        - id: "FP-UC08-005"
          title: "Usuário seleciona novo status e informa justificativa"
          required: true
        - id: "FP-UC08-006"
          title: "Sistema valida transição para cada consumidor (matriz)"
          required: true
        - id: "FP-UC08-007"
          title: "Sistema enfileira job Hangfire"
          required: true
        - id: "FP-UC08-008"
          title: "Sistema retorna HTTP 202 (Accepted) com Job ID"
          required: true
        - id: "FP-UC08-009"
          title: "Job assíncrono processa cada consumidor válido"
          required: true
        - id: "FP-UC08-010"
          title: "Job aplica mudança de status e políticas"
          required: true
        - id: "FP-UC08-011"
          title: "Job registra sucessos e falhas"
          required: true
        - id: "FP-UC08-012"
          title: "Job dispara evento LoteStatusProcessado"
          required: true
        - id: "FP-UC08-013"
          title: "Job envia relatório final por e-mail"
          required: true
        - id: "FA-UC08-001"
          title: "Monitorar progresso do job via /jobs/{id}/status"
          required: false
        - id: "FE-UC08-001"
          title: "Quantidade > 1.000 → HTTP 400"
          required: true
        - id: "FE-UC08-002"
          title: "Nenhum consumidor válido para transição → HTTP 400"
          required: true

  - id: "UC09"
    nome: "Consultar Histórico de Transições"
    ator_principal: "usuario_autenticado"
    tipo: "leitura"
    impacta_dados: false
    covers:
      rf_items:
        - "RF048-FUNC-05"
      uc_items:
        - id: "FP-UC09-001"
          title: "Usuário acessa aba Histórico de Transições do consumidor"
          required: true
        - id: "FP-UC09-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.VIEW_HISTORY e tenant"
          required: true
        - id: "FP-UC09-003"
          title: "Sistema carrega StatusConsumidorHistorico (últimos 12 meses)"
          required: true
        - id: "FP-UC09-004"
          title: "Sistema exibe timeline visual com dados completos"
          required: true
        - id: "FP-UC09-005"
          title: "Sistema calcula métricas: tempo médio em cada status, total de transições"
          required: true
        - id: "FA-UC09-001"
          title: "Filtrar por período (7 dias, 30 dias, 12 meses, 7 anos)"
          required: false
        - id: "FA-UC09-002"
          title: "Filtrar por tipo de transição"
          required: false
        - id: "FA-UC09-003"
          title: "Exportar histórico (CSV, Excel)"
          required: false
        - id: "FE-UC09-001"
          title: "Consumidor não encontrado → HTTP 404"
          required: true

  - id: "UC10"
    nome: "Visualizar Dashboard de Status"
    ator_principal: "usuario_autenticado"
    tipo: "leitura"
    impacta_dados: false
    covers:
      rf_items:
        - "RF048-FUNC-06"
      uc_items:
        - id: "FP-UC10-001"
          title: "Usuário acessa /dashboard/status-consumidores"
          required: true
        - id: "FP-UC10-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.VIEW"
          required: true
        - id: "FP-UC10-003"
          title: "Sistema estabelece conexão SignalR"
          required: true
        - id: "FP-UC10-004"
          title: "Sistema carrega métricas do tenant"
          required: true
        - id: "FP-UC10-005"
          title: "Sistema exibe charts: Distribuição (Pie), Evolução (Line), Top 5 (Bar)"
          required: true
        - id: "FP-UC10-006"
          title: "Sistema exibe consumidores críticos e pendências"
          required: true
        - id: "FP-UC10-007"
          title: "Sistema escuta eventos em tempo real via SignalR"
          required: true
        - id: "FP-UC10-008"
          title: "Sistema atualiza dashboard ao receber eventos"
          required: true
        - id: "FA-UC10-001"
          title: "Filtrar por período (semana, mês, trimestre, ano)"
          required: false
        - id: "FA-UC10-002"
          title: "Drill-down em qualquer métrica"
          required: false
        - id: "FA-UC10-003"
          title: "Exportar dashboard (PDF, PNG)"
          required: false
        - id: "FE-UC10-001"
          title: "Falha na conexão SignalR → fallback polling 30s"
          required: true

  - id: "UC11"
    nome: "Gerar Relatório de Ciclo de Vida"
    ator_principal: "usuario_autenticado"
    tipo: "acao"
    impacta_dados: false
    covers:
      rf_items:
        - "RF048-FUNC-07"
      uc_items:
        - id: "FP-UC11-001"
          title: "Usuário acessa Relatórios → Ciclo de Vida de Consumidores"
          required: true
        - id: "FP-UC11-002"
          title: "Sistema valida permissão GESTAO.STATUS_CONSUMIDORES.VIEW"
          required: true
        - id: "FP-UC11-003"
          title: "Usuário seleciona filtros: período, status, departamento, categoria"
          required: true
        - id: "FP-UC11-004"
          title: "Usuário seleciona formato de saída (PDF, Excel, CSV)"
          required: true
        - id: "FP-UC11-005"
          title: "Sistema valida filtros"
          required: true
        - id: "FP-UC11-006"
          title: "Sistema gera relatório com dados completos"
          required: true
        - id: "FP-UC11-007"
          title: "Sistema exporta arquivo"
          required: true
        - id: "FP-UC11-008"
          title: "Sistema retorna HTTP 200 com arquivo para download"
          required: true
        - id: "FA-UC11-001"
          title: "Agendar geração recorrente (diário, semanal, mensal)"
          required: false
        - id: "FA-UC11-002"
          title: "Enviar relatório por e-mail automaticamente"
          required: false
        - id: "FE-UC11-001"
          title: "Período > 12 meses → HTTP 400 (performance)"
          required: true
        - id: "FE-UC11-002"
          title: "Nenhum dado encontrado → HTTP 404"
          required: true

exclusions:
  uc_items: []
  justificativa: "Versão 2.0 completa cobre TODOS os 12 UCs esperados (UC00-UC11) conforme RF048.yaml. Cobertura 100% de todas as funcionalidades: CRUD, Workflow de Transições, Aprovações Multi-Nível, Processamento em Lote, Histórico de Transições, Dashboard Tempo Real, Relatórios Gerenciais."

padroes_gerais:
  multi_tenancy:
    regra: "Todos os UCs filtram por Id_Fornecedor do usuário autenticado"
    implementacao:
      - "Queries: WHERE Id_Fornecedor = @UsuarioFornecedorId AND Fl_Ativo = 1"
      - "Acesso cruzado → HTTP 403"

  rbac:
    permissoes:
      - codigo: "GESTAO.STATUS_CONSUMIDORES.VIEW"
        descricao: "Listar e visualizar status"
        ucs: ["UC00", "UC02", "UC09", "UC10", "UC11"]
      - codigo: "GESTAO.STATUS_CONSUMIDORES.CHANGE"
        descricao: "Mudar status de consumidores"
        ucs: ["UC05"]
      - codigo: "GESTAO.STATUS_CONSUMIDORES.APPROVE"
        descricao: "Aprovar mudanças críticas"
        ucs: ["UC06", "UC07"]
      - codigo: "GESTAO.STATUS_CONSUMIDORES.ADMIN"
        descricao: "Gerenciar configurações"
        ucs: ["UC01", "UC03", "UC04"]
      - codigo: "GESTAO.STATUS_CONSUMIDORES.VIEW_HISTORY"
        descricao: "Consultar histórico"
        ucs: ["UC09"]
      - codigo: "GESTAO.STATUS_CONSUMIDORES.PROCESS_BATCH"
        descricao: "Processar lotes"
        ucs: ["UC08"]

  auditoria:
    operacoes_auditadas:
      - "CREATE, UPDATE, DELETE (ConfiguracaoStatus)"
      - "CHANGE_STATUS (StatusConsumidor)"
      - "APPROVE_STATUS, REJECT_STATUS (SolicitacaoMudancaStatus)"
      - "PROCESS_BATCH (Lote)"
      - "AUTO_BLOCK (Bloqueio automático)"
    retencao: "7 anos (LGPD)"

  i18n:
    chaves: "status_consumidores.*, transicoes.*, aprovacoes.*"
    idiomas: ["pt-BR", "en-US", "es-ES"]

cobertura_rf:
  crud:
    total: 5
    cobertos: 5
    percentual: 100
    itens:
      - id: "RF048-CRUD-01"
        title: "Criar configuração de status"
        coberto_por: ["UC01"]
      - id: "RF048-CRUD-02"
        title: "Listar status de consumidores"
        coberto_por: ["UC00"]
      - id: "RF048-CRUD-03"
        title: "Visualizar status de consumidor"
        coberto_por: ["UC02"]
      - id: "RF048-CRUD-04"
        title: "Atualizar configuração de status"
        coberto_por: ["UC03"]
      - id: "RF048-CRUD-05"
        title: "Inativar configuração de status"
        coberto_por: ["UC04"]

  funcionalidades_especificas:
    total: 7
    cobertos: 7
    percentual: 100
    itens:
      - id: "RF048-FUNC-01"
        title: "Mudar status de consumidor individual"
        coberto_por: ["UC05"]
      - id: "RF048-FUNC-02"
        title: "Aprovar mudança de status pendente"
        coberto_por: ["UC06"]
      - id: "RF048-FUNC-03"
        title: "Rejeitar mudança de status pendente"
        coberto_por: ["UC07"]
      - id: "RF048-FUNC-04"
        title: "Processar mudanças de status em lote"
        coberto_por: ["UC08"]
      - id: "RF048-FUNC-05"
        title: "Consultar histórico completo de transições"
        coberto_por: ["UC09"]
      - id: "RF048-FUNC-06"
        title: "Visualizar dashboard de status em tempo real"
        coberto_por: ["UC10"]
      - id: "RF048-FUNC-07"
        title: "Gerar relatório de ciclo de vida"
        coberto_por: ["UC11"]

  validacoes:
    total: 5
    cobertos: 5
    percentual: 100
    itens:
      - id: "RF048-VAL-01"
        title: "Validar estados de status obrigatórios"
        coberto_por: ["UC01"]
      - id: "RF048-VAL-02"
        title: "Validar matriz de transições permitidas"
        coberto_por: ["UC05"]
      - id: "RF048-VAL-03"
        title: "Validar justificativa obrigatória"
        coberto_por: ["UC05"]
      - id: "RF048-VAL-04"
        title: "Validar aprovações multi-nível"
        coberto_por: ["UC05", "UC06"]
      - id: "RF048-VAL-05"
        title: "Validar limite de lote (1.000 registros)"
        coberto_por: ["UC08"]

  seguranca:
    total: 4
    cobertos: 4
    percentual: 100
    itens:
      - id: "RF048-SEC-01"
        title: "Isolamento de tenant (Id_Fornecedor)"
        coberto_por: ["UC00", "UC01", "UC02", "UC03", "UC04", "UC05", "UC06", "UC07", "UC08", "UC09", "UC10", "UC11"]
      - id: "RF048-SEC-02"
        title: "Permissões RBAC granulares"
        coberto_por: ["UC00", "UC01", "UC02", "UC03", "UC04", "UC05", "UC06", "UC07", "UC08", "UC09", "UC10", "UC11"]
      - id: "RF048-SEC-03"
        title: "Auditoria completa de operações"
        coberto_por: ["UC00", "UC01", "UC02", "UC03", "UC04", "UC05", "UC06", "UC07", "UC08", "UC09", "UC10", "UC11"]
      - id: "RF048-SEC-04"
        title: "Histórico imutável de transições"
        coberto_por: ["UC05", "UC09"]

  regras_negocio:
    total: 15
    cobertos: 15
    percentual: 100
    observacao: "Todas as 15 regras de negócio do RF048 estão cobertas pelos 12 UCs"

observacoes:
  - "Este UC v2.0 cobre TODOS os 12 UCs completos (UC00-UC11)"
  - "Cobertura 100% de todas as funcionalidades do RF048"
  - "Workflow completo de transições com matriz de validação (permitidas/proibidas)"
  - "Aprovações multi-nível documentadas (Gestor, Financeiro)"
  - "Processamento em lote assíncrono via Hangfire (até 1.000 registros)"
  - "Histórico imutável de 7 anos (LGPD) completamente documentado"
  - "Dashboard tempo real com SignalR implementado"
  - "Integração com faturamento e políticas automáticas"
  - "Notificações multi-canal (e-mail, SMS, in-app)"
  - "Relatórios gerenciais de ciclo de vida"
  - "Cobertura CRUD: 100% (5/5)"
  - "Cobertura Funcionalidades Específicas: 100% (7/7)"
  - "Cobertura Validações: 100% (5/5)"
  - "Cobertura Segurança: 100% (4/4)"
  - "Cobertura Regras de Negócio: 100% (15/15)"
  - "Cobertura Total RF: 100%"

historico:
  - versao: "2.0"
    data: "2025-12-31"
    autor: "Agência ALC - alc.dev.br"
    descricao: "Expansão completa para 12 UCs (UC00-UC11). Adicionados: UC05 (Mudar Status), UC06 (Aprovar Mudança), UC07 (Rejeitar Mudança), UC08 (Processar Lote), UC09 (Histórico), UC10 (Dashboard), UC11 (Relatório). Cobertura 100% de todas as funcionalidades do RF048 incluindo workflow de transições, aprovações multi-nível, processamento em lote, histórico imutável, dashboard tempo real com SignalR, e relatórios gerenciais."
  - versao: "2.0-parcial"
    data: "2025-12-31"
    autor: "Agência ALC - alc.dev.br"
    descricao: "Migração v1.0 → v2.0: Conformidade com template canônico. Adicionados metadados Epic, Fase, Autor. Adicionada seção PADRÕES GERAIS. Limitação: Apenas 5 UCs CRUD básicos documentados (de 12 esperados)."
  - versao: "1.0"
    data: "2025-12-18"
    autor: "Sistema"
    descricao: "Versão inicial simplificada (6 UCs superficiais)"
