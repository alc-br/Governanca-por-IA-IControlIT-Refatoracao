rf_id: RF047
rf_title: "Gestão de Tipos de Consumidores"
versao_governanca: "2.0"
data_migracao: "2025-12-30"
autor: "Agência ALC - alc.dev.br"
epic: "EPIC003-CAD - Cadastros Base"
fase: "Fase 2 - Cadastros e Serviços Transversais"

# ==============================================================================
# OBJETIVO
# ==============================================================================

objetivo: |
  Permitir a classificação e categorização de consumidores (usuários, dispositivos, máquinas) de recursos
  de telecomunicação através de tipos customizáveis, que determinam permissões, quotas, custos e comportamentos
  específicos no sistema. O requisito deve garantir flexibilidade total na criação de tipos, suporte a
  hierarquia e herança de configurações, auto-classificação baseada em regras, e gestão de ciclo de vida
  de tipos com auditoria completa.

# ==============================================================================
# ESCOPO
# ==============================================================================

escopo:
  dentro:
    - "Criação de tipos de consumidores customizáveis"
    - "Atualização de tipos existentes (nome, descrição, configurações)"
    - "Listagem de tipos com filtros (ativo/inativo, fornecedor, hierarquia)"
    - "Inativação lógica de tipos (sem exclusão física)"
    - "Hierarquia de tipos com relação pai/filho (acíclica)"
    - "Herança de configurações de tipo pai para tipo filho"
    - "Auto-classificação de consumidores baseada em regras (regex, domínio de e-mail, departamento)"
    - "Gestão de quotas por tipo (dados, voz, SMS)"
    - "Custo fixo mensal por tipo (somado ao billing)"
    - "Permissões default por tipo (aplicadas no onboarding)"
    - "Templates de provisioning automático por tipo"
    - "Workflow de aprovação para mudança de tipo (tipos críticos)"
    - "Dashboard de distribuição e custos por tipo"
    - "Versionamento e histórico de mudanças de tipo"
    - "Cores e ícones para identificação visual"
    - "Controle de acesso RBAC específico para tipos"
    - "Auditoria completa de operações"
    - "Multi-tenancy (isolamento por TenantId)"
    - "Limite de 50 tipos por fornecedor"
    - "Tipo padrão obrigatório por fornecedor"

  fora:
    - "Interface visual específica (Angular)"
    - "Tecnologia backend específica (.NET)"
    - "Layout, UX ou identidade visual"
    - "Estratégia de deploy ou infraestrutura"
    - "Integrações com sistemas externos de billing (fora deste RF)"

# ==============================================================================
# CONCEITOS E DEFINIÇÕES
# ==============================================================================

conceitos:
  - termo: "Tipo de Consumidor"
    definicao: "Categoria que classifica consumidores (usuários/dispositivos) e define permissões, quotas, custos e comportamentos"

  - termo: "Consumidor"
    definicao: "Entidade que consome recursos (usuário, dispositivo, máquina virtual)"

  - termo: "Fornecedor"
    definicao: "Entidade responsável pela gestão de consumidores (ex: operadora telecom)"

  - termo: "Hierarquia de Tipos"
    definicao: "Relação pai-filho entre tipos, onde filho herda configurações do pai"

  - termo: "Auto-Classificação"
    definicao: "Atribuição automática de tipo baseada em regras (regex, domínio, departamento)"

  - termo: "Tipo Padrão"
    definicao: "Tipo atribuído por padrão a novos consumidores (obrigatório ter um por fornecedor)"

  - termo: "Tipo Crítico"
    definicao: "Tipo que exige aprovação para mudança (RN006)"

  - termo: "Quota"
    definicao: "Limite de consumo de recursos (dados, voz, SMS) por tipo"

  - termo: "Provisioning Template"
    definicao: "Configuração de recursos provisionados automaticamente no onboarding"

  - termo: "Tenant"
    definicao: "Unidade lógica de isolamento de dados (multi-tenancy)"

# ==============================================================================
# FUNCIONALIDADES COBERTAS
# ==============================================================================

funcionalidades:
  - id: "FUNC-001"
    titulo: "Criar Tipo de Consumidor"
    descricao: "Cadastrar novo tipo com código único, nome, descrição, hierarquia, quotas e configurações"

  - id: "FUNC-002"
    titulo: "Atualizar Tipo de Consumidor"
    descricao: "Modificar tipo existente (exceto código, que é imutável)"

  - id: "FUNC-003"
    titulo: "Consultar Tipo por ID"
    descricao: "Obter detalhes completos de um tipo específico"

  - id: "FUNC-004"
    titulo: "Listar Tipos"
    descricao: "Listar tipos com filtros (fornecedor, ativo/inativo, hierarquia)"

  - id: "FUNC-005"
    titulo: "Inativar Tipo"
    descricao: "Desativar tipo logicamente (consumidores migram para tipo padrão automaticamente)"

  - id: "FUNC-006"
    titulo: "Reativar Tipo"
    descricao: "Reativar tipo previamente inativado"

  - id: "FUNC-007"
    titulo: "Definir Tipo Padrão"
    descricao: "Marcar tipo como padrão para novos consumidores (apenas 1 por fornecedor)"

  - id: "FUNC-008"
    titulo: "Configurar Hierarquia"
    descricao: "Definir tipo pai (validação de loops acíclicos)"

  - id: "FUNC-009"
    titulo: "Configurar Quotas"
    descricao: "Definir limites de dados, voz, SMS (-1 = ilimitado)"

  - id: "FUNC-010"
    titulo: "Configurar Auto-Classificação"
    descricao: "Criar regras de classificação automática (regex, domínio, departamento)"

  - id: "FUNC-011"
    titulo: "Configurar Permissões Default"
    descricao: "Definir permissões aplicadas automaticamente no onboarding"

  - id: "FUNC-012"
    titulo: "Configurar Template de Provisioning"
    descricao: "Definir recursos provisionados automaticamente"

  - id: "FUNC-013"
    titulo: "Configurar Custo Fixo Mensal"
    descricao: "Definir custo adicional ao billing por tipo"

  - id: "FUNC-014"
    titulo: "Workflow de Mudança de Tipo"
    descricao: "Aprovar/rejeitar mudança de tipo para tipos críticos"

  - id: "FUNC-015"
    titulo: "Dashboard de Tipos"
    descricao: "Visualizar distribuição de consumidores e custos por tipo"

  - id: "FUNC-016"
    titulo: "Histórico de Mudanças"
    descricao: "Consultar histórico de versões de um tipo (7 anos de retenção)"

  - id: "FUNC-017"
    titulo: "Configurar Cores e Ícones"
    descricao: "Definir identificação visual do tipo"

# ==============================================================================
# REGRAS DE NEGÓCIO
# ==============================================================================

regras_negocio:
  - id: "RN-RF047-001"
    titulo: "Código de Tipo Único e Imutável"
    descricao: "O código do tipo deve ser único por fornecedor e imutável após criação"
    criticidade: "CRÍTICA"
    justificativa: "Garantir identificação estável de tipos em integrações e relatórios"
    criterios_aceite:
      - "Código duplicado no mesmo fornecedor → rejeição HTTP 400"
      - "Tentativa de alterar código de tipo existente → rejeição HTTP 400"
      - "Código deve seguir padrão [A-Z0-9_]{3,20} (ex: GERENTE_TI, FUNC_ADM)"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
      validacao_ui: true
    validacao:
      tipo: "unique_constraint"
      mensagem_erro: "Código de tipo já existe para este fornecedor ou formato inválido"
      http_code: 400

  - id: "RN-RF047-002"
    titulo: "Tipo Padrão Obrigatório por Fornecedor"
    descricao: "Todo fornecedor deve ter exatamente 1 tipo marcado como padrão"
    criticidade: "CRÍTICA"
    justificativa: "Garantir que novos consumidores sempre recebam um tipo válido"
    criterios_aceite:
      - "Fornecedor sem tipo padrão → bloqueio de criação de consumidores"
      - "Definir tipo padrão remove flag de padrão do tipo anterior (apenas 1 ativo)"
      - "Inativar tipo padrão → obrigatório definir novo tipo padrão antes"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
    validacao:
      tipo: "business_rule"
      mensagem_erro: "Fornecedor deve ter exatamente 1 tipo padrão ativo"
      http_code: 400

  - id: "RN-RF047-003"
    titulo: "Hierarquia Sem Loops (Acíclica)"
    descricao: "A hierarquia de tipos deve formar um grafo acíclico direcionado (DAG)"
    criticidade: "CRÍTICA"
    justificativa: "Prevenir loops infinitos na resolução de herança"
    criterios_aceite:
      - "Tipo A → pai de B → pai de A → rejeição HTTP 400 ('Loop detectado')"
      - "Validação recursiva de ancestrais antes de salvar"
      - "Tipo pode ter no máximo 5 níveis de hierarquia"
    implementacao:
      backend: true
      frontend: false
      validacao_api: true
      algoritmo: "DFS (Depth-First Search) para detectar ciclos"
    validacao:
      tipo: "graph_validation"
      mensagem_erro: "Loop detectado na hierarquia de tipos ou profundidade máxima excedida (5 níveis)"
      http_code: 400

  - id: "RN-RF047-004"
    titulo: "Quota -1 = Ilimitado"
    descricao: "O valor -1 em quotas (dados, voz, SMS) significa consumo ilimitado"
    criticidade: "IMPORTANTE"
    justificativa: "Permitir tipos sem restrição de consumo (ex: executivos, gerentes)"
    criterios_aceite:
      - "Quota = -1 → sem validação de limite"
      - "Quota >= 0 → validação de limite em tempo real"
      - "Quota nula ou ausente → herda do tipo pai (se houver)"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
    validacao:
      tipo: "range"
      mensagem_erro: "Quota deve ser >= -1"
      http_code: 400

  - id: "RN-RF047-005"
    titulo: "Regras de Auto-Classificação por Prioridade"
    descricao: "Regras de auto-classificação devem ser avaliadas em ordem de prioridade (1 = maior)"
    criticidade: "IMPORTANTE"
    justificativa: "Permitir controle fino sobre classificação automática"
    criterios_aceite:
      - "Prioridade 1 avaliada primeiro, depois 2, 3, etc."
      - "Primeira regra que satisfizer → tipo é atribuído e avaliação para"
      - "Se nenhuma regra satisfizer → tipo padrão é atribuído"
      - "Regras suportadas: regex (e-mail, nome), domínio de e-mail, departamento, cargo"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
      algoritmo: "Pattern matching com prioridade ordenada"
    validacao:
      tipo: "business_rule"
      mensagem_erro: "Regra de auto-classificação inválida ou prioridade duplicada"
      http_code: 400

  - id: "RN-RF047-006"
    titulo: "Mudança de Tipo Exige Aprovação (Tipos Críticos)"
    descricao: "Tipos marcados como 'críticos' exigem workflow de aprovação para mudança"
    criticidade: "IMPORTANTE"
    justificativa: "Proteger tipos sensíveis (ex: executivos, VIPs) de mudanças acidentais"
    criterios_aceite:
      - "Mudança de tipo crítico → cria solicitação pendente (status: aguardando_aprovacao)"
      - "Aprovação → mudança aplicada + registro no histórico"
      - "Rejeição → mudança descartada + motivo registrado"
      - "Tipos não-críticos → mudança imediata sem aprovação"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
      workflow: true
    validacao:
      tipo: "business_rule"
      mensagem_erro: "Mudança de tipo crítico requer aprovação pendente"
      http_code: 202

  - id: "RN-RF047-007"
    titulo: "Inativação de Tipo Move Consumidores para Tipo Padrão"
    descricao: "Ao inativar um tipo, todos os consumidores vinculados devem ser migrados automaticamente para o tipo padrão"
    criticidade: "CRÍTICA"
    justificativa: "Evitar consumidores órfãos sem tipo válido"
    criterios_aceite:
      - "Inativação de tipo → trigger de migração em massa"
      - "Todos os consumidores migram para tipo padrão do fornecedor"
      - "Histórico registra migração automática com motivo 'Tipo inativado'"
      - "Notificação enviada aos responsáveis pela migração"
    implementacao:
      backend: true
      frontend: false
      validacao_api: true
      background_job: true
    validacao:
      tipo: "business_rule"
      mensagem_erro: "Tipo padrão não encontrado para migração automática"
      http_code: 400

  - id: "RN-RF047-008"
    titulo: "Custo Fixo Mensal Somado ao Billing"
    descricao: "O custo fixo mensal do tipo deve ser somado ao billing total do consumidor"
    criticidade: "IMPORTANTE"
    justificativa: "Permitir diferenciação de custo por tipo (ex: VIPs pagam mais)"
    criterios_aceite:
      - "Custo fixo = R$ 50,00 → somado mensalmente ao billing"
      - "Custo fixo = R$ 0,00 → sem impacto no billing"
      - "Mudança de tipo → custo proporcional ao período (pro-rata)"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
      integracao_billing: true
    validacao:
      tipo: "range"
      mensagem_erro: "Custo fixo mensal deve ser >= 0"
      http_code: 400

  - id: "RN-RF047-009"
    titulo: "Limite de 50 Tipos por Fornecedor"
    descricao: "Cada fornecedor pode cadastrar no máximo 50 tipos de consumidores"
    criticidade: "IMPORTANTE"
    justificativa: "Prevenir explosão de tipos e garantir gerenciabilidade"
    criterios_aceite:
      - "Fornecedor com 50 tipos → criação de novo tipo → rejeição HTTP 400 ('Limite excedido')"
      - "Tipos inativos contam para o limite"
      - "Exclusão lógica de tipo não libera vaga (quota permanente)"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
    validacao:
      tipo: "count_limit"
      mensagem_erro: "Limite de 50 tipos por fornecedor excedido"
      http_code: 400

  - id: "RN-RF047-010"
    titulo: "Auto-Classificação Apenas em Criação de Consumidor"
    descricao: "Regras de auto-classificação são aplicadas apenas na criação de novos consumidores"
    criticidade: "IMPORTANTE"
    justificativa: "Evitar mudanças automáticas inesperadas após onboarding"
    criterios_aceite:
      - "Criação de consumidor → regras avaliadas + tipo atribuído"
      - "Atualização de consumidor → tipo NÃO é reavaliado automaticamente"
      - "Mudança manual de tipo → sempre permitida (respeitando RN006 se crítico)"
    implementacao:
      backend: true
      frontend: false
      validacao_api: true
    validacao:
      tipo: "business_rule"
      mensagem_erro: "Auto-classificação não aplicada em atualizações"
      http_code: 200

  - id: "RN-RF047-011"
    titulo: "Herança de Configurações Resolvida em Runtime"
    descricao: "Configurações ausentes no tipo filho devem ser herdadas do tipo pai em tempo de execução"
    criticidade: "IMPORTANTE"
    justificativa: "Evitar duplicação de configurações e facilitar manutenção"
    criterios_aceite:
      - "Tipo filho sem quota definida → herda quota do tipo pai"
      - "Tipo filho sem permissões definidas → herda permissões do tipo pai"
      - "Tipo filho com configuração explícita → sobrescreve herança"
      - "Resolução recursiva até 5 níveis de hierarquia"
    implementacao:
      backend: true
      frontend: false
      validacao_api: false
      algoritmo: "Recursive resolution with memoization"
    validacao:
      tipo: "inheritance"
      mensagem_erro: "Profundidade máxima de herança excedida (5 níveis)"
      http_code: 500

  - id: "RN-RF047-012"
    titulo: "Permissões Default Aplicadas em Onboarding"
    descricao: "Permissões default do tipo devem ser aplicadas automaticamente ao criar consumidor"
    criticidade: "CRÍTICA"
    justificativa: "Garantir que consumidor receba permissões corretas desde o início"
    criterios_aceite:
      - "Criação de consumidor → permissões do tipo copiadas para o consumidor"
      - "Mudança de tipo → permissões antigas removidas + permissões do novo tipo aplicadas"
      - "Permissões manuais (fora do tipo) → preservadas"
    implementacao:
      backend: true
      frontend: false
      validacao_api: true
    validacao:
      tipo: "business_rule"
      mensagem_erro: "Erro ao aplicar permissões default do tipo"
      http_code: 500

  - id: "RN-RF047-013"
    titulo: "Dashboard de Custos Agregado por Tipo"
    descricao: "O sistema deve fornecer dashboard com distribuição de consumidores e custos por tipo"
    criticidade: "IMPORTANTE"
    justificativa: "Permitir análise gerencial de custos por categoria"
    criterios_aceite:
      - "Dashboard exibe: número de consumidores por tipo, custo total por tipo, percentual do custo total"
      - "Filtros: fornecedor, período (mês, trimestre, ano), tipo específico"
      - "Dados em tempo real (cache de 5 minutos)"
    implementacao:
      backend: true
      frontend: true
      validacao_api: false
      cache: true
    validacao:
      tipo: "dashboard"
      mensagem_erro: "Erro ao carregar dashboard de custos"
      http_code: 500

  - id: "RN-RF047-014"
    titulo: "Cores e Ícones para Identificação Visual"
    descricao: "Cada tipo pode ter cor (hex) e ícone (Material Icons) para identificação visual"
    criticidade: "MENOR"
    justificativa: "Facilitar identificação rápida de tipos em dashboards e listagens"
    criterios_aceite:
      - "Cor: formato hexadecimal #RRGGBB (ex: #FF5733)"
      - "Ícone: código Material Icons (ex: account_circle, admin_panel_settings)"
      - "Valores opcionais (se ausente, usa padrão do sistema)"
    implementacao:
      backend: true
      frontend: true
      validacao_api: true
    validacao:
      tipo: "regex"
      mensagem_erro: "Cor deve estar no formato #RRGGBB"
      http_code: 400

  - id: "RN-RF047-015"
    titulo: "Histórico de 7 Anos para Auditoria"
    descricao: "Todas as mudanças de tipo de consumidor devem ser registradas com retenção de 7 anos"
    criticidade: "CRÍTICA"
    justificativa: "Conformidade com LGPD e auditoria de longo prazo"
    criterios_aceite:
      - "Tabela TipoConsumidorHistorico registra: consumidor, tipo anterior, tipo novo, data, usuário, motivo"
      - "Retenção: 7 anos (2555 dias)"
      - "Purga automática de registros > 7 anos (job mensal)"
    implementacao:
      backend: true
      frontend: false
      validacao_api: false
      background_job: true
    validacao:
      tipo: "audit"
      mensagem_erro: "Erro ao registrar histórico de mudança de tipo"
      http_code: 500

# ==============================================================================
# ESTADOS DA ENTIDADE
# ==============================================================================

estados:
  - estado: "ativo"
    descricao: "Tipo ativo e utilizável para atribuição a consumidores"
    transicoes_permitidas:
      - destino: "inativo"
        regra: "RN-RF047-007 (migração automática de consumidores)"

  - estado: "inativo"
    descricao: "Tipo desativado (consumidores migram para tipo padrão automaticamente)"
    transicoes_permitidas:
      - destino: "ativo"
        regra: "Reativação manual (sem restrições)"

# ==============================================================================
# EVENTOS DE DOMÍNIO
# ==============================================================================

eventos_dominio:
  - evento: "TipoConsumidorCriado"
    quando_ocorre: "Após criação de tipo"
    payload:
      - "tipoId"
      - "codigo"
      - "nome"
      - "fornecedorId"
      - "usuarioCriacaoId"

  - evento: "TipoConsumidorAtualizado"
    quando_ocorre: "Após atualização de tipo"
    payload:
      - "tipoId"
      - "camposAlterados"
      - "usuarioAlteracaoId"

  - evento: "TipoConsumidorInativado"
    quando_ocorre: "Ao inativar tipo"
    payload:
      - "tipoId"
      - "qtdConsumidoresMigrados"
      - "tipoDestino"

  - evento: "TipoConsumidorReativado"
    quando_ocorre: "Ao reativar tipo"
    payload:
      - "tipoId"
      - "usuarioReativacaoId"

  - evento: "TipoPadraoAlterado"
    quando_ocorre: "Ao definir novo tipo padrão"
    payload:
      - "fornecedorId"
      - "tipoAnterior"
      - "tipoNovo"

  - evento: "ConsumidorMudouTipo"
    quando_ocorre: "Ao mudar tipo de consumidor"
    payload:
      - "consumidorId"
      - "tipoAnterior"
      - "tipoNovo"
      - "aprovado"

# ==============================================================================
# INTEGRAÇÕES OBRIGATÓRIAS
# ==============================================================================

integracoes:
  i18n:
    chaves_traducao:
      - "tipos-consumidores.titulo"
      - "tipos-consumidores.criar"
      - "tipos-consumidores.editar"
      - "tipos-consumidores.listar"
      - "tipos-consumidores.inativar"
      - "tipos-consumidores.reativar"
      - "tipos-consumidores.definir-padrao"
      - "tipos-consumidores.validacao.*"
    idiomas_obrigatorios:
      - "pt-BR"
      - "en"
      - "es"
    fallback: "pt-BR → en → es"
    ferramental:
      frontend: "Transloco"
      backend: "ResourceManager"

  auditoria:
    tabela: "AuditLog"
    campos_registrados:
      - "EntityName"
      - "EntityId"
      - "Action"
      - "UserId"
      - "Timestamp"
      - "Changes"
      - "IpAddress"
    acoes_auditadas:
      - "Create"
      - "Update"
      - "Delete"
      - "Inactivate"
      - "Reactivate"
      - "ChangePadrao"
    retencao: "7 anos"

  rbac:
    permissoes:
      - operacao: "Criar tipo"
        codigo: "CAD.TIPOS_CONSUMIDORES.CREATE"
      - operacao: "Atualizar tipo"
        codigo: "CAD.TIPOS_CONSUMIDORES.UPDATE"
      - operacao: "Visualizar tipo"
        codigo: "CAD.TIPOS_CONSUMIDORES.VIEW"
      - operacao: "Listar tipos"
        codigo: "CAD.TIPOS_CONSUMIDORES.VIEW_ANY"
      - operacao: "Inativar tipo"
        codigo: "CAD.TIPOS_CONSUMIDORES.INACTIVATE"
      - operacao: "Reativar tipo"
        codigo: "CAD.TIPOS_CONSUMIDORES.REACTIVATE"
      - operacao: "Definir tipo padrão"
        codigo: "CAD.TIPOS_CONSUMIDORES.SET_DEFAULT"
      - operacao: "Aprovar mudança de tipo"
        codigo: "CAD.TIPOS_CONSUMIDORES.APPROVE_CHANGE"
      - operacao: "Gerenciar hierarquia"
        codigo: "CAD.TIPOS_CONSUMIDORES.MANAGE_HIERARCHY"

  central_funcionalidades:
    codigo_funcionalidade: "CAD.TIPOS_CONSUMIDORES"
    registro_obrigatorio: true
    feature_flags:
      - "tipos-consumidores.auto-classificacao"
      - "tipos-consumidores.workflow-aprovacao"
      - "tipos-consumidores.hierarquia"

# ==============================================================================
# ARTEFATOS DERIVADOS
# ==============================================================================

artefatos_derivados:
  - artefato: "UC-RF047.md"
    tipo: "Casos de Uso"
    obrigatorio: true
    status: "✅ Criado"

  - artefato: "MD-RF047.md"
    tipo: "Modelo de Dados"
    obrigatorio: true
    status: "✅ Criado"

  - artefato: "WF-RF047.md"
    tipo: "Workflows"
    obrigatorio: true
    status: "✅ Criado"

  - artefato: "TC-RF047-BACKEND.md"
    tipo: "Casos de Teste Backend"
    obrigatorio: true
    status: "⏳ Pendente"

  - artefato: "TC-RF047-FRONTEND.md"
    tipo: "Casos de Teste Frontend"
    obrigatorio: true
    status: "⏳ Pendente"

  - artefato: "TC-RF047-SEGURANCA.md"
    tipo: "Casos de Teste Segurança"
    obrigatorio: true
    status: "⏳ Pendente"

  - artefato: "TC-RF047-E2E.md"
    tipo: "Casos de Teste E2E"
    obrigatorio: true
    status: "⏳ Pendente"

  - artefato: "MT-RF047.yaml"
    tipo: "Massa de Teste"
    obrigatorio: true
    status: "⏳ Pendente"

# ==============================================================================
# DEPENDÊNCIAS
# ==============================================================================

dependencias:
  rfs:
    - rf_id: "RF-001"
      titulo: "Parâmetros e Configurações"
      motivo: "Multi-tenancy e auditoria"

    - rf_id: "RF-022"
      titulo: "Gestão de Fornecedores"
      motivo: "Relacionamento FornecedorId"

    - rf_id: "RF-048"
      titulo: "Gestão de Consumidores"
      motivo: "Atribuição de tipos a consumidores"

  infraestrutura:
    - "Entity Framework Core 10 (backend)"
    - "Angular 19 + Transloco (frontend)"
    - "SQLite (dev) / SQL Server (prod)"
    - "Hangfire (jobs de migração e purga)"

# ==============================================================================
# CHANGELOG
# ==============================================================================

changelog:
  - versao: "1.0"
    data: "2025-12-27"
    descricao: "Versão inicial com 5 seções (misturado RF + RL)"
    autor: "Agência ALC - alc.dev.br"

  - versao: "2.0"
    data: "2025-12-30"
    descricao: "Separação RF/RL completa, 14 seções, 15 regras de negócio"
    autor: "Agência ALC - alc.dev.br"
