# RF-CAD-013-Gestao-Marcas-Modelos

**Versao**: 2.0
**Ultima Atualizacao**: 2025-11-03
**Status**: âœ… Estrutura Simplificada (5 secoes)
**Fase**: Fase 1 - Fundacao e Cadastros Base

---

[â† Voltar ao Indice](./README.md)

---

## RESUMO EXECUTIVO

### Descrição Geral

Sistema de catalogação de **Fabricantes, Marcas e Modelos** de equipamentos de TI e telecom, permitindo padronização e rastreamento detalhado de especificações técnicas dos ativos.

### Conceitos Fundamentais

**Hierarquia**:


### Funcionalidades Principais

1. ✅ **Cadastro de Fabricantes**: Nome, país, logo, website
2. ✅ **Cadastro de Marcas**: Vinculadas a fabricantes
3. ✅ **Cadastro de Modelos**: Especificações técnicas detalhadas
4. ✅ **SKUs e Part Numbers**: Identificação única de produtos
5. ✅ **Importação de Catálogos**: CSV/Excel de fabricantes
6. ✅ **Especificações Técnicas**: Campos customizados por tipo
7. ✅ **Homologação de Modelos**: Aprovação para uso corporativo
8. ✅ **Ciclo de Vida**: EOL (End of Life), descontinuado
9. ✅ **Integração com APIs**: Busca automática de especificações
10. ✅ **Histórico de Preços**: Rastreamento de valores por modelo

---

---

---

## REGRAS DE NEGOCIO

**RN-CAD-013-01**: Fabricante deve ter nome único
[Implementacao: ver documentacao tecnica]

**RN-CAD-013-02**: Part Number único por fabricante
- Mesmo part number pode existir em fabricantes diferentes
- Dentro do mesmo fabricante, part number deve ser único

**RN-CAD-013-03**: Modelos EOL não podem ser homologados
- Ao marcar modelo como EOL, desmarcar homologação automaticamente
- Alertar usuário sobre ativos existentes com este modelo

**RN-CAD-013-04**: Especificações técnicas em JSON válido
- Validar sintaxe JSON antes de salvar
- Permitir campos customizados por categoria

**RN-CAD-013-05**: Histórico de preços imutável
- Registros de preço não podem ser alterados/excluídos
- Novo preço = novo registro no histórico

---

---

---

## REFERENCIAS AO LEGADO

| Legado | Moderno |
|--------|---------|
| `WSMarcasModelos.CadastrarFabricante()` | `POST /api/marcas-modelos/fabricantes` |
| `Modelos.aspx` | `/marcas-modelos` (Angular) |

---

---

---

## BANCO DE DADOS LEGADO

[Ver banco de dados legado para detalhes do schema]

---

---

---

## WEBSERVICES LEGADO (VB.NET)

---

---

[â† Voltar ao Indice](./README.md)

---

[â† Voltar ao Indice](./README.md)## RF-CAD-011 (Locais/Endereços)

## TELAS DO LEGADO

### Nota
Não foram encontradas telas específicas de cadastro de locais/endereços no legado. O endereço é gerenciado como parte de outras entidades (Empresa, Filial, Consumidor, Fornecedor).

**Modernização Recomendada**:
- ✅ Criar componente reutilizável de endereço (Angular component)
- ✅ Integração com ViaCEP, Google Maps
- ✅ Validação de CEP, coordenadas GPS
- ✅ Histórico de mudanças de endereço
- ✅ Geolocalização automática

---

## RF-CAD-012 (Categorias de Ativos)

## TELAS DO LEGADO

### Nota
Categorias de ativos são gerenciadas através de "Grupo" e "Sub Grupo" na tela Ativo_Tipo.aspx (ver RF-CAD-013).

---

## RF-CAD-013 (Tipos de Ativos)

## TELAS DO LEGADO

### Tela: Ativo_Tipo.aspx
**Localização**: `D:\IC2\ic1_legado\IControlIT\IControlIT\Cadastro\Ativo_Tipo.aspx`

**Campos da Tela**:
1. **Descrição** (txtDescricao) - TextBox obrigatório, MaxLength=50
2. **Grupo** (cboGrupoAtivoTipo) - DropDownList obrigatório
3. **Imagem** (txtImagem) - TextBox obrigatório, MaxLength=50
4. **Photo** (txtPhoto) - TextBox obrigatório, MaxLength=50
5. **Estoque Regulador** (txtEstoqueRegulador) - TextBox numérico, MaxLength=5
6. **Tipo Grupo** (cboTipoGrupo) - DropDownList
7. **Sub Grupo** (cboSubGrupo) - DropDownList
8. **Fornecedor** (cboConglomerado) - DropDownList

#### O Que Modernizar
1. **UI/UX**: Angular + PrimeNG, upload de imagens drag-and-drop
2. **Campos**: Adicionar Código, Categoria, Subcategoria, Vida Útil (meses)
3. **Imagens**: Upload de múltiplas imagens, preview, crop/resize
4. **Atributos Customizados**: Grid dinâmico de atributos (ex: RAM, HD, Processador para computadores)
5. **Depreciação**: Configurar taxa de depreciação mensal
6. **Fornecedores**: Multi-select de fornecedores homologados
7. **Estoque**: Alertas visuais quando estoque < regulador
8. **Performance**: Cache de tipos (Redis - 1 hora)

---

## RF-CAD-013 (Marcas/Modelos)

## TELAS DO LEGADO

### Tela: Ativo_Modelo.aspx
**Localização**: `D:\IC2\ic1_legado\IControlIT\IControlIT\Cadastro\Ativo_Modelo.aspx`

**Campos da Tela**:
1. **Descrição** (txtDescricao) - TextBox obrigatório, MaxLength=50
2. **Tipo do ativo** (cboAtivoTipo) - DropDownList obrigatório
3. **Fabricante** (cboAtivoFabricante) - DropDownList obrigatório

#### O Que Modernizar
1. **UI/UX**: Angular + PrimeNG, autocomplete de modelos existentes
2. **Campos**: Adicionar Código do Modelo, Ano Lançamento, Descontinuado (Sim/Não)
3. **Especificações Técnicas**: Grid dinâmico (Atributo, Valor, Unidade)
4. **Imagens**: Upload de múltiplas fotos do modelo
5. **Preço Referência**: Valor de mercado (atualizado mensalmente)
6. **Fornecedores**: Lista de fornecedores que comercializam este modelo
7. **Ativos Existentes**: Grid de ativos cadastrados com este modelo
8. **Comparação**: Comparar especificações de modelos similares
9. **Performance**: Cache de fabricantes (Redis - 2 horas)

---

## RF-AUD-002, RF-CFG-001, RF-REF-048, RF-SIS-001, RF-SIS-002 (RFs de Sistema)

## TELAS DO LEGADO

### Nota
RFs de Sistema (Auditoria, Configurações, i18n, Logs, Monitoramento) geralmente não possuem telas de cadastro tradicionais no legado. São funcionalidades transversais implementadas via:
- Web.config (configurações)
- Logs em arquivos .txt
- Consultas SQL diretas ao banco

**Modernização Recomendada**:

### RF-AUD-002 (Auditoria/Logs):
- ✅ Tela de consulta de logs com filtros avançados (usuário, ação, período, entidade)
- ✅ Visualização de diff (antes/depois) das alterações
- ✅ Exportar logs para Excel/CSV
- ✅ Dashboard de auditoria (ações mais comuns, usuários mais ativos)
- ✅ Elasticsearch para busca full-text em logs
- ✅ Retenção configurável (ex: 90 dias online, 7 anos em cold storage)

### RF-CFG-001 (Parâmetros do Sistema):
- ✅ Tela de configurações agrupadas por categoria
- ✅ Tipos: String, Number, Boolean, JSON, Encrypted
- ✅ Validação de valores (regex, min/max, enum)
- ✅ Histórico de alterações de parâmetros
- ✅ Importar/exportar configurações (JSON)
- ✅ Cache de configurações (Redis - invalidar ao alterar)

### RF-REF-048 (Internacionalização):
- ✅ Tela de gestão de idiomas suportados
- ✅ Editor de traduções (grid: Chave, PT-BR, EN-US, ES-ES)
- ✅ Importar/exportar traduções (JSON, XLSX)
- ✅ Detecção de chaves faltantes (missing translations)
- ✅ Tradução automática via Google Translate API
- ✅ Pluralização e formatação de moeda/data por locale

### RF-SIS-001 (Configurações):
- ✅ Interface web para appsettings.json
- ✅ Validação de JSON antes de salvar
- ✅ Backup automático antes de alterar
- ✅ Ambiente-specific (dev, staging, prod)
- ✅ Azure Key Vault para secrets

### RF-SIS-002 (Logs/Monitoramento):
- ✅ Dashboard em tempo real (SignalR)
- ✅ Métricas: Requests/s, Erros/min, Tempo médio de resposta
- ✅ Gráficos de linha (últimas 24h, 7 dias, 30 dias)
- ✅ Alertas configuráveis (erro rate > 5%, response time > 3s)
- ✅ Integração com Application Insights, Grafana
- ✅ Health checks de dependências (DB, Redis, APIs externas)
