rf: RF066
fase: Fase-2-Cadastros-e-Servicos-Transversais
epic: EPIC005-NOT-Notificacoes
titulo: Notificacoes e Alertas


skeleton:
  criado: True
  data_criacao: "2025-12-27"
  observacao: "Backend parcialmente implementado: 15% completo. Implementado: 4 endpoints basicos (listar notificacoes, enviar, marcar lida, marcar todas lidas - Notifications.cs). Faltam: Canais multi-canal (Email/SMS/Push/WhatsApp/InApp), preferencias de usuario por tipo e canal, priorizacao e quiet hours (nao enviar 22h-8h), agrupamento inteligente (consolidar 5+ notificacoes), retry automatico com backoff exponencial, notificacoes in-app tempo real (SignalR), integracao com templates RF063, rastreamento de entrega, notificacoes obrigatorias nao desabilitaveis, digest diario as 18h, acoes rapidas (aprovar/rejeitar), expiracao automatica (30/90 dias), rate limiting 50/dia, integracao WhatsApp Business."
documentacao:
  versao: "2.0"
  data_migracao: "2025-12-30"
  rf: True
  rf_yaml: True
  rl: True
  rl_yaml: True
  uc: True
  md: True
  wf: True
  arquivos_obrigatorios_presentes: True
  separacao_rf_rl_validada: True

desenvolvimento:
  backend:
    status: skeleton   # not_started | in_progress | done | skeleton
    contrato_validado: true
    contrato: CONTRATO-EXECUCAO-BACKEND
    versao_contrato: v1.0
    branch: null
  frontend:
    status: done
    branch: null

testes:
  backend: not_run        # not_run | pass | fail
  frontend: not_run
  e2e: not_run
  seguranca: not_run

documentacao_testes:
  backend: True
  frontend: False
  e2e: False
  seguranca: False

testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: False       # True quando QA executou
  aprovado: False        # True quando usuario aprovou

devops:
  work_item_id: 532
  test_plan_id: null
  last_sync: "2025-12-27 15:32:01"
  board_column: "Skeleton"

governanca:
  contrato_ativo: CONTRATO-EXECUCAO-TESTES
  ultimo_manifesto: "2025-12-30 - Migração v1.0 → v2.0 completa (separação RF/RL)"

validacoes:
  rf_uc_cobertura_total: true       # 13 funcionalidades → 13 UCs (100%)
  uc_md_consistente: true
  uc_wf_consistente: true
  rf_yaml_sincronizado: true
  uc_yaml_sincronizado: true

# ==============================================================================
# VALIDAÇÃO SEPARAÇÃO RF/RL (OBRIGATÓRIA v2.0)
# ==============================================================================

separacao_rf_rl:
  rf_limpo: True                # RF não contém conteúdo legado
  rl_completo: True             # RL contém TODA memória legado
  itens_com_destino: True       # 100% itens RL têm campo destino
  validador_executado: False    # Executar: python docs/tools/docs/validator-rl.py RF066

# ==============================================================================
# ESTATÍSTICAS MIGRAÇÃO
# ==============================================================================

estatisticas:
  total_rns: 15                 # Regras de negócio convertidas
  total_funcionalidades: 13     # Funcionalidades descritas
  total_endpoints_api: 12       # Endpoints REST documentados
  total_permissoes_rbac: 12     # Permissões RBAC definidas
  total_integracoes_obrigatorias: 4  # i18n, auditoria, RBAC, Central
  itens_legado_rastreados: 28   # Itens em RL-RF066.yaml
  codigo_linhas_removidas: 700  # Linhas de código C# extraídas do RF

  linhas_documentacao:
    rf_md: 504        # RF066.md (preview - seções 1-3)
    rf_yaml: 920      # RF066.yaml
    rl_md: 851        # RL-RF066.md
    rl_yaml: 688      # RL-RF066.yaml
    uc_md: 1964       # UC-RF066.md v2.0 (13 UCs - 100% cobertura)
    uc_yaml: 923      # UC-RF066.yaml v2.0
    total: 5849

# ==============================================================================
# HISTÓRICO DE EXECUÇÕES (AUDITORIA)
# ==============================================================================
execucoes:
  - contrato: "CONTRATO-GERACAO-DOCS-UC"
    data: "2025-12-31 18:01:22"
    aprovado: true
    executor: "agente-ia"
    observacao: "UC v2.0 criado com 13 UCs (100% cobertura). Validador passou com 0 gaps. Migração v1.0→v2.0 completa."
