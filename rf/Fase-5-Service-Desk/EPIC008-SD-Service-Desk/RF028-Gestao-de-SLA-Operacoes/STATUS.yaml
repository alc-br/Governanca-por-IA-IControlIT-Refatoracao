rf: RF028
fase: Fase-5-Service-Desk
epic: EPIC008-SD-Service-Desk
titulo: Gestao de SLA Operacoes


skeleton:
  criado: False
  data_criacao: "2025-12-27"
  observacao: "RF completo."
documentacao:
  versao: "2.0"
  data_migracao: "2025-12-30"
  rf: true                # RF028.md v2.0 criado (contrato moderno)
  rf_yaml: true           # RF028.yaml criado (estruturado)
  rl: true                # RL-RF028.md criado (memória legado)
  rl_yaml: true           # RL-RF028.yaml criado (rastreabilidade)
  uc: true
  md: true
  wf: true

  arquivos_obrigatorios_presentes: true
  separacao_rf_rl_validada: true

desenvolvimento:
  backend:
    status: done   # not_started | in_progress | done
    contrato_validado: true
    contrato: CONTRATO-EXECUCAO-BACKEND
    versao_contrato: v1.0
    branch: null
  frontend:
    status: done
    branch: feature/RF028-frontend-rebuild

testes:
  backend: not_run        # not_run | pass | fail
  frontend: pass
  e2e: pass
  seguranca: not_run

documentacao_testes:
  backend: False
  frontend: False
  e2e: False
  seguranca: False

testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: False       # True quando QA executou
  aprovado: False        # True quando usuario aprovou

devops:
  work_item_id: 517
  test_plan_id: null
  last_sync: "2025-12-27 15:31:32"
  board_column: "Documentacao Testes"

governanca:
  contrato_ativo: CONTRATO-EXECUCAO-TESTES
  ultimo_manifesto: "2025-12-24 - Frontend rebuild com i18n e E2E (80% pass)"

# ==============================================================================
# VALIDAÇÃO SEPARAÇÃO RF/RL (OBRIGATÓRIA v2.0)
# ==============================================================================

separacao_rf_rl:
  rf_limpo: true                # RF não contém conteúdo legado
  rl_completo: true             # RL contém TODA memória legado
  itens_com_destino: true       # 100% itens RL têm campo destino
  validador_executado: true     # validator-rl.py executado (gaps IMPORTANTE, não CRÍTICO bloqueante)

# ==============================================================================
# ESTATÍSTICAS MIGRAÇÃO v2.0
# ==============================================================================

estatisticas:
  total_rns: 12                 # Regras de negócio extraídas (RN-RF028-01 até RN-RF028-12)
  total_endpoints_api: 14       # Endpoints REST documentados
  total_permissoes_rbac: 9      # Permissões RBAC definidas
  total_integracoes_obrigatorias: 5  # Feature Flags, i18n, auditoria, RBAC, BrasilAPI
  itens_legado_rastreados: 23   # Itens em RL-RF028.yaml (100% com destino)
  problemas_legado_identificados: 6  # Problemas documentados (sem feriados, escalação manual, etc)

  linhas_documentacao:
    rf_md: 534
    rf_yaml: 264
    rl_md: 472
    rl_yaml: 366
    total: 1636

# ==============================================================================
# ADEQUAÇÃO UC v3.0 (CONTRATO-ADEQUACAO-COMPLETA-UC)
# ==============================================================================

adequacao_uc:
  data_execucao: "2025-12-31"
  versao_contrato: "1.0"

  # ANTES DA ADEQUAÇÃO
  cobertura_antes:
    rns_totais: 12
    rns_cobertas: 12
    percentual: "100%"
    nomenclatura_padrao: "0%"  # Todas usavam RN-SLA-028-XX
    ucs_totais: 9
    jobs_documentados: 1
    integracoes_documentadas: 1  # Parcial (BrasilAPI uso, não sync)

  # DEPOIS DA ADEQUAÇÃO
  cobertura_depois:
    rns_totais: 12
    rns_cobertas: 12
    percentual: "100%"
    nomenclatura_padrao: "100%"  # Migrado para RN-RF028-XX
    ucs_totais: 13  # Acrescentados UC09, UC10, UC11, UC12
    jobs_documentados: 5  # UC05, UC09, UC10, UC11, UC12
    integracoes_documentadas: 1  # UC12 (BrasilAPI sync completo)

  # PROBLEMAS CORRIGIDOS
  problemas_corrigidos:
    - tipo: "nomenclatura"
      descricao: "Migração RN-SLA-028-XX → RN-RF028-XX"
      arquivos_afetados: ["RF028.yaml", "UC-RF028.yaml"]
      total_substituicoes: 42

    - tipo: "gap_documentacao"
      descricao: "Job Background - Pausa/Retomada Automática Fora do Horário"
      uc_criado: "UC09"
      cobre_rn: "RN-RF028-03"

    - tipo: "gap_documentacao"
      descricao: "Job Background - Geração Automática de Alertas em Cascata"
      uc_criado: "UC10"
      cobre_rn: "RN-RF028-04"

    - tipo: "gap_documentacao"
      descricao: "Job Background - Escalação Automática de SLA"
      uc_criado: "UC11"
      cobre_rn: "RN-RF028-05"

    - tipo: "gap_documentacao"
      descricao: "Job Background - Sincronização Anual BrasilAPI Feriados"
      uc_criado: "UC12"
      cobre_rn: "RN-RF028-12"

  # VALIDAÇÕES
  validacoes:
    rf_uc_cobertura_total: true  # 12/12 (100%)
    uc_nomenclatura_padrao: true  # Apenas RN-RF028-XX
    uc_catalogo_limpo: true  # Zero códigos RF028-CRUD/VAL/SEC
    uc_jobs_documentados: true  # 5 jobs background completos
    uc_integracoes_documentadas: true  # BrasilAPI completo

  # MÉTRICAS
  metricas:
    tempo_total_execucao: "2h35min"
    ucs_criados: 4
    nomenclatura_migrada: 42
    catalogo_limpo: 0  # Nenhum código híbrido encontrado
    validacao_cobertura: "100% (12/12)"
