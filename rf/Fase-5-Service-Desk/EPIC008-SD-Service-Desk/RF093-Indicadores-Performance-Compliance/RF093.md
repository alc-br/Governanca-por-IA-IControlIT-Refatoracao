# RF093 - Indicadores de Performance e Compliance

**ID do Documento:** RF093
**Versão:** 2.0
**Data de Criação:** 2025-12-28
**Última Atualização:** 2025-12-30
**Status:** Em Elaboração
**Responsável:** Equipe de Desenvolvimento IControlIT
**Épico:** EPIC008-SD-Service-Desk
**Fase:** Fase 5 - Service Desk

---

## Seção 1: Visão Geral

### 1.1 Objetivo do Requisito

Implementar um sistema completo de gestão de Indicadores-Chave de Performance (KPIs - Key Performance Indicators) para o IControlIT, permitindo a definição, cálculo automático, acompanhamento e análise de métricas críticas de negócio relacionadas a SLA, contratos, ativos, custos e compliance.

### 1.2 Escopo Funcional

**Incluído no Escopo:**

- Definição e gerenciamento de KPIs personalizados com fórmulas configuráveis
- Cálculo automático periódico de indicadores via agendamento em background
- Definição de metas com limites de alerta (verde, amarelo, vermelho)
- Dashboards em tempo real com atualização automática
- Sistema de alertas para desvios de meta
- Trilha de auditoria completa de cálculos e alterações
- Integração com sistemas de SLA, Contratos, Ativos e Custos
- Exportação para ferramentas de BI (Power BI, Tableau)
- Validação avançada de fórmulas customizadas
- Suporte a indicadores de compliance (SOX, LGPD, ISO 27001)

**Fora do Escopo:**

- Machine Learning para predição de KPIs (release futura)
- Integração com sistemas externos de BI além de Power BI e Tableau (release futura)
- Criação automática de ações corretivas baseadas em alertas (release futura)

### 1.3 Principais Benefícios

- Visibilidade em tempo real do desempenho operacional
- Identificação proativa de problemas e desvios
- Tomada de decisão baseada em dados objetivos
- Compliance com padrões regulatórios (SOX, LGPD, ISO 27001)
- Redução de riscos operacionais e financeiros
- Automação completa de cálculos manuais
- Histórico completo para análise de tendências

### 1.4 Stakeholders

- **Gestores de TI:** Acompanhamento de performance de serviços e ativos
- **Equipe Financeira:** Monitoramento de custos e TCO
- **Equipe de Compliance:** Verificação de aderência a normas
- **Service Desk:** Acompanhamento de SLA e qualidade de atendimento
- **Alta Gestão:** Visão estratégica através de dashboards executivos

---

## Seção 2: Funcionalidades

### 2.1 Gerenciamento de KPIs

#### 2.1.1 Cadastro de Indicadores

O sistema permite criar indicadores personalizados com as seguintes propriedades:

- **Código único:** Identificador alfanumérico do KPI
- **Nome e descrição:** Identificação clara do propósito
- **Tipo de indicador:**
  - SLA (Service Level Agreement)
  - Contrato (Performance contratual)
  - Ativo (Utilização, disponibilidade, TCO)
  - Custo (Despesas, ROI, economia)
  - Compliance (Aderência a normas)
  - Customizado (Qualquer outra métrica)
- **Fórmula de cálculo:** Expressão matemática configurável
- **Unidade de medida:** Percentual, valor monetário, quantidade, tempo
- **Tipo de agregação:** Soma, média, mínimo, máximo, contagem
- **Periodicidade:** Horária, diária, semanal, mensal, anual
- **Status:** Ativo, inativo, em teste

#### 2.1.2 Definição de Fórmulas

As fórmulas podem utilizar:

- **Operadores matemáticos:** +, -, *, /, (, )
- **Funções:** SUM(), AVG(), COUNT(), MIN(), MAX()
- **Campos de referência:** Valores de outras tabelas/indicadores
- **Constantes numéricas**
- **Operadores lógicos:** IF(), CASE()

Exemplos de fórmulas válidas:
- `(SLA_Resolvidos / SLA_Total) * 100`
- `SUM(Custos_Mensais) / COUNT(Ativos_Ativos)`
- `AVG(Tempo_Resolucao) / SLA_Meta_Horas`

#### 2.1.3 Validação de Fórmulas

O sistema valida automaticamente:

- Sintaxe matemática correta
- Balanceamento de parênteses
- Existência de campos referenciados
- Tipos de dados compatíveis
- Divisão por zero
- Referências circulares

Fórmulas inválidas são rejeitadas com mensagem de erro explicativa.

### 2.2 Metas e Limites de Alerta

#### 2.2.1 Configuração de Metas

Para cada KPI podem ser definidas:

- **Meta principal:** Valor objetivo a ser atingido
- **Limite verde (alcançado):** Acima deste valor = objetivo cumprido
- **Limite amarelo (atenção):** Entre amarelo e verde = requer atenção
- **Limite vermelho (crítico):** Abaixo deste valor = situação crítica
- **Vigência:** Data inicial e final da meta
- **Justificativa:** Razão da definição da meta

#### 2.2.2 Tipos de Comparação

As metas podem ser configuradas para:

- **Maximização:** Quanto maior, melhor (ex: disponibilidade)
- **Minimização:** Quanto menor, melhor (ex: tempo de resposta)
- **Faixa ideal:** Dentro de um intervalo específico (ex: utilização de CPU entre 60%-80%)

### 2.3 Cálculo Automático

#### 2.3.1 Agendamento em Background

- Utiliza sistema de jobs em background (Hangfire)
- Cálculos executados automaticamente conforme periodicidade definida
- Suporta execução paralela de múltiplos KPIs
- Retry automático em caso de falha temporária
- Notificação de erros críticos de cálculo

#### 2.3.2 Processo de Cálculo

Para cada execução:

1. Sistema identifica KPIs ativos na periodicidade correspondente
2. Coleta dados de origem conforme fórmula
3. Executa cálculo matemático
4. Compara resultado com metas configuradas
5. Determina status (verde/amarelo/vermelho)
6. Armazena resultado com timestamp completo
7. Registra auditoria da execução
8. Dispara alertas se houver desvio
9. Notifica dashboards em tempo real via SignalR

### 2.4 Indicadores por Categoria

#### 2.4.1 Indicadores de SLA (RF028, RF029)

Baseados em solicitações de Service Desk:

- **Percentual de cumprimento de SLA:** (Atendimentos no prazo / Total de atendimentos) * 100
- **Tempo médio de primeira resposta:** AVG(Tempo até primeiro atendimento)
- **Tempo médio de resolução:** AVG(Tempo até resolução final)
- **Taxa de reabertura:** (Solicitações reabertas / Total resolvido) * 100
- **Satisfação do cliente:** AVG(Avaliações de satisfação)

#### 2.4.2 Indicadores de Contratos (RF023, RF090)

Baseados em contratos ativos:

- **Percentual de contratos vigentes:** (Contratos ativos / Total de contratos) * 100
- **Custos contratuais totais:** SUM(Valor mensal de contratos)
- **Economia obtida em renegociações:** SUM(Diferença entre valor anterior e novo)
- **Taxa de renovação automática:** (Renovações automáticas / Total de renovações) * 100
- **Contratos próximos ao vencimento:** COUNT(Contratos com vencimento < 90 dias)

#### 2.4.3 Indicadores de Ativos (RF028)

Baseados em inventário de ativos:

- **Taxa de utilização:** (Ativos em uso / Total de ativos) * 100
- **TCO (Total Cost of Ownership):** SUM(Custo aquisição + manutenção + suporte) / Vida útil
- **Disponibilidade:** (Uptime / Total de tempo) * 100
- **Taxa de falhas:** (Ativos com falha / Total de ativos) * 100
- **Idade média do parque:** AVG(Data atual - Data de aquisição)

#### 2.4.4 Indicadores de Custos (RF094)

Baseados em lançamentos financeiros:

- **Custo total de TI:** SUM(Todos os custos de TI no período)
- **Custo per capita:** Custo total de TI / Número de colaboradores
- **Variação orçamentária:** ((Custo real - Custo previsto) / Custo previsto) * 100
- **ROI de projetos:** ((Benefícios - Custos) / Custos) * 100
- **Tendência de crescimento:** Comparação mês a mês

#### 2.4.5 Indicadores de Compliance

Baseados em requisitos regulatórios:

- **Aderência SOX:** (Controles implementados / Controles requeridos) * 100
- **Aderência LGPD:** (Requisitos atendidos / Total de requisitos) * 100
- **Aderência ISO 27001:** (Controles implementados / Controles ISO) * 100
- **Incidentes de segurança:** COUNT(Incidentes no período)
- **Tempo médio de resposta a incidentes:** AVG(Tempo de contenção)

### 2.5 Alertas Automáticos

#### 2.5.1 Geração de Alertas

Alertas são gerados automaticamente quando:

- KPI atinge zona amarela (atenção)
- KPI atinge zona vermelha (crítico)
- KPI melhora de zona vermelha para amarela/verde
- KPI ultrapassa meta definida
- Falha no cálculo de KPI crítico

#### 2.5.2 Notificações

Para cada alerta:

- Registro na tabela de alertas com timestamp
- Notificação em tempo real no dashboard (SignalR)
- E-mail para responsáveis configurados (opcional)
- Push notification no aplicativo móvel (opcional)
- Integração com sistema de tickets (opcional)

#### 2.5.3 Reconhecimento de Alertas

Usuários podem:

- Visualizar alertas pendentes
- Reconhecer alertas (marcar como "Visto")
- Adicionar comentários explicativos
- Criar ação corretiva vinculada
- Consultar histórico de alertas

### 2.6 Dashboards em Tempo Real

#### 2.6.1 Dashboard Executivo

Visão consolidada com:

- Cards de resumo (total de KPIs, críticos, atenção, OK)
- Gráficos de tendência (últimos 12 meses)
- Lista de KPIs críticos com destaque visual
- Comparativo meta vs realizado
- Top 5 melhores e piores indicadores

#### 2.6.2 Dashboard por Categoria

Um dashboard específico para cada tipo:

- SLA Dashboard
- Contratos Dashboard
- Ativos Dashboard
- Custos Dashboard
- Compliance Dashboard

Cada dashboard exibe:

- Indicadores específicos da categoria
- Gráficos customizados por tipo
- Drill-down para detalhes
- Exportação para PDF/Excel

#### 2.6.3 Atualização em Tempo Real

- Utiliza SignalR para push de atualizações
- Sem necessidade de refresh manual
- Indicador visual de última atualização
- Reconexão automática em caso de perda de conexão

### 2.7 Auditoria Completa

#### 2.7.1 Trilha de Cálculos

Para cada cálculo executado, registra:

- Data e hora da execução
- Valor calculado
- Fórmula utilizada
- Dados de entrada (snapshot)
- Resultado da comparação com meta
- Status resultante (verde/amarelo/vermelho)
- Tempo de execução
- Erros ocorridos (se houver)

#### 2.7.2 Trilha de Alterações

Para alterações em KPIs ou metas, registra:

- Usuário responsável
- Data e hora da alteração
- Valores anteriores
- Valores novos
- Justificativa da alteração
- IP de origem

### 2.8 Exportação para BI

#### 2.8.1 Power BI

- Endpoint OData para consumo direto
- Refresh automático via API
- Dataset pré-configurado com relacionamentos
- Templates de relatórios (.pbix)
- Suporte a DirectQuery e Import

#### 2.8.2 Tableau

- Conector Web Data Connector (WDC)
- API REST para extração de dados
- Atualização incremental
- Templates de dashboards (.twb)

#### 2.8.3 Exportação Manual

- Exportação de dados para CSV
- Exportação de dashboards para PDF
- Exportação de gráficos para imagem (PNG, SVG)
- Agendamento de exportações periódicas

---

## Seção 3: Casos de Uso

### UC00 - Listar KPIs

**Ator:** Gestor, Analista

**Pré-condições:**
- Usuário autenticado com permissão de leitura de KPIs

**Fluxo Principal:**
1. Usuário acessa módulo de KPIs
2. Sistema exibe lista paginada de KPIs cadastrados
3. Para cada KPI exibe: código, nome, tipo, último valor calculado, status atual
4. Usuário pode filtrar por tipo, status, categoria
5. Usuário pode ordenar por nome, data de cálculo, valor
6. Usuário pode buscar por código ou nome

**Pós-condições:**
- Lista de KPIs apresentada

### UC01 - Cadastrar KPI

**Ator:** Administrador do Sistema, Gestor de KPIs

**Pré-condições:**
- Usuário autenticado com permissão de criação de KPIs

**Fluxo Principal:**
1. Usuário acessa formulário de cadastro de KPI
2. Sistema solicita dados obrigatórios:
   - Código único
   - Nome
   - Tipo de indicador
   - Fórmula de cálculo
   - Unidade de medida
   - Tipo de agregação
   - Periodicidade
3. Sistema valida fórmula em tempo real
4. Usuário define metas e limites de alerta
5. Usuário define responsáveis por notificações
6. Usuário salva o KPI
7. Sistema valida dados e grava registro
8. Sistema agenda primeira execução conforme periodicidade
9. Sistema exibe mensagem de sucesso

**Fluxos Alternativos:**

**FA01 - Fórmula Inválida:**
1. Sistema detecta erro de sintaxe na fórmula
2. Sistema exibe mensagem de erro específica
3. Usuário corrige fórmula
4. Retorna ao passo 3

**FA02 - Código Duplicado:**
1. Sistema detecta código já existente
2. Sistema exibe mensagem de erro
3. Usuário altera código
4. Retorna ao passo 7

**Fluxos de Exceção:**

**FE01 - Campos Obrigatórios Não Preenchidos:**
1. Sistema detecta campos obrigatórios vazios
2. Sistema destaca campos em vermelho
3. Sistema exibe mensagem: "Preencha todos os campos obrigatórios"
4. Usuário preenche campos
5. Retorna ao passo 6

**Pós-condições:**
- KPI cadastrado e agendado para cálculo automático

**Regras de Negócio:**
- RN-KPI-093-01: Estrutura de KPI
- RN-KPI-093-02: Validação de Fórmulas Customizadas

### UC02 - Editar KPI

**Ator:** Administrador do Sistema, Gestor de KPIs

**Pré-condições:**
- Usuário autenticado com permissão de edição de KPIs
- KPI existe no sistema

**Fluxo Principal:**
1. Usuário seleciona KPI da lista
2. Sistema exibe formulário preenchido com dados atuais
3. Usuário altera campos desejados
4. Sistema valida alterações
5. Usuário salva alterações
6. Sistema solicita justificativa da alteração
7. Usuário informa justificativa
8. Sistema registra auditoria da alteração
9. Sistema atualiza agendamento se periodicidade foi alterada
10. Sistema exibe mensagem de sucesso

**Fluxos Alternativos:**

**FA01 - Alteração de Fórmula:**
1. Usuário altera fórmula de cálculo
2. Sistema recalcula KPI imediatamente com nova fórmula
3. Sistema exibe comparativo: valor anterior vs novo valor
4. Usuário confirma alteração
5. Retorna ao passo 7

**Pós-condições:**
- KPI atualizado
- Auditoria registrada
- Agendamento atualizado (se aplicável)

**Regras de Negócio:**
- RN-KPI-093-09: Auditoria Completa de Cálculos

### UC03 - Visualizar Detalhes do KPI

**Ator:** Gestor, Analista

**Pré-condições:**
- Usuário autenticado com permissão de leitura de KPIs
- KPI existe no sistema

**Fluxo Principal:**
1. Usuário seleciona KPI da lista
2. Sistema exibe tela de detalhes com:
   - Informações cadastrais completas
   - Gráfico de histórico de valores (últimos 12 meses)
   - Status atual (verde/amarelo/vermelho)
   - Último valor calculado e data/hora
   - Metas configuradas
   - Alertas ativos relacionados
   - Histórico de alterações (auditoria)
   - Próxima execução agendada
3. Usuário pode exportar dados para CSV
4. Usuário pode visualizar detalhes de execuções anteriores
5. Usuário pode navegar para itens relacionados (alertas, metas)

**Pós-condições:**
- Detalhes do KPI visualizados

### UC04 - Configurar Metas

**Ator:** Gestor de KPIs

**Pré-condições:**
- Usuário autenticado com permissão de configuração de metas
- KPI existe no sistema

**Fluxo Principal:**
1. Usuário acessa configuração de metas do KPI
2. Sistema exibe formulário de metas
3. Usuário define:
   - Meta principal
   - Limite verde (alcançado)
   - Limite amarelo (atenção)
   - Limite vermelho (crítico)
   - Vigência (data inicial e final)
   - Tipo de comparação (maximização/minimização/faixa)
4. Sistema valida consistência dos limites
5. Usuário adiciona justificativa
6. Usuário salva configuração
7. Sistema registra nova meta
8. Sistema recalcula status do KPI com nova meta
9. Sistema exibe mensagem de sucesso

**Fluxos Alternativos:**

**FA01 - Limites Inconsistentes:**
1. Sistema detecta limites fora da ordem lógica
2. Sistema exibe mensagem: "Limite verde deve ser maior que amarelo e vermelho (para maximização)"
3. Usuário corrige valores
4. Retorna ao passo 4

**Pós-condições:**
- Meta configurada
- Status do KPI reavaliado
- Auditoria registrada

### UC05 - Visualizar Dashboard

**Ator:** Gestor, Analista, Alta Gestão

**Pré-condições:**
- Usuário autenticado com permissão de visualização de dashboards

**Fluxo Principal:**
1. Usuário acessa dashboard de KPIs
2. Sistema exibe dashboard conforme perfil:
   - Executivo: visão consolidada
   - Gestor: categoria específica (SLA, Contratos, etc.)
   - Analista: visão detalhada
3. Dashboard é carregado com dados em tempo real
4. Sistema estabelece conexão SignalR para atualizações automáticas
5. Usuário interage com gráficos (zoom, drill-down, filtros)
6. Sistema atualiza visualização conforme interação
7. Notificações de novos alertas aparecem automaticamente
8. Usuário pode exportar dashboard para PDF

**Pós-condições:**
- Dashboard visualizado
- Conexão em tempo real mantida

**Regras de Negócio:**
- RN-KPI-093-03: Cálculo Automático via Hangfire (atualização dos dados)

### UC06 - Reconhecer Alerta

**Ator:** Gestor, Responsável pelo KPI

**Pré-condições:**
- Usuário autenticado com permissão de gestão de alertas
- Alerta ativo existe no sistema

**Fluxo Principal:**
1. Usuário acessa lista de alertas pendentes
2. Sistema exibe alertas ordenados por criticidade e data
3. Usuário seleciona alerta
4. Sistema exibe detalhes:
   - KPI relacionado
   - Valor que gerou o alerta
   - Meta configurada
   - Desvio calculado
   - Data/hora da geração
5. Usuário adiciona comentário explicativo (opcional)
6. Usuário marca alerta como "Reconhecido"
7. Sistema registra reconhecimento com timestamp e usuário
8. Sistema remove alerta da lista de pendentes
9. Sistema mantém histórico para auditoria
10. Sistema exibe mensagem de sucesso

**Fluxos Alternativos:**

**FA01 - Criar Ação Corretiva:**
1. Após visualizar alerta, usuário opta por criar ação corretiva
2. Sistema abre formulário de ação vinculado ao alerta
3. Usuário define responsável e prazo
4. Sistema registra ação e vincula ao alerta
5. Retorna ao passo 6

**Pós-condições:**
- Alerta reconhecido
- Histórico atualizado
- Ação corretiva criada (se aplicável)

**Regras de Negócio:**
- RN-KPI-093-08: Alertas Automáticos de Desvio

### UC07 - Exportar para Power BI

**Ator:** Analista de BI, Gestor

**Pré-condições:**
- Usuário autenticado com permissão de exportação
- Power BI configurado

**Fluxo Principal:**
1. Usuário acessa módulo de exportação
2. Sistema exibe opções de exportação
3. Usuário seleciona "Exportar para Power BI"
4. Sistema gera endpoint OData específico
5. Sistema exibe instruções de conexão:
   - URL do endpoint
   - Chave de API
   - Template .pbix (link para download)
6. Usuário configura conexão no Power BI Desktop
7. Dados são carregados automaticamente
8. Usuário cria relatórios personalizados

**Pós-condições:**
- Dados disponíveis no Power BI
- Refresh automático configurado

**Regras de Negócio:**
- RN-KPI-093-10: Exportação para Power BI e Tableau

---

## Seção 4: Regras de Negócio

### RN-KPI-093-01: Estrutura de KPI

**Descrição:**
Todo KPI deve possuir obrigatoriamente: código único, nome, descrição, tipo de indicador, fórmula de cálculo, unidade de medida, tipo de agregação e periodicidade. A fórmula define como o valor do indicador é calculado automaticamente.

**Categoria:** Estrutura de Dados

**Prioridade:** ALTA

**Impacto:** Permite padronização e rastreabilidade de todos os indicadores do sistema

**Validação:**
- Sistema rejeita cadastro de KPI sem qualquer campo obrigatório
- Sistema garante unicidade do código
- Sistema valida tipo de indicador contra lista pré-definida

---

### RN-KPI-093-02: Validação de Fórmulas Customizadas

**Descrição:**
Fórmulas de cálculo de KPIs devem ser validadas antes da gravação. O sistema verifica: sintaxe matemática correta, balanceamento de parênteses, existência de campos referenciados, ausência de divisão por zero e ausência de referências circulares. Fórmulas inválidas devem ser rejeitadas com mensagem explicativa.

**Categoria:** Validação

**Prioridade:** CRÍTICA

**Impacto:** Evita erros de cálculo e garante confiabilidade dos indicadores

**Validação:**
- Sistema executa parser de expressões matemáticas
- Sistema verifica existência de todos os campos referenciados
- Sistema detecta referências circulares (KPI_A usa KPI_B que usa KPI_A)
- Sistema simula cálculo com dados de teste antes de salvar

---

### RN-KPI-093-03: Cálculo Automático via Hangfire

**Descrição:**
KPIs devem ser calculados automaticamente conforme periodicidade definida (horária, diária, semanal, mensal, anual). O sistema utiliza Hangfire para agendamento e execução em background. Cálculos são executados de forma assíncrona sem bloquear a aplicação. Em caso de falha, o sistema tenta novamente (retry) até 3 vezes antes de registrar erro.

**Categoria:** Processamento

**Prioridade:** ALTA

**Impacto:** Garante atualização automática dos indicadores sem intervenção manual

**Validação:**
- Sistema agenda job no Hangfire após criação/edição de KPI
- Sistema executa cálculos em horários de baixa carga (madrugada para diários)
- Sistema registra log de todas as execuções
- Sistema notifica administradores em caso de falhas recorrentes

---

### RN-KPI-093-04: Metas Configuráveis com Limites de Alerta

**Descrição:**
Cada KPI pode ter metas configuradas com três zonas de desempenho: verde (objetivo alcançado), amarelo (atenção requerida) e vermelho (situação crítica). As metas podem ser do tipo maximização (quanto maior melhor), minimização (quanto menor melhor) ou faixa ideal (valor dentro de intervalo). Metas têm vigência definida (data inicial e final).

**Categoria:** Configuração

**Prioridade:** ALTA

**Impacto:** Permite acompanhamento objetivo do desempenho e geração de alertas automáticos

**Validação:**
- Sistema valida ordem lógica dos limites conforme tipo de meta
- Sistema permite múltiplas metas com vigências diferentes para mesmo KPI
- Sistema utiliza meta vigente no momento do cálculo
- Sistema alerta quando meta está próxima ao vencimento (30 dias)

---

### RN-KPI-093-05: Indicadores de SLA (RF028, RF029)

**Descrição:**
O sistema calcula automaticamente indicadores relacionados a Service Level Agreement baseados em solicitações de Service Desk. Incluem: percentual de cumprimento de SLA, tempo médio de primeira resposta, tempo médio de resolução, taxa de reabertura e satisfação do cliente. Cálculos consideram apenas solicitações finalizadas e classificadas no período.

**Categoria:** Cálculo Específico

**Prioridade:** ALTA

**Impacto:** Permite monitoramento automático de qualidade do atendimento

**Validação:**
- Sistema busca dados de solicitações em RF028 (Solicitações de Service Desk)
- Sistema considera apenas solicitações com status "Concluída" ou "Fechada"
- Sistema respeita multi-tenancy (ClienteId)
- Sistema calcula média ponderada por prioridade quando aplicável

---

### RN-KPI-093-06: Indicadores de Contratos (RF023, RF090)

**Descrição:**
O sistema calcula indicadores relacionados a contratos: percentual de contratos vigentes, custos contratuais totais, economia em renegociações, taxa de renovação automática e contratos próximos ao vencimento. Cálculos consideram apenas contratos ativos e vigentes no período. Economia é calculada comparando valor antes e depois da renegociação.

**Categoria:** Cálculo Específico

**Prioridade:** MÉDIA

**Impacto:** Permite gestão proativa de contratos e identificação de oportunidades de economia

**Validação:**
- Sistema busca dados de RF023 (Gestão de Contratos)
- Sistema considera apenas contratos com status "Vigente"
- Sistema calcula custos com base em valor mensal multiplicado por meses de vigência
- Sistema alerta quando contratos estão a menos de 90 dias do vencimento

---

### RN-KPI-093-07: Indicadores de Ativos (Utilização, TCO)

**Descrição:**
O sistema calcula indicadores de ativos: taxa de utilização, TCO (Total Cost of Ownership), disponibilidade, taxa de falhas e idade média do parque. TCO considera custo de aquisição, manutenção, suporte e depreciação dividido pela vida útil. Disponibilidade é calculada como uptime dividido por tempo total.

**Categoria:** Cálculo Específico

**Prioridade:** ALTA

**Impacto:** Permite otimização de investimentos em TI e planejamento de renovação

**Validação:**
- Sistema busca dados de RF028 (Inventário de Ativos)
- Sistema calcula TCO considerando todos os custos associados ao ativo
- Sistema considera apenas ativos em status "Em Uso" para cálculo de utilização
- Sistema calcula disponibilidade baseado em histórico de incidentes

---

### RN-KPI-093-08: Alertas Automáticos de Desvio

**Descrição:**
Alertas são gerados automaticamente quando um KPI atinge zona amarela ou vermelha conforme metas configuradas. Alertas incluem: KPI, valor calculado, meta, desvio percentual, timestamp e status (Pendente, Reconhecido, Resolvido). Sistema notifica responsáveis via dashboard em tempo real (SignalR) e opcionalmente por e-mail. Alertas reconhecidos permanecem no histórico para auditoria.

**Categoria:** Notificação

**Prioridade:** ALTA

**Impacto:** Garante identificação proativa de problemas e ação tempestiva

**Validação:**
- Sistema gera alerta imediatamente após cálculo que identifica desvio
- Sistema notifica via SignalR todos os usuários com dashboard aberto
- Sistema envia e-mail apenas se configurado no KPI
- Sistema não duplica alertas para mesmo KPI e mesmo período
- Sistema permite reconhecimento apenas por usuários autorizados

---

### RN-KPI-093-09: Auditoria Completa de Cálculos

**Descrição:**
Todo cálculo de KPI é registrado em trilha de auditoria com: data/hora de execução, valor calculado, fórmula utilizada, dados de entrada (snapshot), resultado da comparação com meta, status resultante, tempo de execução e erros ocorridos. Alterações em KPIs e metas também são auditadas com: usuário, timestamp, valores anteriores, valores novos, justificativa e IP de origem.

**Categoria:** Auditoria

**Prioridade:** CRÍTICA

**Impacto:** Garante rastreabilidade total e compliance com regulações (SOX, LGPD)

**Validação:**
- Sistema registra TODOS os cálculos sem exceção
- Sistema armazena snapshot dos dados de entrada para reprodução
- Sistema registra usuário, data/hora e justificativa em TODAS as alterações
- Sistema mantém histórico completo sem possibilidade de exclusão
- Sistema permite exportação de trilha de auditoria para fins legais

---

### RN-KPI-093-10: Exportação para Power BI e Tableau

**Descrição:**
O sistema disponibiliza endpoint OData para consumo direto pelo Power BI e Web Data Connector (WDC) para Tableau. Exportação inclui todos os KPIs, histórico de cálculos, metas e alertas. Sistema suporta refresh automático e atualização incremental. Templates pré-configurados (.pbix para Power BI e .twb para Tableau) são fornecidos com visualizações padrão.

**Categoria:** Integração

**Prioridade:** MÉDIA

**Impacto:** Permite análises avançadas e criação de relatórios executivos customizados

**Validação:**
- Sistema gera endpoint OData em URL específica por cliente (multi-tenancy)
- Sistema requer autenticação via chave de API
- Sistema suporta filtros OData ($filter, $select, $expand)
- Sistema limita taxa de requisições (rate limiting) para evitar sobrecarga
- Sistema registra todas as exportações para auditoria

---

## Seção 5: Matriz de Permissões

### 5.1 Permissões do Módulo

| Permissão | Código | Descrição | Papéis Padrão |
|-----------|--------|-----------|---------------|
| Visualizar KPIs | `KPI.VIEW` | Permite visualizar lista e detalhes de KPIs | Todos os usuários autenticados |
| Criar KPI | `KPI.CREATE` | Permite cadastrar novos KPIs | Administrador, Gestor de KPIs |
| Editar KPI | `KPI.UPDATE` | Permite alterar KPIs existentes | Administrador, Gestor de KPIs |
| Excluir KPI | `KPI.DELETE` | Permite excluir KPIs | Administrador |
| Configurar Metas | `KPI.CONFIG_TARGETS` | Permite definir e alterar metas | Administrador, Gestor de KPIs |
| Visualizar Dashboard | `KPI.VIEW_DASHBOARD` | Permite acessar dashboards de KPIs | Todos os usuários autenticados |
| Exportar Dados | `KPI.EXPORT` | Permite exportar dados para BI/CSV/PDF | Analista, Gestor |
| Gerenciar Alertas | `KPI.MANAGE_ALERTS` | Permite reconhecer e comentar alertas | Gestor de KPIs, Responsáveis |
| Visualizar Auditoria | `KPI.VIEW_AUDIT` | Permite acessar trilha de auditoria | Administrador, Auditor |
| Executar Cálculo Manual | `KPI.EXECUTE_CALC` | Permite forçar recálculo de KPI | Administrador |

### 5.2 Papéis e Permissões

| Papel | Permissões Incluídas |
|-------|---------------------|
| **Administrador** | Todas as permissões |
| **Gestor de KPIs** | VIEW, CREATE, UPDATE, CONFIG_TARGETS, VIEW_DASHBOARD, MANAGE_ALERTS, EXPORT |
| **Analista de BI** | VIEW, VIEW_DASHBOARD, EXPORT |
| **Gestor** | VIEW, VIEW_DASHBOARD, MANAGE_ALERTS, EXPORT |
| **Usuário Padrão** | VIEW, VIEW_DASHBOARD |
| **Auditor** | VIEW, VIEW_DASHBOARD, VIEW_AUDIT, EXPORT |

---

## Seção 6: Integrações

### 6.1 Sistemas Internos

#### 6.1.1 RF028 - Solicitações de Service Desk

**Tipo:** Consumo de dados (leitura)

**Finalidade:** Cálculo de indicadores de SLA

**Dados Consumidos:**
- Solicitações com SLA configurado
- Datas de abertura, primeira resposta e resolução
- Status de atendimento
- Avaliações de satisfação
- Número de reaberturas

**Impacto:**
- Alterações em RF028 podem afetar cálculo de KPIs de SLA
- Exclusão de solicitações deve manter histórico para KPIs

#### 6.1.2 RF029 - SLA (Service Level Agreement)

**Tipo:** Consumo de dados (leitura)

**Finalidade:** Definição de metas de SLA

**Dados Consumidos:**
- Configurações de SLA por tipo de solicitação
- Prazos de atendimento e resolução
- Horários de expediente

**Impacto:**
- Alterações em SLA devem recalcular KPIs relacionados
- Desativação de SLA não deve excluir histórico de KPIs

#### 6.1.3 RF023 - Gestão de Contratos

**Tipo:** Consumo de dados (leitura)

**Finalidade:** Cálculo de indicadores de contratos

**Dados Consumidos:**
- Contratos vigentes e inativos
- Valores mensais e totais
- Datas de vigência e vencimento
- Histórico de renegociações

**Impacto:**
- Alterações em valores contratuais recalculam KPIs de custo
- Renovações de contratos geram novos dados para KPIs

#### 6.1.4 RF090 - Gestão de Fornecedores

**Tipo:** Consumo de dados (leitura)

**Finalidade:** Análise de performance de fornecedores

**Dados Consumidos:**
- Avaliações de fornecedores
- Contratos por fornecedor
- Histórico de incidentes

**Impacto:**
- Permite criação de KPIs de qualidade de fornecedores
- Dados de avaliação alimentam indicadores de performance

#### 6.1.5 RF094 - Gestão de Custos de TI

**Tipo:** Consumo de dados (leitura)

**Finalidade:** Cálculo de indicadores financeiros

**Dados Consumidos:**
- Lançamentos de custos
- Orçamentos previstos
- Centros de custo
- Categorias de despesa

**Impacto:**
- Novos lançamentos atualizam KPIs de custo
- Reclassificações podem alterar indicadores retroativamente

#### 6.1.6 RF028 - Inventário de Ativos

**Tipo:** Consumo de dados (leitura)

**Finalidade:** Cálculo de indicadores de ativos

**Dados Consumidos:**
- Ativos ativos e inativos
- Custos de aquisição e manutenção
- Histórico de incidentes e manutenções
- Tempo de vida útil

**Impacto:**
- Novos ativos alteram taxa de utilização
- Depreciação afeta cálculo de TCO

#### 6.1.7 RF079 - Gestão de Compliance

**Tipo:** Consumo de dados (leitura)

**Finalidade:** Cálculo de indicadores de compliance

**Dados Consumidos:**
- Controles implementados
- Requisitos regulatórios
- Incidentes de segurança
- Auditorias e não conformidades

**Impacto:**
- Novos controles melhoram indicadores de compliance
- Incidentes de segurança geram alertas automáticos

### 6.2 Sistemas Externos

#### 6.2.1 Hangfire

**Tipo:** Biblioteca/Framework

**Finalidade:** Agendamento e execução de cálculos automáticos

**Funcionalidades Utilizadas:**
- RecurringJob para cálculos periódicos
- BackgroundJob para cálculos sob demanda
- Dashboard para monitoramento de jobs

**Configuração:**
- Jobs recorrentes criados ao cadastrar/editar KPI
- Retry automático em caso de falha (3 tentativas)
- Persistência em banco de dados SQLite/SQL Server

#### 6.2.2 SignalR

**Tipo:** Biblioteca/Framework

**Finalidade:** Atualização em tempo real de dashboards

**Funcionalidades Utilizadas:**
- Hubs para broadcast de atualizações
- Grupos por ClienteId (multi-tenancy)
- Reconexão automática

**Configuração:**
- Hub KpiHub para notificações de novos cálculos
- Hub AlertHub para notificações de alertas
- Autenticação via JWT

#### 6.2.3 Power BI

**Tipo:** Ferramenta de BI externa

**Finalidade:** Análises avançadas e relatórios executivos

**Integração:**
- Endpoint OData publicado em `/odata/kpis`
- Refresh automático via API REST
- Templates .pbix fornecidos

**Autenticação:**
- API Key obrigatória
- Rate limiting: 100 requisições/minuto

#### 6.2.4 Tableau

**Tipo:** Ferramenta de BI externa

**Finalidade:** Visualizações e análises customizadas

**Integração:**
- Web Data Connector (WDC) JavaScript
- API REST para extração de dados
- Templates .twb fornecidos

**Autenticação:**
- API Key obrigatória
- OAuth 2.0 (opcional)

---

## Seção 7: Modelo de Dados Conceitual

### 7.1 Entidades Principais

#### 7.1.1 KpiDefinition (Definição de KPI)

Armazena a configuração completa de cada indicador.

**Atributos principais:**
- Id (Guid, PK)
- Code (string, único)
- Name (string)
- Description (string)
- Type (enum: SLA, Contract, Asset, Cost, Compliance, Custom)
- Formula (string) - Expressão matemática
- Unit (string) - Percentual, Valor Monetário, Quantidade, Tempo
- Aggregation (enum: Sum, Average, Min, Max, Count)
- Periodicity (enum: Hourly, Daily, Weekly, Monthly, Yearly)
- IsActive (bool)
- ClienteId (int, FK) - Multi-tenancy
- CriadoPorUsuarioId, CriadoEm, AlteradoPorUsuarioId, AlteradoEm

#### 7.1.2 KpiTarget (Meta de KPI)

Armazena metas e limites de alerta para cada KPI.

**Atributos principais:**
- Id (Guid, PK)
- KpiDefinitionId (Guid, FK)
- TargetValue (decimal) - Meta principal
- GreenThreshold (decimal) - Limite verde (alcançado)
- YellowThreshold (decimal) - Limite amarelo (atenção)
- RedThreshold (decimal) - Limite vermelho (crítico)
- ComparisonType (enum: Maximize, Minimize, IdealRange)
- ValidFrom (DateTime) - Início da vigência
- ValidUntil (DateTime) - Fim da vigência
- Justification (string)
- CriadoPorUsuarioId, CriadoEm

#### 7.1.3 KpiCalculation (Cálculo de KPI)

Armazena histórico de cada cálculo executado.

**Atributos principais:**
- Id (Guid, PK)
- KpiDefinitionId (Guid, FK)
- CalculatedValue (decimal) - Valor calculado
- CalculatedAt (DateTime) - Data/hora do cálculo
- FormulaUsed (string) - Fórmula utilizada no cálculo
- InputDataSnapshot (string/JSON) - Dados de entrada
- Status (enum: Green, Yellow, Red) - Comparação com meta
- ExecutionTime (TimeSpan) - Tempo de processamento
- ErrorMessage (string) - Mensagem de erro se houver
- IsSuccessful (bool)

#### 7.1.4 KpiAlert (Alerta de KPI)

Armazena alertas gerados por desvios de meta.

**Atributos principais:**
- Id (Guid, PK)
- KpiDefinitionId (Guid, FK)
- KpiCalculationId (Guid, FK) - Cálculo que gerou o alerta
- Severity (enum: Warning, Critical) - Amarelo ou Vermelho
- CalculatedValue (decimal)
- TargetValue (decimal)
- DeviationPercentage (decimal)
- GeneratedAt (DateTime)
- Status (enum: Pending, Acknowledged, Resolved)
- AcknowledgedBy (Guid, FK Usuario)
- AcknowledgedAt (DateTime)
- Comment (string)

#### 7.1.5 KpiAuditLog (Auditoria de KPI)

Registra todas as alterações em KPIs e metas.

**Atributos principais:**
- Id (Guid, PK)
- EntityType (enum: KpiDefinition, KpiTarget)
- EntityId (Guid)
- Action (enum: Created, Updated, Deleted, CalculationExecuted)
- OldValues (string/JSON)
- NewValues (string/JSON)
- Justification (string)
- UserId (Guid, FK)
- IpAddress (string)
- Timestamp (DateTime)

### 7.2 Relacionamentos

```
KpiDefinition (1) ---- (*) KpiTarget
KpiDefinition (1) ---- (*) KpiCalculation
KpiDefinition (1) ---- (*) KpiAlert
KpiCalculation (1) ---- (0..1) KpiAlert

Usuario (1) ---- (*) KpiDefinition (criador)
Usuario (1) ---- (*) KpiAlert (quem reconheceu)
Usuario (1) ---- (*) KpiAuditLog (quem executou ação)

Cliente (1) ---- (*) KpiDefinition (multi-tenancy)
```

### 7.3 Índices e Performance

**Índices obrigatórios:**
- KpiDefinition.Code (único, não-clustered)
- KpiDefinition.ClienteId (não-clustered)
- KpiCalculation.KpiDefinitionId + CalculatedAt (não-clustered, descendente)
- KpiAlert.Status + Severity (não-clustered, para filtros)
- KpiAuditLog.EntityId + Timestamp (não-clustered)

---

## Seção 8: Requisitos Não Funcionais

### 8.1 Performance

- **RNF-KPI-093-01:** Cálculo de KPI individual não deve exceder 10 segundos
- **RNF-KPI-093-02:** Dashboard deve carregar em menos de 3 segundos
- **RNF-KPI-093-03:** Atualização em tempo real via SignalR deve ter latência < 500ms
- **RNF-KPI-093-04:** Sistema deve suportar até 1.000 KPIs ativos simultaneamente
- **RNF-KPI-093-05:** Exportação OData deve responder em menos de 5 segundos para datasets de até 100.000 registros

### 8.2 Escalabilidade

- **RNF-KPI-093-06:** Sistema deve suportar 500 usuários simultâneos visualizando dashboards
- **RNF-KPI-093-07:** Hangfire deve executar até 50 cálculos de KPI em paralelo
- **RNF-KPI-093-08:** Sistema deve armazenar histórico de 5 anos de cálculos sem degradação

### 8.3 Disponibilidade

- **RNF-KPI-093-09:** Disponibilidade de 99.5% durante horário comercial
- **RNF-KPI-093-10:** Dashboards devem funcionar offline (cache local) por até 1 hora
- **RNF-KPI-093-11:** Reconexão automática SignalR em caso de queda de conexão

### 8.4 Segurança

- **RNF-KPI-093-12:** Autenticação obrigatória via JWT
- **RNF-KPI-093-13:** Autorização baseada em permissões granulares (RBAC)
- **RNF-KPI-093-14:** Multi-tenancy estrito - cliente não pode visualizar dados de outro cliente
- **RNF-KPI-093-15:** API Key obrigatória para integrações externas (Power BI, Tableau)
- **RNF-KPI-093-16:** Rate limiting de 100 requisições/minuto por cliente
- **RNF-KPI-093-17:** Auditoria completa de acessos e alterações

### 8.5 Usabilidade

- **RNF-KPI-093-18:** Interface responsiva (desktop, tablet, mobile)
- **RNF-KPI-093-19:** Suporte a internacionalização (i18n) - Português, Inglês, Espanhol
- **RNF-KPI-093-20:** Validação de fórmulas em tempo real com mensagens explicativas
- **RNF-KPI-093-21:** Dashboards com cores semânticas (verde/amarelo/vermelho)

### 8.6 Manutenibilidade

- **RNF-KPI-093-22:** Código backend segue padrões Clean Architecture + CQRS
- **RNF-KPI-093-23:** Frontend Angular 19 com Standalone Components
- **RNF-KPI-093-24:** Testes unitários com cobertura mínima de 80%
- **RNF-KPI-093-25:** Testes E2E para fluxos críticos (cadastro, cálculo, alertas)
- **RNF-KPI-093-26:** Logs estruturados para troubleshooting

### 8.7 Compliance

- **RNF-KPI-093-27:** Conformidade com LGPD (dados pessoais em auditoria)
- **RNF-KPI-093-28:** Conformidade com SOX (trilha de auditoria imutável)
- **RNF-KPI-093-29:** Suporte a ISO 27001 (segurança da informação)
- **RNF-KPI-093-30:** Retenção de dados de auditoria por 7 anos

---

## Seção 9: Critérios de Aceite

### 9.1 Funcionalidades Core

#### CA-KPI-093-01: Cadastro de KPIs
- [ ] Permite cadastrar KPI com todos os campos obrigatórios
- [ ] Valida fórmula em tempo real
- [ ] Rejeita códigos duplicados
- [ ] Agenda cálculo automático após cadastro
- [ ] Registra auditoria da criação

#### CA-KPI-093-02: Cálculo Automático
- [ ] Hangfire executa cálculos na periodicidade configurada
- [ ] Resultados são armazenados com timestamp
- [ ] Status (verde/amarelo/vermelho) é determinado corretamente
- [ ] Erros de cálculo são registrados e notificados
- [ ] Retry automático funciona (3 tentativas)

#### CA-KPI-093-03: Metas e Alertas
- [ ] Permite configurar metas com 3 limites (verde/amarelo/vermelho)
- [ ] Alertas são gerados automaticamente ao atingir zona amarela/vermelha
- [ ] Notificação em tempo real via SignalR funciona
- [ ] Reconhecimento de alertas registra usuário e timestamp
- [ ] Histórico de alertas é mantido para auditoria

#### CA-KPI-093-04: Dashboards
- [ ] Dashboard executivo exibe cards de resumo
- [ ] Gráficos de tendência mostram últimos 12 meses
- [ ] Atualização em tempo real via SignalR funciona
- [ ] Drill-down em gráficos navega para detalhes
- [ ] Exportação para PDF funciona corretamente

#### CA-KPI-093-05: Integração com SLA
- [ ] Indicadores de SLA calculam corretamente a partir de RF028
- [ ] Percentual de cumprimento de SLA está preciso
- [ ] Tempo médio de primeira resposta calcula corretamente
- [ ] Taxa de reabertura considera apenas solicitações finalizadas

#### CA-KPI-093-06: Exportação para BI
- [ ] Endpoint OData está acessível e retorna dados
- [ ] Autenticação via API Key funciona
- [ ] Template Power BI conecta e carrega dados corretamente
- [ ] Refresh automático funciona
- [ ] Rate limiting bloqueia requisições excessivas

### 9.2 Qualidade e Performance

#### CA-KPI-093-07: Performance
- [ ] Cálculo de KPI individual completa em < 10 segundos
- [ ] Dashboard carrega em < 3 segundos
- [ ] Latência SignalR é < 500ms
- [ ] Sistema suporta 500 usuários simultâneos sem degradação

#### CA-KPI-093-08: Segurança
- [ ] Multi-tenancy impede acesso a dados de outro cliente
- [ ] Permissões RBAC funcionam corretamente
- [ ] Autenticação JWT é obrigatória
- [ ] Auditoria registra TODAS as alterações

#### CA-KPI-093-09: Testes
- [ ] Testes unitários backend com cobertura > 80%
- [ ] Testes E2E cobrem fluxos críticos (cadastro, cálculo, alertas)
- [ ] Testes de segurança (SQL Injection, XSS) passam
- [ ] Testes de carga (500 usuários) passam

---

## Seção 10: Impacto e Dependências

### 10.1 Dependências de Outros RFs

Este RF **DEPENDE** dos seguintes requisitos:

| RF | Nome | Tipo de Dependência | Impacto |
|----|------|---------------------|---------|
| RF028 | Solicitações de Service Desk | Forte | Dados de solicitações são essenciais para KPIs de SLA |
| RF029 | SLA (Service Level Agreement) | Forte | Configurações de SLA definem metas padrão |
| RF023 | Gestão de Contratos | Média | Dados de contratos alimentam KPIs financeiros |
| RF090 | Gestão de Fornecedores | Fraca | Permite KPIs de qualidade de fornecedores |
| RF094 | Gestão de Custos de TI | Forte | Dados de custos são essenciais para KPIs financeiros |
| RF079 | Gestão de Compliance | Média | Dados de compliance alimentam indicadores regulatórios |

### 10.2 Impacto em Outros RFs

Este RF **IMPACTA** os seguintes requisitos:

| RF | Nome | Tipo de Impacto | Descrição |
|----|------|-----------------|-----------|
| RF001 | Dashboard Executivo | Alto | Fornece dados para visões executivas |
| RF100 | Relatórios Gerenciais | Médio | KPIs são fonte para relatórios analíticos |
| RF095 | Gestão de Projetos | Baixo | KPIs podem medir performance de projetos |

### 10.3 Riscos e Mitigações

| Risco | Probabilidade | Impacto | Mitigação |
|-------|---------------|---------|-----------|
| Falha em cálculos complexos de KPI | Média | Alto | Validação rigorosa de fórmulas + testes exaustivos + retry automático |
| Sobrecarga em horários de pico | Baixa | Médio | Agendamento em horários de baixa carga + cache de resultados |
| Dados de origem inconsistentes | Média | Alto | Validação de integridade referencial + tratamento de exceções |
| Dependência de sistemas externos (Power BI) | Baixa | Baixo | Funcionamento independente + exportação manual alternativa |
| Fórmulas incorretas criadas por usuários | Alta | Médio | Validação automática + ambiente de teste + documentação |

### 10.4 Estratégia de Rollout

**Fase 1 - MVP (Mínimo Viável):**
- Cadastro de KPIs
- Cálculo manual
- Dashboard básico
- Indicadores de SLA apenas

**Fase 2 - Automação:**
- Cálculo automático via Hangfire
- Alertas automáticos
- Indicadores de Contratos e Ativos
- Auditoria completa

**Fase 3 - Integração:**
- Atualização em tempo real (SignalR)
- Exportação para Power BI
- Indicadores de Custos e Compliance
- Templates de dashboards

**Fase 4 - Expansão:**
- Exportação para Tableau
- KPIs customizados avançados
- Machine Learning (predição - futura)

---

## Seção 11: Referências e Anexos

### 11.1 Documentos Relacionados

- **RF028** - Solicitações de Service Desk
- **RF029** - SLA (Service Level Agreement)
- **RF023** - Gestão de Contratos
- **RF090** - Gestão de Fornecedores
- **RF094** - Gestão de Custos de TI
- **RF079** - Gestão de Compliance
- **UC-RF093** - Casos de Uso Detalhados de KPIs
- **MD-RF093** - Modelo de Dados de KPIs
- **WF-RF093** - Wireframes de Dashboards e Telas

### 11.2 Padrões e Tecnologias

**Backend:**
- .NET 10
- Entity Framework Core 10
- MediatR (CQRS)
- FluentValidation
- Hangfire (agendamento)
- SignalR (real-time)

**Frontend:**
- Angular 19
- Standalone Components
- ApexCharts (gráficos)
- Transloco (i18n)

**Integrações:**
- OData v4 (Power BI)
- Web Data Connector (Tableau)
- SignalR (notificações)

### 11.3 Glossário

- **KPI (Key Performance Indicator):** Indicador-chave de performance que mede objetivamente o desempenho de processos
- **SLA (Service Level Agreement):** Acordo de nível de serviço que define metas de atendimento
- **TCO (Total Cost of Ownership):** Custo total de propriedade de um ativo (aquisição + manutenção + operação)
- **OData:** Protocolo REST para consulta e manipulação de dados via HTTP
- **SignalR:** Biblioteca para comunicação em tempo real via WebSockets
- **Hangfire:** Framework para execução de tarefas em background no .NET
- **CQRS:** Command Query Responsibility Segregation - padrão que separa leitura e escrita
- **Multi-tenancy:** Arquitetura onde uma instância do sistema serve múltiplos clientes (tenants) isolados

### 11.4 Histórico de Alterações

| Versão | Data | Autor | Descrição |
|--------|------|-------|-----------|
| 1.0 | 2025-12-28 | Equipe IControlIT | Versão inicial com código C# e legado misturado |
| 2.0 | 2025-12-30 | Equipe IControlIT | Migração para governança v2.0 - Separação RF/RL - Remoção de código - Linguagem natural apenas |

---

**Fim do Documento RF093 v2.0**
