rf: RF071
fase: Fase-5-Service-Desk
epic: EPIC008-SD-Service-Desk
titulo: Pesquisa de Satisfacao

documentacao:
  versao: "2.0"
  data_migracao: "2025-12-30"
  rf: true                # RF071.md v2.0 criado (contrato moderno - 11 seções)
  rf_yaml: true           # RF071.yaml criado (estruturado)
  rl: true                # RL-RF071.md criado (memória legado - sistema parcial)
  rl_yaml: true           # RL-RF071.yaml criado (17 referências mapeadas)
  uc: true                # UC-RF071.md atualizado (nomenclatura migrada + 5 UCs)
  uc_yaml: true           # UC-RF071.yaml criado conforme template v2.0 (6 UCs: UC00-UC05)
  md: false
  wf: false

  arquivos_obrigatorios_presentes: true
  separacao_rf_rl_validada: true

desenvolvimento:
  backend:
    status: not_started   # not_started | in_progress | done
    contrato_validado: false
    contrato: CONTRATO-EXECUCAO-BACKEND
    versao_contrato: v1.0
    branch: null
  frontend:
    status: not_started
    branch: null

testes:
  backend: not_run        # not_run | pass | fail
  frontend: not_run
  e2e: not_run
  seguranca: not_run

documentacao_testes:
  backend: false
  frontend: false
  e2e: false
  seguranca: false

testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: false       # True quando QA executou
  aprovado: false        # True quando usuario aprovou

devops:
  work_item_id: 585
  test_plan_id: null
  last_sync: "2025-12-27 15:32:05"
  board_column: "Tarefas"

# ==============================================================================
# VALIDAÇÃO SEPARAÇÃO RF/RL (OBRIGATÓRIA v2.0)
# ==============================================================================

separacao_rf_rl:
  rf_limpo: true                # RF não contém conteúdo legado
  rl_completo: true             # RL contém TODA memória legado (17 refs)
  itens_com_destino: true       # 100% itens RL têm campo destino
  validador_executado: true     # validator-rl.py passou (exit code 0)
  validador_resultado: "APROVADO"
  gaps_criticos: 0
  gaps_importantes: 0
  gaps_menores: 3  # rf_item_relacionado (não bloqueante)

# ==============================================================================
# ESTATÍSTICAS MIGRAÇÃO
# ==============================================================================

estatisticas:
  total_rns: 12                 # Regras de negócio extraídas
  total_endpoints_api: 22       # Endpoints REST documentados
  total_permissoes_rbac: 14     # Permissões RBAC definidas
  total_integracoes_obrigatorias: 4  # i18n, auditoria, RBAC, Central
  itens_legado_rastreados: 17   # Sistema legado PARCIAL
  bancos_legados_mapeados: 2    # tbl_Pesquisa_Satisfacao, tbl_Resposta_Pesquisa
  problemas_legado_identificados: 4  # LGPD, Fórmula NPS, SQL Injection, Escala

  linhas_documentacao:
    rf_md: 690
    rf_yaml: 244
    rl_md: 1850
    rl_yaml: 232
    total: 3016

validacoes:
  rf_uc_cobertura_total: true
  uc_nomenclatura_padrao: true
  uc_catalogo_limpo: true
  uc_yaml_uc_md_sincronizados: true
  validador_exit_code: 0

adequacao_uc:
  data_execucao: "2025-12-31"
  versao_contrato: "1.0"
  executor: "Claude Sonnet 4.5"

  cobertura_antes:
    rns_totais: 12
    rns_cobertas: 0
    percentual: "0%"
    nomenclatura_padrao: "0%"
    ucs_totais: 5
    uc_yaml_existia: false

  cobertura_depois:
    rns_totais: 12
    rns_cobertas: 12
    percentual: "100%"
    nomenclatura_padrao: "100%"
    ucs_totais: 6  # UC00-UC05
    uc_yaml_criado: true

  problemas_corrigidos:
    - tipo: "nomenclatura"
      descricao: "Migração RN-SAT-071-XX → RN-RF071-XXX"
      arquivos_afetados: ["UC-RF071.md"]
      total_substituicoes: 34

    - tipo: "estrutura"
      descricao: "UC-RF071.yaml criado do zero (template v2.0)"
      ucs_criados: ["UC00", "UC01", "UC02", "UC03", "UC04", "UC05"]

    - tipo: "catalog"
      descricao: "Catalog do RF071.yaml criado a partir de regras_negocio"
      total_itens: 12

    - tipo: "uc_obrigatorio"
      descricao: "UC00 (Listar) adicionado conforme exigência do validador"
      uc_criado: "UC00"

  validacoes:
    rf_uc_cobertura: "100% (12/12)"
    nomenclatura_padrao: "100%"
    catalogo_limpo: true
    uc_yaml_uc_md_sincronizados: true
    validador_exit_code: 0

  metricas:
    tempo_total_execucao: "~45min"
    ucs_yaml_criados: 6
    ucs_md_existentes: 5
    nomenclatura_migrada: 34
    catalog_itens_criados: 12

governanca:
  contrato_ativo: CONTRATO-ADEQUACAO-COMPLETA-UC
  ultimo_manifesto: "2025-12-31 - RF071 UC adequado (nomenclatura migrada + UC.yaml v2.0 + 100% cobertura)"
