# WF-RF044 - Wireframes Gestão de KPIs

**Versão:** 1.0
**Data:** 18/12/2025
**RF Relacionado:** [RF044 - Gestão de KPIs](./RF044.md)
**UC Relacionado:** [UC-RF044 - Casos de Uso](./UC-RF044.md)

---

## Nota sobre Template Fuse

Todos os wireframes utilizam **Fuse Admin Template (Angular 19)** como base:
- Layout: Modern (sidebar + top navigation)
- Componentes: Angular Material 19
- Cores: Primary (indigo-500), Accent (pink-500)
- Ícones: Material Icons + Heroicons

---

## Legenda de Símbolos

```
[Botão]               - Botão clicável
(•) Radio            - Radio button
[ ] Checkbox         - Checkbox
[Dropdown ▼]         - Select/Dropdown
[______]             - Input text
[====== ]            - Progress bar
┌──────┐
│ Card │             - Card/Container
└──────┘
≡ Menu               - Menu hamburguer
🔍 Buscar            - Busca
⚙️ Config            - Configurações
📊 Dashboard         - Dashboard
🔔 Notif             - Notificações
```

---

## Navegação do RF044

```
Menu Principal → Gestão → KPIs
```

**Breadcrumb:** Home > Gestão > KPIs > [Tela Atual]

---

## Tela 01 - Dashboard de KPIs (Desktop)

**Rota:** `/gestao/kpis`
**Permissão:** `KPIS.VISUALIZAR`
**UC:** UC00

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ≡ IControlIT                    🔍 Buscar  📊  🔔  👤 João Silva            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│ Home > Gestão > KPIs                                                         │
│                                                                              │
│ ┌────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                          │ │
│ │  Dashboard de KPIs                    [⚙️ Configurar] [+ Novo KPI]     │ │
│ │                                                                          │ │
│ │  Período: [Janeiro/2025        ▼]    [Este Mês] [Último Trimestre]     │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📊 Visão Geral - KPIs Principais                               │    │ │
│ │  ├───────────┬───────────┬───────────┬───────────┬──────────┐    │    │ │
│ │  │SLA Cumpri │Satisfação │UpTime Sist│Resol. 1ºNv│Tempo Resp│    │    │ │
│ │  ├───────────┼───────────┼───────────┼───────────┼──────────┤    │    │ │
│ │  │  98.5%    │  4.7/5.0  │  99.9%    │   85%     │  2.3h    │    │    │ │
│ │  │  🟢 +2%   │  🟢 +0.3  │  🟢 Estável│  🟡 -3%   │  🟡 +0.5h│    │    │ │
│ │  └───────────┴───────────┴───────────┴───────────┴──────────┘    │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌──────────────────────────┐ ┌──────────────────────────────────┐    │ │
│ │  │ 📈 Tendência de KPIs     │ │ 🎯 KPIs por Categoria            │    │ │
│ │  ├──────────────────────────┤ ├──────────────────────────────────┤    │ │
│ │  │                          │ │                                  │    │ │
│ │  │  100┤  ●───●───●         │ │  🟢 Excelente (>90%)   - 12 KPIs │    │ │
│ │  │     │ ╱     ╲             │ │  🟡 Atenção (70-90%)   -  8 KPIs │    │ │
│ │  │   90┤●       ●───●        │ │  🔴 Crítico (<70%)     -  3 KPIs │    │ │
│ │  │     │                     │ │  ⚫ Sem Dados           -  2 KPIs │    │ │
│ │  │   80┤                     │ │                                  │    │ │
│ │  │     │                     │ │  Total de KPIs: 25               │    │ │
│ │  │   70└─┴─┴─┴─┴─┴─┴─┴─┴─  │ │                                  │    │ │
│ │  │     J F M A M J J A S O  │ │  [Ver Todos os KPIs]             │    │ │
│ │  │                          │ │                                  │    │ │
│ │  │  ● SLA  ● Satisfação     │ │                                  │    │ │
│ │  │  ● UpTime                │ │                                  │    │ │
│ │  └──────────────────────────┘ └──────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 🚨 Alertas e KPIs Críticos                                     │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │  • 🔴 Tempo de Resposta acima da meta (2.3h > 2h)              │    │ │
│ │  │  • 🟡 Resolução em 1º Nível abaixo do esperado (85% < 90%)     │    │ │
│ │  │  • 🔴 Taxa de Retrabalho em 18% (meta: <10%)                   │    │ │
│ │  │  • ⚫ KPI "Disponibilidade VPN" sem coleta há 3 dias            │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📋 Lista de KPIs Configurados                 [🔍 Filtrar] [⚙️]│    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  ┌──────────────────────────────────────────────────────────┐ │    │ │
│ │  │  │KPI                │Valor Atual│Meta  │Status│Última Coleta│⋮│    │ │
│ │  │  ├───────────────────┼───────────┼──────┼──────┼─────────────┼─┤    │ │
│ │  │  │SLA Cumprimento    │  98.5%    │ >95% │🟢 OK │18/01 09:00  │⋮│    │ │
│ │  │  ├───────────────────┼───────────┼──────┼──────┼─────────────┼─┤    │ │
│ │  │  │Satisfação Cliente │  4.7/5.0  │ >4.5 │🟢 OK │18/01 08:30  │⋮│    │ │
│ │  │  ├───────────────────┼───────────┼──────┼──────┼─────────────┼─┤    │ │
│ │  │  │UpTime Sistema     │  99.9%    │>99.5%│🟢 OK │18/01 09:00  │⋮│    │ │
│ │  │  ├───────────────────┼───────────┼──────┼──────┼─────────────┼─┤    │ │
│ │  │  │Resolução 1º Nível │   85%     │ >90% │🟡 At │18/01 08:00  │⋮│    │ │
│ │  │  ├───────────────────┼───────────┼──────┼──────┼─────────────┼─┤    │ │
│ │  │  │Tempo Resposta     │  2.3h     │ <2h  │🔴 Cr │18/01 08:45  │⋮│    │ │
│ │  │  └───────────────────┴───────────┴──────┴──────┴─────────────┴─┘    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

**Ícones de Status:**
- 🟢 OK = Dentro da meta
- 🟡 Atenção = Próximo ao limite
- 🔴 Crítico = Fora da meta
- ⚫ Sem Dados = Sem coleta recente

**Menu de Ações (⋮):**
- 👁️ Ver Detalhes
- 📊 Histórico
- ✏️ Editar Configuração
- 🔔 Configurar Alertas
- 📈 Exportar Dados
- 🗑️ Inativar KPI

---

## Tela 02 - Detalhes do KPI (Desktop)

**Rota:** `/gestao/kpis/:id`
**Permissão:** `KPIS.VISUALIZAR`
**UC:** UC02

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ≡ IControlIT                    🔍 Buscar  📊  🔔  👤 João Silva            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│ Home > Gestão > KPIs > SLA Cumprimento                                       │
│                                                                              │
│ ┌────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                          │ │
│ │  [← Voltar]  📊 SLA Cumprimento              [✏️ Editar] [🔔 Alertas]  │ │
│ │                                                                          │ │
│ │  Status: 🟢 Dentro da Meta  •  Última coleta: 18/01/2025 09:00         │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📋 Informações do KPI                                          │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Nome: SLA Cumprimento                                         │    │ │
│ │  │  Código: KPI-001                                               │    │ │
│ │  │  Categoria: Serviços / SLA                                     │    │ │
│ │  │  Descrição: Percentual de chamados atendidos dentro do SLA    │    │ │
│ │  │  estabelecido em contrato.                                     │    │ │
│ │  │                                                                 │    │ │
│ │  │  Responsável: João Silva (TI)                                  │    │ │
│ │  │  Frequência de Coleta: Diária (às 09:00)                      │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 🎯 Metas e Valores                                             │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Valor Atual:      98.5%        🟢 Dentro da meta              │    │ │
│ │  │  Meta:             > 95%                                       │    │ │
│ │  │  Alerta Amarelo:   < 97%                                       │    │ │
│ │  │  Alerta Vermelho:  < 95%                                       │    │ │
│ │  │                                                                 │    │ │
│ │  │  Tipo de Medição: Percentual                                   │    │ │
│ │  │  Tendência: Crescente (🟢 +2% vs mês anterior)                 │    │ │
│ │  │                                                                 │    │ │
│ │  │  [════════════════════════ 98.5%]                             │    │ │
│ │  │  0%        25%       50%       75%      100%                   │    │ │
│ │  │                           ▲Meta (95%)                          │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📈 Histórico de Valores (Últimos 12 Meses)                     │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  100┤  ●───●───●───●───●───●                                  │    │ │
│ │  │     │             ╲         ╱                                  │    │ │
│ │  │   95┤              ●───●───●  ← Meta                          │    │ │
│ │  │     │                                                          │    │ │
│ │  │   90┤                                                          │    │ │
│ │  │     │                                                          │    │ │
│ │  │   85└─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─                                │    │ │
│ │  │     J F M A M J J A S O N D                                   │    │ │
│ │  │                                                                 │    │ │
│ │  │  Melhor: 99.2% (Março)   •   Pior: 94.8% (Agosto)             │    │ │
│ │  │  Média: 97.3%            •   Desvio Padrão: 1.5%              │    │ │
│ │  │                                                                 │    │ │
│ │  │  [📥 Exportar Dados] [📊 Relatório Completo]                  │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📊 Análise Detalhada                                           │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Período:     Janeiro 2025                                     │    │ │
│ │  │  Base:        1.245 chamados analisados                        │    │ │
│ │  │  Dentro SLA:  1.226 chamados (98.5%)                           │    │ │
│ │  │  Fora SLA:    19 chamados (1.5%)                               │    │ │
│ │  │                                                                 │    │ │
│ │  │  Principais Motivos de Não Cumprimento:                        │    │ │
│ │  │  1. Falta de recursos (8 casos)                                │    │ │
│ │  │  2. Complexidade técnica (6 casos)                             │    │ │
│ │  │  3. Dependência externa (5 casos)                              │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 🔔 Alertas Configurados                       [+ Novo Alerta]  │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │  • 🟡 Email para gestor quando < 97%                           │    │ │
│ │  │  • 🔴 Email + SMS quando < 95%                                 │    │ │
│ │  │  • 📊 Relatório semanal automático (segundas 08:00)            │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📝 Auditoria                                                   │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │  Criado em: 10/01/2024 às 14:30 por Maria Santos              │    │ │
│ │  │  Última atualização: 18/01/2025 às 09:00 (Coleta automática)  │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Tela 03 - Formulário de Configuração de KPI (Desktop)

**Rota:** `/gestao/kpis/novo` ou `/gestao/kpis/:id/editar`
**Permissão:** `KPIS.CRIAR` / `KPIS.EDITAR`
**UC:** UC01 / UC03

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ≡ IControlIT                    🔍 Buscar  📊  🔔  👤 João Silva            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│ Home > Gestão > KPIs > Novo KPI                                             │
│                                                                              │
│ ┌────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                          │ │
│ │  [← Voltar]  Novo KPI                                                    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📋 Informações Básicas                                         │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Nome do KPI *                                                 │    │ │
│ │  │  [_______________________________________________]             │    │ │
│ │  │  Ex: SLA Cumprimento, Satisfação Cliente, UpTime Sistema      │    │ │
│ │  │                                                                 │    │ │
│ │  │  Código do KPI (gerado automaticamente)                        │    │ │
│ │  │  [KPI-026]  (pode ser editado)                                │    │ │
│ │  │                                                                 │    │ │
│ │  │  Categoria *                                                   │    │ │
│ │  │  [Selecione...                                   ▼]            │    │ │
│ │  │  Opções: Serviços, Suporte, Infraestrutura, Financeiro, RH    │    │ │
│ │  │                                                                 │    │ │
│ │  │  Subcategoria                                                  │    │ │
│ │  │  [Selecione...                                   ▼]            │    │ │
│ │  │  (Dinâmico conforme categoria selecionada)                     │    │ │
│ │  │                                                                 │    │ │
│ │  │  Descrição *                                                   │    │ │
│ │  │  [_______________________________________________]             │    │ │
│ │  │  [_______________________________________________]             │    │ │
│ │  │  [_______________________________________________]             │    │ │
│ │  │  Descreva o que este KPI mede e sua importância               │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 🎯 Configuração de Metas                                       │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Tipo de Medição *                                             │    │ │
│ │  │  (•) Percentual (%)    ( ) Numérico    ( ) Tempo (h/m)        │    │ │
│ │  │                                                                 │    │ │
│ │  │  Meta *                                                        │    │ │
│ │  │  Operador: [Maior que (>)              ▼]                     │    │ │
│ │  │  Valor:    [_______] %                                        │    │ │
│ │  │                                                                 │    │ │
│ │  │  Limites de Alerta                                             │    │ │
│ │  │  Alerta Amarelo (Atenção):   [_______] %                      │    │ │
│ │  │  Alerta Vermelho (Crítico):  [_______] %                      │    │ │
│ │  │                                                                 │    │ │
│ │  │  Direção do KPI                                                │    │ │
│ │  │  ( ) Quanto maior, melhor (ex: Satisfação)                    │    │ │
│ │  │  (•) Quanto menor, melhor (ex: Tempo de Resposta)             │    │ │
│ │  │  ( ) Manter em faixa específica                               │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📊 Coleta de Dados                                             │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Fonte de Dados *                                              │    │ │
│ │  │  (•) Coleta Automática (Sistema)                              │    │ │
│ │  │  ( ) Entrada Manual                                            │    │ │
│ │  │  ( ) API Externa                                               │    │ │
│ │  │                                                                 │    │ │
│ │  │  Frequência de Coleta *                                        │    │ │
│ │  │  [Diária                                         ▼]            │    │ │
│ │  │  Opções: Tempo real, Horária, Diária, Semanal, Mensal         │    │ │
│ │  │                                                                 │    │ │
│ │  │  Horário da Coleta (para automáticas)                          │    │ │
│ │  │  [09:00] 🕐                                                    │    │ │
│ │  │                                                                 │    │ │
│ │  │  Query/Fórmula de Cálculo                                      │    │ │
│ │  │  [_______________________________________________]             │    │ │
│ │  │  [_______________________________________________]             │    │ │
│ │  │  (Para coletas automáticas, SQL ou fórmula)                    │    │ │
│ │  │                                                                 │    │ │
│ │  │  [📖 Templates de Fórmulas]  [🧪 Testar Query]                │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 👤 Responsabilidade                                            │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Responsável pelo KPI *                                        │    │ │
│ │  │  [João Silva - TI                                ▼]            │    │ │
│ │  │                                                                 │    │ │
│ │  │  Departamento                                                  │    │ │
│ │  │  [Tecnologia da Informação                       ▼]            │    │ │
│ │  │                                                                 │    │ │
│ │  │  Notificar em Alertas                                          │    │ │
│ │  │  [✓] Responsável                                               │    │ │
│ │  │  [✓] Gestor do Departamento                                    │    │ │
│ │  │  [ ] Diretoria                                                 │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ ⚙️ Configurações Avançadas                                     │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Status                                                        │    │ │
│ │  │  (•) Ativo    ( ) Inativo                                     │    │ │
│ │  │                                                                 │    │ │
│ │  │  [ ] Exibir no Dashboard Principal                            │    │ │
│ │  │  [ ] Enviar relatório periódico automaticamente               │    │ │
│ │  │  [ ] Permitir entrada manual de valores                       │    │ │
│ │  │  [ ] Histórico com retenção de 5 anos                         │    │ │
│ │  │                                                                 │    │ │
│ │  │  Tags (separadas por vírgula)                                  │    │ │
│ │  │  [_______________________________________________]             │    │ │
│ │  │  Ex: crítico, sla, mensal, corporativo                        │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  [Cancelar]                    [Salvar e Testar] [Salvar]              │ │
│ │                                                                          │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Tela 04 - Relatórios de KPIs (Desktop)

**Rota:** `/gestao/kpis/relatorios`
**Permissão:** `KPIS.RELATORIOS`
**UC:** Custom

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ≡ IControlIT                    🔍 Buscar  📊  🔔  👤 João Silva            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│ Home > Gestão > KPIs > Relatórios                                           │
│                                                                              │
│ ┌────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                          │ │
│ │  Relatórios de KPIs                      [🖨️ Imprimir] [📥 Excel]      │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ ⚙️ Configurar Relatório                                        │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  Período: [Janeiro/2025  ▼]  ou  [01/01/25] até [31/01/25]   │    │ │
│ │  │                                                                 │    │ │
│ │  │  Categorias: [✓] Serviços  [✓] Suporte  [ ] Financeiro        │    │ │
│ │  │                                                                 │    │ │
│ │  │  KPIs: [Todos ▼] ou [Selecionar específicos...]               │    │ │
│ │  │                                                                 │    │ │
│ │  │  Tipo: (•) Comparativo  ( ) Evolutivo  ( ) Consolidado        │    │ │
│ │  │                                                                 │    │ │
│ │  │  [Gerar Relatório]                                             │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📊 Relatório Comparativo - Janeiro 2025                        │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  ┌───────────────────────────────────────────────────────────┐│    │ │
│ │  │  │KPI              │Jan/25│Dez/24│Variação│Meta │Status│Tend││    │ │
│ │  │  ├─────────────────┼──────┼──────┼────────┼─────┼──────┼────┤│    │ │
│ │  │  │SLA Cumprimento  │98.5% │96.2% │ +2.3%  │>95% │ 🟢   │ ↗️ ││    │ │
│ │  │  ├─────────────────┼──────┼──────┼────────┼─────┼──────┼────┤│    │ │
│ │  │  │Satisfação       │4.7/5 │4.4/5 │ +0.3   │>4.5 │ 🟢   │ ↗️ ││    │ │
│ │  │  ├─────────────────┼──────┼──────┼────────┼─────┼──────┼────┤│    │ │
│ │  │  │UpTime Sistema   │99.9% │99.8% │ +0.1%  │>99.5│ 🟢   │ → ││    │ │
│ │  │  ├─────────────────┼──────┼──────┼────────┼─────┼──────┼────┤│    │ │
│ │  │  │Resolução 1ºNv   │ 85%  │ 88%  │ -3.0%  │>90% │ 🟡   │ ↘️ ││    │ │
│ │  │  ├─────────────────┼──────┼──────┼────────┼─────┼──────┼────┤│    │ │
│ │  │  │Tempo Resposta   │2.3h  │1.8h  │+0.5h   │<2h  │ 🔴   │ ↗️ ││    │ │
│ │  │  └─────────────────┴──────┴──────┴────────┴─────┴──────┴────┘│    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 📈 Gráfico Evolutivo (12 meses)                                │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │                                                                 │    │ │
│ │  │  100┤  ╭───●───●───●───●───●───●                              │    │ │
│ │  │     │  │                                                       │    │ │
│ │  │   90┤  ●   ╭───────────────────────────                       │    │ │
│ │  │     │      │                                                   │    │ │
│ │  │   80┤      ●                                                   │    │ │
│ │  │     │                                                          │    │ │
│ │  │   70└──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──                     │    │ │
│ │  │     F  M  A  M  J  J  A  S  O  N  D  J                        │    │ │
│ │  │                                                                 │    │ │
│ │  │  ─ SLA   ─ Satisfação   ─ Resolução 1ºNv                      │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ │  ┌────────────────────────────────────────────────────────────────┐    │ │
│ │  │ 💡 Insights e Recomendações                                    │    │ │
│ │  ├────────────────────────────────────────────────────────────────┤    │ │
│ │  │  🟢 Pontos Positivos:                                          │    │ │
│ │  │  • SLA apresentou melhora de 2.3% no período                   │    │ │
│ │  │  • Satisfação do cliente atingiu maior nível do ano            │    │ │
│ │  │                                                                 │    │ │
│ │  │  🔴 Pontos de Atenção:                                         │    │ │
│ │  │  • Tempo de Resposta deteriorou 27% (2.3h vs 1.8h)             │    │ │
│ │  │  • Resolução em 1º Nível caiu 3% (requer investigação)         │    │ │
│ │  │                                                                 │    │ │
│ │  │  📌 Ações Recomendadas:                                        │    │ │
│ │  │  1. Reforçar equipe de 1º nível (reduzir tempo resposta)       │    │ │
│ │  │  2. Revisar processos de escalação                             │    │ │
│ │  │  3. Investir em treinamento técnico da equipe                  │    │ │
│ │  │                                                                 │    │ │
│ │  └────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                          │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Modal 01 - Configurar Alertas

**Trigger:** Botão [🔔 Alertas] ou menu de ações
**UC:** Custom

```
┌──────────────────────────────────────────────────────────────┐
│  Configurar Alertas - SLA Cumprimento                   [X]  │
├──────────────────────────────────────────────────────────────┤
│                                                               │
│  Configure notificações automáticas para este KPI.          │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │ 📋 Alertas Existentes                                 │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │                                                        │  │
│  │  1. 🟡 Alerta Amarelo (Atenção)                       │  │
│  │     Quando: < 97%                                     │  │
│  │     Ação: Email para gestor                           │  │
│  │     Status: ✅ Ativo            [✏️] [🗑️]            │  │
│  │                                                        │  │
│  │  2. 🔴 Alerta Vermelho (Crítico)                      │  │
│  │     Quando: < 95%                                     │  │
│  │     Ação: Email + SMS                                 │  │
│  │     Status: ✅ Ativo            [✏️] [🗑️]            │  │
│  │                                                        │  │
│  │  3. 📊 Relatório Semanal                              │  │
│  │     Quando: Toda segunda às 08:00                     │  │
│  │     Ação: Email com resumo                            │  │
│  │     Status: ✅ Ativo            [✏️] [🗑️]            │  │
│  │                                                        │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  [+ Novo Alerta]                                             │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │ Criar Novo Alerta                                     │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │                                                        │  │
│  │  Tipo de Alerta                                       │  │
│  │  (•) Por Valor   ( ) Por Tempo   ( ) Periódico       │  │
│  │                                                        │  │
│  │  Condição                                             │  │
│  │  Quando o valor for: [Menor que (<)    ▼] [____] %   │  │
│  │                                                        │  │
│  │  Ação                                                 │  │
│  │  [✓] Email                                            │  │
│  │  [ ] SMS                                              │  │
│  │  [ ] Notificação no Sistema                          │  │
│  │  [ ] Webhook                                          │  │
│  │                                                        │  │
│  │  Destinatários                                        │  │
│  │  [✓] Responsável pelo KPI                            │  │
│  │  [✓] Gestor do Departamento                          │  │
│  │  [ ] Diretoria                                        │  │
│  │  [ ] Outros: [_____________________]                 │  │
│  │                                                        │  │
│  │  Frequência                                           │  │
│  │  (•) Sempre que ocorrer                              │  │
│  │  ( ) Máximo 1x por hora                              │  │
│  │  ( ) Máximo 1x por dia                               │  │
│  │                                                        │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  [Cancelar]                    [Salvar Alerta]               │
│                                                               │
└──────────────────────────────────────────────────────────────┘
```

---

## Modal 02 - Entrada Manual de Valor

**Trigger:** Menu de ações → "Inserir Valor Manual" (para KPIs com coleta manual)
**UC:** UC01

```
┌──────────────────────────────────────────────────────────────┐
│  Inserir Valor Manual - Satisfação do Cliente          [X]  │
├──────────────────────────────────────────────────────────────┤
│                                                               │
│  Insira o valor coletado manualmente para este KPI.         │
│                                                               │
│  KPI: Satisfação do Cliente                                 │
│  Período: Janeiro/2025                                       │
│  Meta: > 4.5 (Escala de 1 a 5)                              │
│                                                               │
│  Data da Coleta *                                            │
│  [__/__/____] 📅  [__:__]                                   │
│                                                               │
│  Valor Coletado *                                            │
│  [_______] / 5.0                                            │
│                                                               │
│  Fonte/Origem dos Dados *                                    │
│  [Pesquisa de Satisfação - Survey Monkey    ▼]             │
│                                                               │
│  Número de Respondentes                                      │
│  [_______] pessoas                                          │
│                                                               │
│  Observações                                                 │
│  [_____________________________________________________]     │
│  [_____________________________________________________]     │
│  [_____________________________________________________]     │
│                                                               │
│  Anexar Evidência (opcional)                                 │
│  [📎 Selecionar Arquivo...]                                 │
│                                                               │
│  ─────────────────────────────────────────────────           │
│                                                               │
│  Previsão de Status:                                         │
│  Valor: 4.7 / 5.0  →  🟢 Dentro da Meta (> 4.5)             │
│                                                               │
│  [Cancelar]                    [Salvar Valor]                │
│                                                               │
└──────────────────────────────────────────────────────────────┘
```

---

## Modal 03 - Histórico Completo

**Trigger:** Menu de ações → "📊 Histórico"
**UC:** UC02

```
┌────────────────────────────────────────────────────────────────┐
│  Histórico Completo - SLA Cumprimento                     [X]  │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────────────────────────────────────────────┐     │
│  │ Período: [Últimos 12 meses ▼]  [📥 Exportar CSV]    │     │
│  └──────────────────────────────────────────────────────┘     │
│                                                                 │
│  ┌──────────────────────────────────────────────────────┐     │
│  │ Data      │Valor │Meta │Status│Tendência│Observação│     │
│  ├───────────┼──────┼─────┼──────┼─────────┼──────────┤     │
│  │18/01/2025 │98.5% │>95% │ 🟢   │  ↗️ +2% │-         │     │
│  │17/01/2025 │98.2% │>95% │ 🟢   │  → 0%   │-         │     │
│  │16/01/2025 │98.3% │>95% │ 🟢   │  ↗️ +1% │-         │     │
│  │15/01/2025 │97.8% │>95% │ 🟢   │  ↘️ -1% │-         │     │
│  │14/01/2025 │98.5% │>95% │ 🟢   │  → 0%   │-         │     │
│  │13/01/2025 │98.6% │>95% │ 🟢   │  ↗️ +1% │-         │     │
│  │12/01/2025 │97.4% │>95% │ 🟢   │  ↘️ -2% │-         │     │
│  │11/01/2025 │99.2% │>95% │ 🟢   │  ↗️ +3% │Pico mensal│    │
│  │10/01/2025 │96.8% │>95% │ 🟢   │  ↘️ -1% │-         │     │
│  │09/01/2025 │97.5% │>95% │ 🟢   │  → 0%   │-         │     │
│  └───────────┴──────┴─────┴──────┴─────────┴──────────┘     │
│                                                                 │
│  Página 1 de 36                           [◀] [1] [2] [3] [▶] │
│                                                                 │
│  ┌──────────────────────────────────────────────────────┐     │
│  │ 📊 Estatísticas do Período                           │     │
│  ├──────────────────────────────────────────────────────┤     │
│  │  Média:        97.8%                                 │     │
│  │  Mediana:      98.1%                                 │     │
│  │  Melhor:       99.2% (11/01/2025)                    │     │
│  │  Pior:         96.2% (28/12/2024)                    │     │
│  │  Desvio Padrão: 1.2%                                 │     │
│  │  Dentro da Meta: 358 de 365 dias (98.1%)            │     │
│  └──────────────────────────────────────────────────────┘     │
│                                                                 │
│  [Fechar]                                                       │
│                                                                 │
└────────────────────────────────────────────────────────────────┘
```

---

## Modal 04 - Testar Query/Fórmula

**Trigger:** Botão [🧪 Testar Query] no formulário
**UC:** UC01 / UC03

```
┌──────────────────────────────────────────────────────────────┐
│  Testar Query de Coleta                                 [X]  │
├──────────────────────────────────────────────────────────────┤
│                                                               │
│  Execute a query para validar a coleta de dados.            │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │ Query SQL:                                            │  │
│  ├───────────────────────────────────────────────────────┤  │
│  │ SELECT                                                │  │
│  │   COUNT(CASE WHEN AtendidoNoSLA = 1 THEN 1 END)      │  │
│  │     * 100.0 / COUNT(*) AS PercentualSLA              │  │
│  │ FROM Chamados                                         │  │
│  │ WHERE DataFechamento >= @DataInicio                   │  │
│  │   AND DataFechamento <= @DataFim                      │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
│  Parâmetros:                                                 │
│  @DataInicio: 01/01/2025 00:00:00                           │
│  @DataFim:    31/01/2025 23:59:59                           │
│                                                               │
│  [▶️ Executar Teste]                                         │
│                                                               │
│  ─────────────────────────────────────────────────           │
│                                                               │
│  ✅ Teste executado com sucesso!                             │
│                                                               │
│  Resultado: 98.5%                                            │
│  Tempo de execução: 0.23s                                    │
│  Linhas processadas: 1.245                                   │
│                                                               │
│  Status esperado: 🟢 Dentro da Meta (> 95%)                  │
│                                                               │
│  [Fechar]                    [Salvar e Aplicar]              │
│                                                               │
└──────────────────────────────────────────────────────────────┘
```

---

## Estados da Interface

### Estado 01 - Carregando Dashboard

```
┌────────────────────────────────────────┐
│  Dashboard de KPIs                      │
├────────────────────────────────────────┤
│                                         │
│          [===🔄===]                     │
│                                         │
│    Carregando indicadores...            │
│                                         │
└────────────────────────────────────────┘
```

### Estado 02 - Nenhum KPI Configurado

```
┌────────────────────────────────────────────────────┐
│  Dashboard de KPIs                                  │
├────────────────────────────────────────────────────┤
│                                                     │
│              📊                                     │
│                                                     │
│     Nenhum KPI configurado                         │
│                                                     │
│  Configure os primeiros indicadores (KPIs)         │
│  para começar a monitorar o desempenho.            │
│                                                     │
│          [+ Novo KPI]                              │
│                                                     │
└────────────────────────────────────────────────────┘
```

### Estado 03 - Erro na Coleta

```
┌────────────────────────────────────────────────────┐
│  KPI: SLA Cumprimento                               │
├────────────────────────────────────────────────────┤
│                                                     │
│              ⚠️                                     │
│                                                     │
│     Erro na coleta de dados                        │
│                                                     │
│  Não foi possível coletar os dados deste KPI.     │
│  Última coleta com sucesso: 17/01/2025 09:00      │
│                                                     │
│  Erro: Timeout na query SQL (>30s)                 │
│                                                     │
│  [🔄 Tentar Novamente] [🛠️ Revisar Configuração]  │
│                                                     │
└────────────────────────────────────────────────────┘
```

---

## Notificações Toast

### Sucesso - KPI Criado
```
┌──────────────────────────────────────┐
│ ✅ KPI criado com sucesso!           │
│ "SLA Cumprimento" foi configurado.   │
└──────────────────────────────────────┘
```

### Sucesso - Valor Inserido
```
┌──────────────────────────────────────┐
│ ✅ Valor registrado!                  │
│ 98.5% inserido para 18/01/2025.      │
└──────────────────────────────────────┘
```

### Sucesso - Alerta Configurado
```
┌──────────────────────────────────────┐
│ ✅ Alerta configurado!                │
│ Notificações serão enviadas quando   │
│ o valor estiver fora da meta.        │
└──────────────────────────────────────┘
```

### Aviso - Meta não Atingida
```
┌──────────────────────────────────────┐
│ ⚠️ Meta não atingida!                 │
│ SLA Cumprimento: 93% (meta: > 95%)   │
└──────────────────────────────────────┘
```

### Erro - Query Inválida
```
┌──────────────────────────────────────┐
│ ❌ Erro na query                      │
│ Verifique a sintaxe SQL e tente      │
│ novamente.                            │
└──────────────────────────────────────┘
```

### Info - Coletando Dados
```
┌──────────────────────────────────────┐
│ ℹ️ Coletando dados dos KPIs...        │
│ Aguarde, isso pode levar alguns      │
│ segundos.                             │
└──────────────────────────────────────┘
```

---

## Notas Técnicas de Implementação

### 1. Coleta Automática de Dados
- Scheduler (Hangfire/Quartz) para coletas periódicas
- Queries SQL parametrizadas e otimizadas
- Cache de resultados para KPIs em tempo real
- Retry automático em caso de falha

### 2. Cálculos e Fórmulas
- Suporte a fórmulas customizadas
- Operadores: média, soma, contagem, percentual, min, max
- Comparações: >, <, >=, <=, =, !=
- Agregações por período (diário, semanal, mensal)

### 3. Alertas e Notificações
- Email (SMTP)
- SMS (integração com provedor)
- Notificações push no sistema
- Webhooks para integrações externas
- Throttling para evitar spam

### 4. Visualizações
- Gráficos de linha, barra, área
- Gauge/medidor para valores únicos
- Heatmaps para análise temporal
- Comparativos lado a lado
- Exportação para PNG/PDF/Excel

### 5. Validações Críticas
- Nome do KPI único por categoria
- Meta obrigatória com operador válido
- Frequência de coleta compatível com fonte
- Query SQL válida (teste antes de salvar)
- Limites de alerta coerentes com meta

### 6. Performance
- Índices em: Categoria, DataColeta, Status
- Cache de dashboard principal (5 min)
- Lazy loading de gráficos históricos
- Agregações pré-calculadas mensalmente
- Paginação de 25 KPIs por página

### 7. Permissões e Segurança
- `KPIS.VISUALIZAR` - Ver dashboard e detalhes
- `KPIS.CRIAR` - Criar novo KPI
- `KPIS.EDITAR` - Editar configurações
- `KPIS.EXCLUIR` - Inativar KPI
- `KPIS.INSERIR_VALOR` - Entrada manual
- `KPIS.CONFIGURAR_ALERTAS` - Gerenciar alertas
- `KPIS.RELATORIOS` - Gerar relatórios
- `KPIS.EXPORTAR` - Exportar dados

### 8. Auditoria
- Todas as mudanças de configuração auditadas
- Histórico de valores mantido indefinidamente
- Registro de alertas disparados
- Log de erros em coletas automáticas
- Rastreabilidade de valores manuais (quem/quando)

---

**Última Atualização:** 18/12/2025
**Versão:** 1.0
**Status:** ✅ Completo e Pronto para Implementação
