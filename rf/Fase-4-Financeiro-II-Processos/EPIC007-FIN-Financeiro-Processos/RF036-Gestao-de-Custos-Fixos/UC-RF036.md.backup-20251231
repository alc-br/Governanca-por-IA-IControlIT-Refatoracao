# Casos de Uso - RF036 - Gestão de Custos Fixos

**Versão:** 1.0
**Data:** 2025-12-18
**RF Relacionado:** [RF036 - Gestão de Custos Fixos](./RF036.md)

## Índice de Casos de Uso

| UC | Nome | Complexidade |
|----|------|--------------|
| UC00 | Listar Custos Fixos | Média |
| UC01 | Criar Custo Fixo | Média |
| UC02 | Visualizar Custo Fixo | Baixa |
| UC03 | Editar Custo Fixo | Média |
| UC04 | Inativar Custo Fixo | Baixa |
| UC05 | Importar Custos em Lote | Alta |
| UC06 | Calcular Rateio de Custos | Alta |
| UC07 | Gerar Relatório de Custos | Média |
| UC08 | Projetar Custos Futuros | Média |

## UC00 - Listar Custos Fixos
**Objetivo:** Listagem paginada com filtros por categoria, fornecedor, período vigência, status.
**Fluxo:** Grid com Nome, Valor, Categoria, Fornecedor, Periodicidade, Vigência, Status. Filtros e busca textual.
**RN-036-001:** Exibir apenas custos da empresa atual (multi-tenancy).

## UC01 - Criar Custo Fixo
**Objetivo:** Registrar novo custo fixo com categoria, valor, periodicidade, vigência, rateio automático.
**Fluxo:** Form com Nome*, Categoria* (Aluguel, Suporte, Licença), Valor*, Periodicidade* (Mensal/Anual), Dt_Inicio*, Dt_Fim (opcional), Fornecedor, Centro Custo, % Rateio por departamento.
**RN-036-002:** Periodicidade Mensal → Job cria parcelas automaticamente até Dt_Fim.
**RN-036-003:** Rateio soma 100% obrigatório se habilitado.

## UC02 - Visualizar Custo Fixo
**Objetivo:** Detalhes completos + histórico de valores + projeção anual.
**Fluxo:** Exibe dados principais, histórico de alterações, parcelas futuras (se recorrente), impacto no orçamento.

## UC03 - Editar Custo Fixo
**Objetivo:** Alterar valor, categoria, vigência, rateio. Registra auditoria.
**RN-036-004:** Alteração de valor cria novo registro histórico (mantém rastreabilidade).

## UC04 - Inativar Custo Fixo
**Objetivo:** Encerrar custo fixo antecipadamente.
**RN-036-005:** Inativação imediata para custos não recorrentes. Custos recorrentes param geração futura mas mantém histórico.

## UC05 - Importar Custos em Lote
**Objetivo:** Upload CSV/Excel com validação em 3 etapas (formato → duplicados → saldo).
**Fluxo:** Upload → Preview → Validação → Importação com rollback se erro.
**RN-036-006:** Máximo 1.000 custos por importação.

## UC06 - Calcular Rateio de Custos
**Objetivo:** Distribuir custo fixo por centros de custo/departamentos conforme % configurado.
**Fluxo:** Job mensal aplica rateio automaticamente. Dashboard mostra distribuição.
**RN-036-007:** Rateio recalculado se % alterado (retroativo ao mês corrente apenas).

## UC07 - Gerar Relatório de Custos
**Objetivo:** Relatório consolidado por categoria, fornecedor, período com gráficos.
**Formatos:** PDF, Excel, CSV. Filtros personalizados.

## UC08 - Projetar Custos Futuros
**Objetivo:** Projeção 12 meses considerando custos recorrentes + reajustes contratuais.
**Fluxo:** Calcula baseado em histórico + índices de reajuste (IPCA, IGP-M).
**RN-036-008:** Projeção considera apenas custos com vigência ativa no período.

## Integrações
- Central de Funcionalidades: Feature "Custos Fixos"
- i18n: `custos_fixos.titulo`, `custos_fixos.categoria.aluguel`
- Auditoria: CREATE, UPDATE, DELETE, IMPORT
- RBAC: Visualizar (Gestor), Criar/Editar (Financeiro), Rateio (Controller)

## Histórico
| Versão | Data | Descrição |
|--------|------|-----------|
| 1.0 | 2025-12-18 | Criação inicial - 9 UCs |
