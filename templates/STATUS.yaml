rf: RF001
fase: Fase-1-Sistema-Base
epic: EPIC001-SYS-Sistema-Infraestrutura
titulo: Parametros e Configuracoes do Sistema

# ============================================================
# 1. SKELETON / BASE ATUAL
# ============================================================
skeleton:
  criado: True
  data_criacao: "2025-12-27"
  observacao: >
    Backend parcialmente implementado:
    - Parametros: 100%
    - Feature Flags: 100%
    - Configuracoes de Email: 0%
    - Limites de Uso: 30%
    Completude geral estimada: 57.5%

# ============================================================
# 2. DOCUMENTACAO (CONTRATOS)
# ============================================================
documentacao:
  documentacao: True
  uc: True
  md: False
  wf: False
  rl: False          # Referência ao legado ainda não extraída
  tc: False          # Casos de teste ainda não gerados

# ============================================================
# 3. DESENVOLVIMENTO
# ============================================================
desenvolvimento:
  backend:
    status: skeleton   # not_started | skeleton | in_progress | done
    branch: null
  frontend:
    status: not_started
    branch: null

# ============================================================
# 4. TESTES (RESULTADO)
# ============================================================
testes:
  backend: not_run        # not_run | pass | fail
  frontend: not_run
  e2e: not_run
  seguranca: not_run

# ============================================================
# 5. DOCUMENTACAO DE TESTES
# ============================================================
documentacao_testes:
  backend: True
  frontend: False
  e2e: False
  seguranca: False

# ============================================================
# 6. TESTES TI / QA
# ============================================================
testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: False
  aprovado: False

# ============================================================
# 7. GOVERNANCA DE CASOS DE USO (EXECUCAO)
# ============================================================
# Esta seção é a ponte oficial entre UC (contrato) e execução real.
# O UC-RFXXX.yaml NÃO deve ser alterado quando um UC é concluído.
# Toda evolução de status acontece aqui.
ucs:
  UC00:
    titulo: "Listar Parametros do Sistema"
    azure_work_item_id: null
    sprint: Backlog
    status: To Do        # To Do | In Progress | Done | Blocked
    responsavel: null
    story_points: 5
    data_inicio: null
    data_conclusao: null

  UC01:
    titulo: "Criar / Atualizar Parametro do Sistema"
    azure_work_item_id: null
    sprint: Backlog
    status: To Do
    responsavel: null
    story_points: 8
    data_inicio: null
    data_conclusao: null

  UC02:
    titulo: "Visualizar Detalhes de Parametro"
    azure_work_item_id: null
    sprint: Backlog
    status: To Do
    responsavel: null
    story_points: 3
    data_inicio: null
    data_conclusao: null

  UC03:
    titulo: "Gerenciar Feature Flags"
    azure_work_item_id: null
    sprint: Backlog
    status: To Do
    responsavel: null
    story_points: 8
    data_inicio: null
    data_conclusao: null

  UC04:
    titulo: "Configurar Limites de Uso"
    azure_work_item_id: null
    sprint: Backlog
    status: To Do
    responsavel: null
    story_points: 8
    data_inicio: null
    data_conclusao: null

  UC08:
    titulo: "Ocultar Feature do Sistema"
    azure_work_item_id: null
    sprint: Backlog
    status: To Do
    responsavel: null
    story_points: 5
    data_inicio: null
    data_conclusao: null

# ============================================================
# 8. SINCRONIZACAO COM AZURE DEVOPS
# ============================================================
# Azure DevOps NÃO é fonte de verdade.
# Ele reflete o conteúdo desta seção.
devops:
  work_item_id: 493            # Feature / Epic principal
  test_plan_id: null
  last_sync: "2025-12-27 15:31:10"
  board_column: "Skeleton"
  sync_policy:
    create_user_story_if_missing: True
    update_status_from_yaml: True
    update_sprint_from_yaml: True
    close_work_item_on_done: True

# ============================================================
# 9. GOVERNANCA E CONTRATOS
# ============================================================
governanca:
  contrato_ativo: "RF-UC-TC"
  ultimo_manifesto: null
  regras:
    - "UC não deve ser alterado após aprovado"
    - "Mudanças de execução devem ocorrer apenas no STATUS.yaml"
    - "UC só pode ser marcado como Done se TC correspondente estiver Pass"
    - "RF só é considerado entregue quando todos os UCs estiverem Done"

# ============================================================
# 10. OBSERVACOES GERAIS
# ============================================================
observacoes:
  - "Este arquivo é o único local autorizado para controle de execução."
  - "UC-RF001.yaml permanece imutável como contrato funcional."
  - "Azure DevOps é sincronizado a partir deste arquivo."
  - "Este STATUS.yaml pode ser usado por agentes de IA e scripts automatizados."

validacoes:
  documentacao_uc_cobertura_total: false
  uc_md_consistente: false
  uc_wf_consistente: false
  documentacao_yaml_sincronizado: false
  uc_yaml_sincronizado: false

# ============================================================
# 11. HISTÓRICO DE EXECUÇÕES (AUDITORIA)
# ============================================================
# Este bloco registra TODAS as execuções de contratos neste RF.
# Apenas ferramentas automatizadas podem alterar este bloco.
# Alteração manual invalida o STATUS.yaml.
execucoes:
  - contrato: "CONTRATO-DOCUMENTACAO-ESSENCIAL"
    data: "YYYY-MM-DD HH:MM:SS"
    aprovado: true
    executor: "agente-ia" # agente-ia | humano
    observacao: "RF, UC, MD, WF criados com sucesso"

  - contrato: "CONTRATO-GERACAO-DOCS-UC"
    data: "YYYY-MM-DD HH:MM:SS"
    aprovado: true
    executor: "agente-ia"
    observacao: "Validador RF→UC passou com 100%"

  - contrato: "CONTRATO-EXECUCAO-BACKEND"
    data: "YYYY-MM-DD HH:MM:SS"
    aprovado: false
    executor: "agente-ia"
    observacao: "Falha nos testes de validação - correções necessárias"

# ============================================================
# 12. REGRAS DE GOVERNANÇA (PROIBIÇÕES)
# ============================================================
regras_governanca:
  - "STATUS.yaml SÓ pode ser alterado por ferramentas automatizadas"
  - "Alteração manual de 'aprovado' invalida toda a execução"
  - "Histórico de execuções é IMUTÁVEL - novas execuções são ADICIONADAS"
  - "RF só pode avançar de fase se última execução estiver aprovada"
  - "UC só pode ser marcado como Done se TC correspondente estiver Pass"