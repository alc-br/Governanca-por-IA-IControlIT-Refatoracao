# =============================================
# RF - Requisito Funcional (Contrato Canônico)
# Versão: 1.0
# Autor padrão: Agência ALC - alc.dev.br
# =============================================

rf:
  id: "RFXXX"
  nome: "Nome do Requisito Funcional"
  versao: "1.0"
  data: "YYYY-MM-DD"
  fase: "Fase X - Nome da Fase"
  epic: "EPIC-ID"
  status: "draft" # draft | aprovado | em_desenvolvimento | concluido
  tipo_rf: "crud" # crud | leitura | integracao | batch

descricao:
  objetivo: "Descrever claramente o objetivo do requisito."
  problema_resolvido: "Qual problema de negócio este RF resolve."
  publico_afetado: "Quem utiliza ou é impactado por este RF."

escopo:
  incluso:
    - "Funcionalidade incluida 1"
    - "Funcionalidade incluida 2"
  fora:
    - "Funcionalidade fora do escopo"

entidades:
  - nome: "entidade_principal"
    descricao: "Entidade central do requisito"
    multi_tenant: true
    soft_delete: true
    auditoria: true

regras_negocio:
  - id: "RN-MOD-XXX-01"
    descricao: "Descricao objetiva da regra"
    tipo: "validacao" # validacao | unicidade | regra_negocio | seguranca
    campos_afetados: ["campo"]
    obrigatorio: true

  - id: "RN-MOD-XXX-02"
    descricao: "Outra regra relevante"
    tipo: "unicidade"
    campos_afetados: ["tenant_id", "campo"]

estados:
  - id: "pending"
    descricao: "Criado, aguardando processamento"
  - id: "active"
    descricao: "Ativo"
  - id: "inactive"
    descricao: "Inativo"
  - id: "cancelled"
    descricao: "Cancelado"

transicoes:
  permitidas:
    - de: "pending"
      para: "active"
    - de: "active"
      para: "inactive"
  proibidas:
    - de: "cancelled"
      para: "active"

permissoes:
  - codigo: "entidade.view_any"
    descricao: "Listar registros"
  - codigo: "entidade.view"
    descricao: "Visualizar registro"
  - codigo: "entidade.create"
    descricao: "Criar registro"
  - codigo: "entidade.update"
    descricao: "Atualizar registro"
  - codigo: "entidade.delete"
    descricao: "Excluir registro"

integracoes:
  internas:
    - "Autenticacao"
    - "Multi-Tenancy"
    - "Auditoria"
  externas:
    - sistema: "Sistema Externo"
      tipo: "API"
      obrigatoria: false

seguranca:
  isolamento_tenant: true
  auditoria_obrigatoria: true
  soft_delete: true

rastreabilidade:
  ucs_esperados:
    - "UC00"
    - "UC01"
    - "UC02"
    - "UC03"
    - "UC04"

catalog:
  crud:
    - id: "RF-CRUD-01"
      title: "Criar registro"
      required: true
      regras:
        - "RN-MOD-XXX-01"
        - "RN-MOD-XXX-02"
    - id: "RF-CRUD-02"
      title: "Listar registros"
      required: true
      regras:
        - "RN-MOD-XXX-01"
    - id: "RF-CRUD-03"
      title: "Visualizar registro"
      required: true
      regras:
        - "RN-MOD-XXX-01"
    - id: "RF-CRUD-04"
      title: "Atualizar registro"
      required: true
      regras:
        - "RN-MOD-XXX-01"
        - "RN-MOD-XXX-02"
    - id: "RF-CRUD-05"
      title: "Excluir registro"
      required: true
      regras:
        - "RN-MOD-XXX-01"

  validacoes:
    - id: "RF-VAL-01"
      title: "Validar campos obrigatórios"
      required: true
      regras:
        - "RN-MOD-XXX-01"
    - id: "RF-VAL-02"
      title: "Validar unicidade"
      required: false
      regras:
        - "RN-MOD-XXX-02"

  seguranca:
    - id: "RF-SEC-01"
      title: "Isolamento de tenant"
      required: true
      regras: []
    - id: "RF-SEC-02"
      title: "Permissões RBAC"
      required: true
      regras: []

exclusions:
  documentacao_items: []

historico:
  - versao: "1.0"
    data: "YYYY-MM-DD"
    autor: "Agência ALC - alc.dev.br"
    descricao: "Versao inicial"
