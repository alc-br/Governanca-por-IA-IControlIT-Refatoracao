# STATUS.yaml - RF087: Gestão de Integrações e APIs Externas
# Versão: 2.0 (Governança v2.0)
# Data: 2025-12-31

rf_id: RF087
rf_title: "Gestão de Integrações e APIs Externas"
fase: "Fase-6-Ativos-Auditoria-Integracoes"
epic: "EPIC011-INT-Integracoes"
versao_governanca: "2.0"
data_migracao: "2025-12-31"

# ==============================================================================
# DOCUMENTAÇÃO (GOVERNANÇA v2.0)
# ==============================================================================

documentacao:
  versao: "2.0"
  data_migracao: "2025-12-31"

  # Arquivos Obrigatórios v2.0
  documentacao: true                # RF087.md v2.0 criado (contrato moderno)
  documentacao_yaml: true           # RF087.yaml criado (estruturado)
  rl: true                # RL-RF087.md criado (memória legado)
  rl_yaml: true           # RL-RF087.yaml criado (rastreabilidade)

  # Arquivos Aguardando Criação (próximo contrato)
  uc: false               # Aguardando criação
  uc_yaml: false
  md: false
  wf: false
  user_stories: false

  arquivos_obrigatorios_presentes: true

# ==============================================================================
# VALIDAÇÃO SEPARAÇÃO RF/RL (OBRIGATÓRIA v2.0)
# ==============================================================================

separacao_rf_rl:
  documentacao_limpo: true                # RF não contém conteúdo legado
  rl_completo: true             # RL contém TODA memória legado
  itens_com_destino: true       # 100% itens RL têm campo destino
  validador_executado: true     # validator-rl.py passou (exit code 0)
  gaps_encontrados: 0           # Nenhum gap encontrado

# ==============================================================================
# ESTATÍSTICAS MIGRAÇÃO
# ==============================================================================

estatisticas:
  total_rns: 15                 # Regras de negócio extraídas
  total_endpoints_api: 8        # Endpoints REST documentados
  total_permissoes_rbac: 6      # Permissões RBAC definidas
  total_integracoes_obrigatorias: 5  # i18n, auditoria, RBAC, Central, Polly
  itens_legado_rastreados: 11   # Itens em RL-RF087.yaml
  bancos_legados_mapeados: 0    # Não há bancos legados específicos (AppSettings genérico)
  problemas_legado_identificados: 6  # Problemas documentados

  linhas_documentacao:
    documentacao_md: 615
    documentacao_yaml: 500
    rl_md: 400
    rl_yaml: 450
    total: 1965

# ==============================================================================
# IMPLEMENTAÇÃO (Aguardando próximos contratos)
# ==============================================================================

skeleton:
  criado: false
  data_criacao: null
  observacao: "Aguardando implementação"

desenvolvimento:
  backend:
    status: not_started   # not_started | in_progress | done
    branch: null
    entity: false
    commands: false
    queries: false
    validators: false
    handlers: false
    endpoints: false
    seeds: false
    migrations: false
    testes_unitarios: false

  frontend:
    status: not_started
    branch: null
    components: false
    services: false
    routes: false
    i18n: false
    testes_e2e: false

# ==============================================================================
# TESTES
# ==============================================================================

documentacao_testes:
  backend: false
  frontend: false
  seguranca: false
  e2e: false

testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: false       # True quando QA executou
  aprovado: false        # True quando usuario aprovou

# ==============================================================================
# DEVOPS
# ==============================================================================

devops:
  work_item_id: 615
  test_plan_id: null
  last_sync: "2025-12-27 15:32:17"
  board_column: "Documentação"

# ==============================================================================
# GOVERNANÇA
# ==============================================================================

governanca:
  contrato_ativo: "CONTRATO-RF-PARA-RL"
  ultimo_manifesto: "2025-12-31 - Migração RF v1.0 → v2.0 concluída"

# ==============================================================================
# STATUS GERAL
# ==============================================================================

status_geral:
  fase_atual: "DOCUMENTACAO_ESSENCIAL_V2.0_COMPLETA"
  percentual_completo: 25  # RF/RL completos = 25% do ciclo total
  proximo_passo: "CONTRATO-DOCUMENTACAO-ESSENCIAL (criar UC, MD, WF, User Stories)"
  bloqueadores: []
  observacoes: |
    - Migração RF v1.0 → v2.0 CONCLUÍDA
    - Separação RF/RL validada com sucesso (0 gaps)
    - RF limpo (sem conteúdo legado)
    - RL completo (11 itens rastreados, 100% com destinos)
    - Funcionalidade NOVA sem equivalente direto no legado
    - Próximo: Criar UC, MD, WF conforme CONTRATO-DOCUMENTACAO-ESSENCIAL

# ==============================================================================
# HISTÓRICO DE ALTERAÇÕES
# ==============================================================================

historico:
  - versao: "2.0"
    data: "2025-12-31"
    evento: "Migração RF v1.0 → v2.0 concluída"
    descricao: |
      - Criado RF087.md v2.0 (contrato moderno, 11 seções, 15 RNs)
      - Criado RF087.yaml (estruturado e sincronizado)
      - Criado RL-RF087.md (referência ao legado, 11 itens)
      - Criado RL-RF087.yaml (100% com destinos definidos)
      - Validação aprovada: validator-rl.py (0 gaps)
    autor: "Agência ALC - alc.dev.br"

  - versao: "1.0"
    data: "2025-12-27"
    evento: "Documentação reversa inicial"
    descricao: "RF not_started."
    autor: "Claude"
