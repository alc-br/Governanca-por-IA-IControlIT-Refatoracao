rf: RF040
fase: Fase-6-Ativos-Auditoria-Integracoes
epic: EPIC010-AUD-Auditoria-Avancada
titulo: Gestao de Troncos
versao: "2.0"  # Versão 2.0 - Governança com separação estrita RF/RL

skeleton:
  criado: True
  data_criacao: "2025-12-27"
  observacao: "Backend parcialmente implementado: 10% completo. Implementado: CRUD basico Troncos (5 endpoints - Troncos.cs). Faltam: Monitoramento tempo real (Hangfire job polling 30s SIP OPTIONS/SNMP GET/API REST health + 3 falhas consecutivas marca down + alerta SLA <1min + atualiza status disponivel/ocupado/indisponivel + chamadas ativas simultaneas + taxa utilizacao %), Metricas QoS (Jitter variacao latencia <30ms ideal <50ms aceitavel, Latencia round-trip <150ms ideal <300ms aceitavel, Packet Loss percentual perda <1% ideal <3% aceitavel, MOS Score algoritmo E-Model ITU-T G.107 calculo 4.0-5.0 excelente 3.0-4.0 bom 2.0-3.0 regular alerta 1.0-2.0 ruim failover), Deteccao automatica falhas (tronco inativo nao responde + degradacao qualidade MOS <3.0 + taxa erro alta >5% chamadas falhadas + congestionamento utilizacao >90% >5min + failover automatico tronco backup), Balanceamento de carga (algoritmos Round Robin Least Call Count Weighted + priorizacao troncos premium menor custo melhor qualidade + evita sobrecarga individuais), Analise capacidade vs utilizacao (comparacao contratada vs uso real + identificacao ociosidade subutilizacao <30% + congestionamento >80% + recomendacao ajuste aumento/reducao troncos), Custeio detalhado (fixo mensal assinatura + variavel por minuto/chamada + rateio centro custo/departamento + ROI SIP vs E1 vs analogicos), Relatorios gerenciais (disponibilidade mensal % uptime + Top 10 mais utilizados + evolucao QoS 6/12/24 meses + analise falhas MTBF MTTR + comparativo custos tecnologia), Integracao PABX/gateways (APIs REST SNMP SIP consulta status/capacidade + sincronizacao dados + provisionamento automatizado)."

documentacao:
  documentacao: True
  uc: True  # UC-RF040.md e UC-RF040.yaml criados e validados (v2.0)
  md: True
  wf: True

validacoes:
  documentacao_uc_cobertura_total: True  # validator-docs.py RF040 UC → 100% conforme
  uc_yaml_sincronizado: True   # UC-RF040.md ↔ UC-RF040.yaml sincronizados

# Governança v2.0 - Separação RF/RL
separacao_rf_rl:
  documentacao_md_atualizado: True          # RF040.md v2.0 criado (11 seções, 15 RNs, sem legado)
  documentacao_yaml_atualizado: True        # RF040.yaml criado e sincronizado
  rl_md_criado: True              # RL-RF040.md criado (ausência de funcionalidade legada)
  rl_yaml_criado: True            # RL-RF040.yaml criado (10 itens com 100% destinos preenchidos)
  validacao_executada: True       # validator-rl.py RF040 executado
  validacao_aprovada: True        # exit code 0 - nenhum gap encontrado
  data_migracao: "2025-12-30"

desenvolvimento:
  backend:
    status: skeleton   # not_started | in_progress | done | skeleton
    contrato_validado: true
    contrato: CONTRATO-EXECUCAO-BACKEND
    versao_contrato: v1.0
    branch: null
  frontend:
    status: done
    branch: null

testes:
  backend: not_run        # not_run | pass | fail
  frontend: not_run
  e2e: not_run
  seguranca: not_run

documentacao_testes:
  backend: False
  frontend: False
  e2e: False
  seguranca: False

testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: False       # True quando QA executou
  aprovado: False        # True quando usuario aprovou

devops:
  work_item_id: 613
  test_plan_id: null
  last_sync: "2025-12-27 15:31:41"
  board_column: "Skeleton"

governanca:
  contrato_ativo: CONTRATO-EXECUCAO-BACKEND
  ultimo_manifesto: null
