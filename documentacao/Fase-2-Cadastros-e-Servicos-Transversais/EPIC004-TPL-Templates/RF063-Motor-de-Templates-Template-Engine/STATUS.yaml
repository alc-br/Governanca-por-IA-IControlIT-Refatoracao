rf: RF063
fase: Fase-2-Cadastros-e-Servicos-Transversais
epic: EPIC004-TPL-Templates
titulo: Motor de Templates Template Engine

# ==============================================================================
# MIGRAÇÃO V2.0 - SEPARAÇÃO RF/RL
# ==============================================================================
versao_governanca: "2.0"
data_migracao: "2025-12-30"

skeleton:
  criado: True
  data_criacao: "2025-12-27"
  observacao: "Backend parcialmente implementado: 55% completo. Implementado: Sintaxe Liquid, contexto de dados, filtros customizados, preview em tempo real, versionamento e rollback, validacao de sintaxe, documentacao de variaveis, permissoes de template, upload/export/import, clone/archive (Templates.cs - TEMP_DISABLED). Faltam: Testes A/B, heranca de templates, parciais reutilizaveis, internacionalizacao (helper i18n), sanitizacao HTML contra XSS, cache Redis de templates compilados, auditoria de uso."

documentacao:
  documentacao: True
  documentacao_yaml: True
  rl: True
  rl_yaml: True
  uc: True
  uc_yaml: True  # ✅ VALIDADO - 100% conforme, 0 gaps (2025-12-31)
  md: True
  wf: True
  arquivos_obrigatorios_presentes: True
  separacao_rf_rl_validada: False  # Aguardando validador

desenvolvimento:
  backend:
    status: skeleton   # not_started | in_progress | done | skeleton
    contrato_validado: true
    contrato: CONTRATO-EXECUCAO-BACKEND
    versao_contrato: v1.0
    branch: null
  frontend:
    status: done
    branch: null

testes:
  backend: not_run        # not_run | pass | fail
  frontend: not_run
  e2e: not_run
  seguranca: not_run

documentacao_testes:
  backend: False
  frontend: False
  e2e: False
  seguranca: False

testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: False       # True quando QA executou
  aprovado: False        # True quando usuario aprovou

devops:
  work_item_id: 528
  test_plan_id: null
  last_sync: "2025-12-27 15:31:59"
  board_column: "Skeleton"

# ==============================================================================
# VALIDAÇÃO SEPARAÇÃO RF/RL (OBRIGATÓRIA V2.0)
# ==============================================================================
separacao_rf_rl:
  documentacao_limpo: True                # RF não contém conteúdo legado
  rl_completo: True             # RL contém TODA memória legado
  itens_com_destino: True       # 100% itens RL têm campo destino
  validador_executado: False    # validator-rl.py ainda não executado

# ==============================================================================
# ESTATÍSTICAS MIGRAÇÃO
# ==============================================================================
estatisticas:
  total_rns: 15                 # Regras de negócio extraídas
  total_endpoints_api: 9        # Endpoints REST documentados (CRUD + render + preview + version)
  total_permissoes_rbac: 9      # Permissões RBAC definidas
  total_integracoes_obrigatorias: 4  # i18n, auditoria, RBAC, Cache
  itens_legado_rastreados: 7    # Itens em RL-RF063.yaml (referencias)
  bancos_legados_mapeados: 0    # Nenhum banco legado específico (funcionalidade nova)
  problemas_legado_identificados: 6  # Problemas documentados

  linhas_documentacao:
    documentacao_md: 365
    documentacao_yaml: 277
    rl_md: 380
    rl_yaml: 320
    total: 1342

governanca:
  contrato_ativo: CONTRATO-EXECUCAO-TESTES
  ultimo_manifesto: null
