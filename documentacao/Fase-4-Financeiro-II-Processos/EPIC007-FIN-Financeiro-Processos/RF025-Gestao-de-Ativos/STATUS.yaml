rf: RF025
fase: Fase-4-Financeiro-II-Processos
epic: EPIC007-FIN-Financeiro-Processos
titulo: Gestao de Ativos


skeleton:
  criado: True
  data_criacao: "2025-12-27"
  observacao: "Backend parcialmente implementado: 10% completo. Implementado: CRUD basico Ativos (6 endpoints incluindo MovimentarAtivo - Ativos.cs). Faltam: Geracao automatica QR Code Base64 (biblioteca QRCoder .NET nivel correcao High 300x300px para etiquetas 30x30mm duravel), gerador PDF lote impressao multiplos QR Codes (impressora Zebra ZD421), validacao transicoes status (Enum: Disponivel/Alocado/Manutencao/Baixado/Perdido/Reservado com grafo transicoes validas + retorno 400 Bad Request transicao invalida), alocacao com responsavel obrigatorio (Id_Usuario_Responsavel FK + Termo Responsabilidade digital DocuSign), historico completo chain of custody (tabela Ativo_Movimentacao imutavel com campos Tipo_Movimentacao/Status_Origem/Status_Destino/Usuario_Origem/Usuario_Destino/Localizacao_Origem/Localizacao_Destino/Latitude/Longitude/Data_Movimentacao/Justificativa obrigatoria Baixa+Perdido), depreciacao automatica mensal (Hangfire job dia 1 02:00 UTC metodos Linear/Acelerada/Soma_Digitos + campos Valor_Atual_Depreciado/Dt_Ultima_Depreciacao + integracao ERP API REST SAP/TOTVS retry 3x), alertas garantia automaticos (Hangfire job diario 08:00 UTC verificando Dt_Garantia_Fim proximos 90/60/30 dias com Email+Push+In-App notification + tabela Ativo_Notificacoes_Enviadas prevenir duplicatas), validacao campos obrigatorios por tipo (FluentValidation condicionais: TI exige Numero_Serie/Marca/Modelo/Valor_Aquisicao/Dt_Aquisicao, Telecom exige Numero_Linha/Operadora/Tipo_Plano, Smartphone exige IMEI), geolocalizacao obrigatoria inventario mobile (captura GPS latitude/longitude precisao <=20m via app MAUI + flag InventarioRemoto=TRUE web desktop para auditoria), workflow aprovacao baixa 2 niveis (Gestor imediato + Controller/Financeiro com Justificativa minimo 50 chars + upload documentos BO/laudo tecnico/NF venda obrigatorios), validacao IMEI smartphones (15 digitos numericos + algoritmo Luhn checksum + consulta API Anatel verificar blacklist + salvar IMEI_Status Ativo/Bloqueado/Irregular), app mobile MAUI (inventario campo scan QR Code Android/iOS + validar GPS + tirar fotos + atualizar status), dashboard executivo tempo real Chart.js (ativos por status/tipo/localizacao, taxa utilizacao, top 10 mais caros), Domain Events sincronizacao movimentacoes."
documentacao:
  versao: "2.0"
  data_migracao: "2025-12-30"
  documentacao: True
  documentacao_yaml: True
  rl: True
  rl_yaml: True
  uc: True
  uc_yaml: True
  md: False
  wf: False
  user_stories: False
  arquivos_obrigatorios_presentes: True
  separacao_rf_rl_validada: True

desenvolvimento:
  backend:
    status: skeleton   # not_started | in_progress | done | skeleton
    branch: null
  frontend:
    status: not_started
    branch: null

testes:
  backend: not_run        # not_run | pass | fail
  frontend: not_run
  e2e: not_run
  seguranca: not_run

documentacao_testes:
  backend: False
  frontend: False
  e2e: False
  seguranca: False

testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run

testes_qa:
  executado: False       # True quando QA executou
  aprovado: False        # True quando usuario aprovou

devops:
  work_item_id: 561
  test_plan_id: null
  last_sync: "2025-12-27 15:31:29"
  board_column: "Skeleton"

# ==============================================================================
# VALIDAÇÃO SEPARAÇÃO RF/RL (OBRIGATÓRIA v2.0)
# ==============================================================================

separacao_rf_rl:
  documentacao_limpo: True                # RF não contém conteúdo legado
  rl_completo: True             # RL contém TODA memória legado
  itens_com_destino: True       # 100% itens RL têm campo destino (21/21)
  validador_executado: True     # validator-rl.py passou (exit code 0)

# ==============================================================================
# ESTATÍSTICAS MIGRAÇÃO
# ==============================================================================

estatisticas:
  total_rns: 15                 # Regras de negócio extraídas
  total_endpoints_api: 15       # Endpoints REST documentados
  total_permissoes_rbac: 15     # Permissões RBAC definidas
  total_integracoes_obrigatorias: 4  # i18n, auditoria, RBAC, Central
  itens_legado_rastreados: 21   # Itens em RL-RF025.yaml
  problemas_legado_identificados: 8  # Problemas documentados

  linhas_documentacao:
    documentacao_md: 503
    documentacao_yaml: 809
    rl_md: 702
    rl_yaml: 619
    total: 2633

governanca:
  contrato_ativo: "CONTRATO-RF-PARA-RL"
  ultimo_manifesto: "2025-12-30"
