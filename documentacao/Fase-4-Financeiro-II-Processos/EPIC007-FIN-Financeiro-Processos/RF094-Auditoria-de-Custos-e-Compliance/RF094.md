# RF-094: Auditoria de Custos e Compliance

**Versão**: 2.0
**Data**: 2025-12-31
**Autor**: Agência ALC - alc.dev.br
**EPIC**: EPIC007-FIN-Financeiro-Processos
**Fase**: Fase 4 - Financeiro II: Processos

---

## 1. VISÃO GERAL

### 1.1 Objetivo do Requisito

Especificar o módulo de **Auditoria de Custos e Compliance** do sistema IControlIT, responsável por analisar despesas, detectar desvios orçamentários, identificar anomalias, garantir conformidade com políticas corporativas e regulamentações, além de disponibilizar insights analíticos para tomada de decisão executiva.

O módulo integra dados de múltiplas fontes (linhas móveis, contratos, ativos, faturas) e aplica algoritmos de detecção de anomalias para identificar oportunidades de economia, desperdícios e violações de conformidade.

### 1.2 Escopo

#### O que está dentro do escopo

- Análise de custos multidimensional (fornecedor, categoria, departamento, período)
- Detecção automática de anomalias usando algoritmos estatísticos (Z-score, Isolation Forest)
- Análise de variância (custo planejado vs realizado)
- Benchmarking interno entre unidades, períodos ou fornecedores
- Cálculo de TCO (Total Cost of Ownership) de ativos
- Cálculo de ROI (Return on Investment) de iniciativas
- Identificação automática de desperdícios
- Alertas de não-conformidade com políticas corporativas
- Relatórios executivos e dashboards analíticos
- Exportação de relatórios (PDF, Excel, CSV)
- Integração com ferramentas de BI externas (Power BI, Tableau)
- Análise de conformidade com LGPD, SOX e políticas internas
- Auditoria de acesso com retenção de 7 anos
- Jobs de análise batch (Hangfire) para processamento noturno

#### Fora do escopo

- Implementação de Machine Learning avançado (feature flag desabilitada por padrão)
- Integração direta com sistemas ERP externos (responsabilidade de RF-078)
- Geração automática de propostas de renegociação contratual
- Interface visual específica ou layout (responsabilidade do frontend)

### 1.3 Importância Estratégica

O módulo é crítico para:

- **Conformidade Regulatória**: Atender LGPD (retenção 7 anos), SOX, ISO 27001 e políticas corporativas
- **Otimização de Despesas**: Identificar desperdícios e oportunidades de economia (potencial 5-15% redução de custos)
- **Governança Corporativa**: Fornecer evidências auditáveis de controle de despesas e detectar fraudes
- **Inteligência de Negócio**: Análise multidimensional de custos para identificar tendências e padrões
- **Tomada de Decisão Executiva**: Dashboards e KPIs para subsidiar decisões de fornecedores e negociações

### 1.4 Conceitos Fundamentais

**Auditoria de Custos**: Processo sistemático de revisar despesas para verificar conformidade com políticas, detectar anomalias e quantificar oportunidades de economia.

**Detecção de Anomalias**: Identificação de transações atípicas usando técnicas estatísticas:
- Z-score: Desvio padrão da média
- Isolation Forest: Algoritmo não-supervisionado para outliers

**Compliance**: Conformidade com regulamentações externas (LGPD, SOX) e políticas internas.

**TCO (Total Cost of Ownership)**: Custo total de um ativo durante todo seu ciclo de vida (aquisição, manutenção, suporte, depreciação, descarte).

**ROI (Return on Investment)**: Retorno sobre investimento calculado como (Benefício - Custo) / Custo × 100%.

**Dimensões de Análise**: Fornecedor, Categoria, Centro de Custo, Departamento, Filial, Período.

---

## 2. FUNCIONALIDADES

### FUNC-094-01: Análise de Custos Multidimensional

Visualizar custos agrupados por fornecedor, categoria, departamento ou período com drill-down interativo.

**Prioridade**: CRÍTICA

**Critérios de aceite**:
- Usuário pode selecionar até 3 dimensões simultaneamente
- Drill-down permite navegar de total para detalhes
- Filtros por data, fornecedor, categoria aplicáveis
- Exportação em PDF/Excel disponível

### FUNC-094-02: Detecção Automática de Anomalias

Identificar transações atípicas, desvios de padrão e possíveis fraudes usando ML/estatística.

**Prioridade**: ALTA

**Critérios de aceite**:
- Detecção por Z-score (>2.5 desvios padrão)
- Categorização por severidade (Baixa, Média, Alta, Crítica)
- Notificação automática para anomalias críticas
- Histórico de investigações mantido

### FUNC-094-03: Análise de Variância

Comparar custo planejado vs realizado, identificar desvios e calcular percentual de variância.

**Prioridade**: ALTA

**Critérios de aceite**:
- Cálculo automático de variância (valor absoluto e percentual)
- Classificação: Aceitável (<5%), Aviso (5-15%), Crítico (>15%)
- Comparação com múltiplos períodos
- Alertas automáticos para variâncias críticas

### FUNC-094-04: Benchmarking Interno

Comparar custos entre filiais, departamentos ou períodos para identificar melhores práticas.

**Prioridade**: MÉDIA

### FUNC-094-05: Cálculo de TCO

Determinar custo total de propriedade de ativos incluindo depreciação, manutenção e descarte.

**Prioridade**: ALTA

### FUNC-094-06: Cálculo de ROI

Quantificar retorno de investimentos e iniciativas de otimização.

**Prioridade**: MÉDIA

### FUNC-094-07: Identificação de Desperdícios

Detectar ativos inativos, linhas sem uso, fornecedores duplicados automaticamente.

**Prioridade**: ALTA

### FUNC-094-08: Alertas de Não-Conformidade

Notificações de violações de política corporativa (gastos acima do limite, fornecedor não aprovado).

**Prioridade**: CRÍTICA

### FUNC-094-09: Relatórios Executivos

Sumários com top gastos, economia potencial e recomendações.

**Prioridade**: ALTA

### FUNC-094-10: Dashboard Analítico

Visualizações em tempo real com KPIs, tendências e alertas.

**Prioridade**: ALTA

### FUNC-094-11: Exportação de Relatórios

Download em formatos PDF, Excel, CSV para apresentações e arquivos.

**Prioridade**: MÉDIA

### FUNC-094-12: Integração com BI

Exposição de dados via API para Power BI, Tableau ou ferramentas customizadas.

**Prioridade**: BAIXA

### FUNC-094-13: Análise de Conformidade

Relatórios de compliance com políticas corporativas (RF-079) e regulatórias (LGPD, SOX).

**Prioridade**: CRÍTICA

### FUNC-094-14: Histórico e Auditoria

Rastreamento de todas as operações e cálculos com retenção de 7 anos (LGPD).

**Prioridade**: CRÍTICA

### FUNC-094-15: Jobs de Análise Batch

Processamento noturno de detecção de anomalias, cálculo de depreciação, previsões (Hangfire).

**Prioridade**: ALTA

---

## 3. REGRAS DE NEGÓCIO

### RN-RF094-001: Cálculo de Variância

**Descrição**: O sistema deve calcular a variância entre custo planejado e realizado, expressando como percentual e valor absoluto.

**Fórmula**:
- Variância = CustoRealizado - CustoPlano
- VariânciaPercentual = (Variância / CustoPlano) × 100%

**Classificação**:
- |Percentual| ≤ 5% → Aceitável
- 5% < |Percentual| ≤ 15% → Aviso
- |Percentual| > 15% → Crítico

**Justificativa**: Variância é métrica fundamental para identificar desvios orçamentários.

**Critério de aceite**:
- Se CustoPlano = 0, retornar variância = 0
- Classificação aplicada corretamente
- Valores negativos indicam economia

### RN-RF094-002: Detecção de Anomalias por Z-Score

**Descrição**: Transações com desvio superior a 2.5 desvios padrão (Z-score > 2.5 ou < -2.5) devem ser marcadas como potencial anomalia.

**Critério de aceite**:
- Cálculo de média e desvio padrão sobre últimos 12 meses
- Z-score calculado para cada transação
- Anomalias persistidas em tabela específica

**Justificativa**: Z-score é método estatístico padrão para detecção de outliers (captura ~98% dos dados normais).

### RN-RF094-003: Categorização de Severidade de Anomalias

**Descrição**: Anomalias detectadas devem ser categorizadas por severidade baseado em impacto financeiro e Z-score.

**Classificação**:
- **Crítica**: Impacto > R$ 10.000 E |Z-Score| > 4
- **Alta**: Impacto > R$ 5.000 OU |Z-Score| > 3.5
- **Média**: Impacto > R$ 1.000 OU |Z-Score| > 2.8
- **Baixa**: Demais casos

**Justificativa**: Permite priorização de investigação manual.

### RN-RF094-004: Cálculo de TCO (Total Cost of Ownership)

**Descrição**: TCO de um ativo deve incluir aquisição, depreciação, manutenção, suporte e descarte durante seu ciclo de vida.

**Fórmula**:
```
TCO = ValorAquisição + (DepreciaçãoAnual × AnosVidaÚtil) +
      (CustoManutenção + CustoSuporte) × AnosVidaÚtil - ValorResidual
```

**Critério de aceite**:
- Valor residual reduz TCO
- Custo mensal = TCO / (AnosVidaÚtil × 12)
- Cálculo persiste em tabela auditável

### RN-RF094-005: Cálculo de ROI (Return on Investment)

**Descrição**: ROI deve ser calculado para quantificar benefício de iniciativas de otimização.

**Fórmula**:
```
ROI = ((BenefícioAnual × Anos) - Investimento) / Investimento × 100%
Payback = Investimento / BenefícioMensal (em meses)
```

**Critério de aceite**:
- ROI negativo indica prejuízo
- Payback infinito se BenefícioMensal = 0

### RN-RF094-006: Identificação de Desperdícios

**Descrição**: Sistema deve detectar automaticamente:
- Ativos inativos: sem movimento > 90 dias
- Linhas inativas: consumo zero > 60 dias
- Fornecedores duplicados: CNPJ idêntico
- Contratos expirados

**Critério de aceite**:
- Cálculo automático de impacto financeiro
- Desperdícios categorizados por tipo
- Economia potencial quantificada

### RN-RF094-007: Alertas de Não-Conformidade Automáticos

**Descrição**: Sistema deve gerar alertas automáticos para:
- Gastos acima do limite de política
- Fornecedores não aprovados
- Linhas sem SLA ativo
- Contratos próximos do vencimento (< 30 dias)
- Aprovações pendentes

**Severidade dos Alertas**:
- **Crítica**: Fornecedor não aprovado, SOX violation
- **Alta**: Gasto > 110% orçamento
- **Média**: Contrato vence em 30 dias
- **Baixa**: Linha inativa

**Justificativa**: Alertas proativos previnem violações de compliance.

### RN-RF094-008: Auditoria de Acesso com LGPD

**Descrição**: Todas as operações de leitura, modificação e exportação de dados devem ser registradas com:
- Usuário
- Timestamp
- IP
- Dados acessados
- Operação (READ, MODIFY, EXPORT, DELETE)

**Retenção**: Mínimo 7 anos conforme LGPD artigo 7°.

**Critério de aceite**:
- Soft delete após 7 anos (nunca exclusão física)
- Auditoria não pode ser desabilitada
- Registro em tabela estruturada

### RN-RF094-009: Cálculo de Depreciação de Ativos

**Descrição**: Depreciação deve ser calculada mensalmente usando método linear ou acelerado.

**Método Linear**:
```
DepreciaçãoMensal = (ValorOriginal - ValorResidual) / (AnosVidaÚtil × 12)
```

**Método Acelerado**:
- 50% depreciação no primeiro ano
- 50% restante distribuída nos anos seguintes

**Critério de aceite**:
- Não deprecia no primeiro mês de aquisição
- Depreciação acumulada não pode exceder (ValorOriginal - ValorResidual)

### RN-RF094-010: Jobs de Análise Batch (Hangfire)

**Descrição**: Sistema deve agendar jobs noturnos (02:00 UTC) para:
- Detecção de anomalias
- Cálculo de depreciação mensal
- Análise de tendências
- Previsões de custo
- Limpeza de auditoria antiga (após 7 anos)

**Critério de aceite**:
- Jobs com `[DisableConcurrentExecution]`
- Timeout 3600 segundos (1 hora)
- Logs estruturados de execução
- Notificação em caso de falha

**Justificativa**: Processamento batch evita overhead em horário de pico.

---

## 4. INTEGRAÇÕES OBRIGATÓRIAS

### 4.1 Internacionalização (i18n)

**Idiomas suportados**: pt-BR (padrão), en, es

**Chaves de tradução**:
- `auditoria.titulo`
- `auditoria.menu`
- `auditoria.analiseVariancia.*`
- `auditoria.deteccaoAnomalias.*`
- `auditoria.compliance.*`
- `auditoria.tco.*`
- `auditoria.roi.*`
- `auditoria.relatorios.*`
- `auditoria.validation.*`

### 4.2 Auditoria

**Operações auditadas**:

| Operação | Código | Dados Registrados |
|----------|--------|-------------------|
| Gerar Relatório de Custos | `AUD_RELATORIO_CUSTOS_VIEW` | Relatório ID, período, filtros, usuário, timestamp |
| Exportar Relatório | `AUD_RELATORIO_EXPORT` | Tipo (PDF/Excel), formato, quantidade registros, usuário, IP |
| Modificar Anomalia | `AUD_ANOMALIA_UPDATE` | Anomalia ID, status anterior/novo, motivo, usuário |
| Gerar Alerta | `AUD_ALERTA_CREATE` | Tipo alerta, severidade, contexto, timestamp |
| Acessar Dashboard | `AUD_DASHBOARD_VIEW` | Seções acessadas, filtros, usuário, duração |

**Retenção**: 7 anos (LGPD) - soft delete, nunca excluído fisicamente.

### 4.3 RBAC (Controle de Acesso)

**Permissões**:

| Permissão | Descrição | Roles Autorizadas |
|-----------|-----------|-------------------|
| `aud:auditoria:view` | Visualizar módulo de auditoria | Super Admin, Developer, Cliente Admin, Gestor, Auditor |
| `aud:variancia:view` | Visualizar análise de variância | Super Admin, Cliente Admin, Gestor, Auditor |
| `aud:variancia:exportar` | Exportar análise de variância | Super Admin, Cliente Admin, Auditor |
| `aud:anomalias:view` | Visualizar anomalias detectadas | Super Admin, Cliente Admin, Gestor, Auditor |
| `aud:anomalias:investigar` | Marcar anomalia como investigando | Super Admin, Cliente Admin, Auditor |
| `aud:anomalias:resolver` | Resolver anomalia | Super Admin, Cliente Admin, Auditor |
| `aud:compliance:view` | Visualizar alertas de conformidade | Super Admin, Cliente Admin, Gestor, Auditor |
| `aud:compliance:remediar` | Abrir chamado para remediar alerta | Super Admin, Cliente Admin, Gestor |
| `aud:relatorios:view` | Visualizar relatórios | Super Admin, Cliente Admin, Gestor, Auditor, Operador |
| `aud:relatorios:gerar` | Gerar novos relatórios | Super Admin, Cliente Admin, Auditor |
| `aud:relatorios:exportar` | Exportar relatórios (PDF, Excel) | Super Admin, Cliente Admin, Auditor |
| `aud:tco:calcular` | Calcular TCO de ativos | Super Admin, Cliente Admin, Gestor |
| `aud:roi:calcular` | Calcular ROI de iniciativas | Super Admin, Cliente Admin, Gestor |
| `aud:dashboard:view` | Acessar dashboard executivo | Super Admin, Cliente Admin, Gestor |

**Nota**: Operador pode apenas visualizar relatórios (view), não pode exportar. Auditor tem acesso completo mas não pode executar ações de remediação.

### 4.4 Central de Funcionalidades (Feature Flags)

**FeatureKey**: `AUDITORIA_CUSTOS_COMPLIANCE`

**Sub-features**:
- `AUDITORIA_ANALISE_VARIANCIA` (habilitado)
- `AUDITORIA_DETECCAO_ANOMALIAS` (habilitado)
- `AUDITORIA_TCO_ROI` (habilitado)
- `AUDITORIA_JOBS_BATCH` (habilitado)
- `AUDITORIA_ML_ANOMALIAS` (desabilitado - clientes premium)

**Nota**: Feature flags permitem ativar/desativar análises avançadas (ML) sem alterar código.

---

## 5. PERMISSÕES RBAC

Ver seção 4.3 para detalhamento completo.

**Matriz de Permissões**:

| Funcionalidade | Super Admin | Cliente Admin | Gestor | Auditor | Operador |
|----------------|-------------|---------------|--------|---------|----------|
| Visualizar Auditoria | ✓ | ✓ | ✓ | ✓ | ✗ |
| Análise Variância | ✓ | ✓ | ✓ | ✓ | ✗ |
| Exportar Relatórios | ✓ | ✓ | ✗ | ✓ | ✗ |
| Investigar Anomalias | ✓ | ✓ | ✗ | ✓ | ✗ |
| Remediar Alertas | ✓ | ✓ | ✓ | ✗ | ✗ |
| Calcular TCO/ROI | ✓ | ✓ | ✓ | ✗ | ✗ |
| Acessar Dashboard | ✓ | ✓ | ✓ | ✗ | ✗ |
| Visualizar Relatórios | ✓ | ✓ | ✓ | ✓ | ✓ |

---

## 6. API ENDPOINTS

### 6.1 Análise de Variância

| Método | Endpoint | Descrição | Permissão |
|--------|----------|-----------|-----------|
| GET | `/api/auditoria/variancia?dataInicio=&dataFim=&centrocustoId=` | Listar análises de variância | `aud:variancia:view` |
| GET | `/api/auditoria/variancia/{id}` | Obter análise específica | `aud:variancia:view` |
| POST | `/api/auditoria/variancia` | Criar nova análise | `aud:variancia:create` |
| PUT | `/api/auditoria/variancia/{id}` | Atualizar análise | `aud:variancia:update` |
| DELETE | `/api/auditoria/variancia/{id}` | Excluir análise (soft delete) | `aud:variancia:delete` |

### 6.2 Detecção de Anomalias

| Método | Endpoint | Descrição | Permissão |
|--------|----------|-----------|-----------|
| GET | `/api/auditoria/anomalias?dataInicio=&dataFim=&severidade=` | Listar anomalias | `aud:anomalias:view` |
| GET | `/api/auditoria/anomalias/{id}` | Obter detalhes | `aud:anomalias:view` |
| POST | `/api/auditoria/anomalias/detectar` | Forçar execução | `aud:anomalias:investigar` |
| PATCH | `/api/auditoria/anomalias/{id}/status` | Atualizar status | `aud:anomalias:resolver` |

### 6.3 Conformidade e Alertas

| Método | Endpoint | Descrição | Permissão |
|--------|----------|-----------|-----------|
| GET | `/api/auditoria/compliance?dataInicio=&dataFim=&tipo=` | Listar alertas | `aud:compliance:view` |
| POST | `/api/auditoria/compliance/alertas/remediar` | Criar chamado | `aud:compliance:remediar` |
| GET | `/api/auditoria/desperdicos?dataInicio=&dataFim=` | Listar desperdícios | `aud:auditoria:view` |

### 6.4 TCO e ROI

| Método | Endpoint | Descrição | Permissão |
|--------|----------|-----------|-----------|
| GET | `/api/auditoria/tco/{ativoId}` | Calcular TCO de ativo | `aud:tco:calcular` |
| POST | `/api/auditoria/tco/calcular-lote` | Calcular TCO múltiplos | `aud:tco:calcular` |
| GET | `/api/auditoria/roi/{iniciativaId}` | Calcular ROI | `aud:roi:calcular` |

### 6.5 Relatórios e Dashboard

| Método | Endpoint | Descrição | Permissão |
|--------|----------|-----------|-----------|
| GET | `/api/auditoria/relatorios?tipo=&dataInicio=&dataFim=` | Listar relatórios | `aud:relatorios:view` |
| POST | `/api/auditoria/relatorios/gerar` | Gerar novo relatório | `aud:relatorios:gerar` |
| GET | `/api/auditoria/relatorios/{id}/exportar?formato=pdf` | Exportar PDF | `aud:relatorios:exportar` |
| GET | `/api/auditoria/relatorios/{id}/exportar?formato=excel` | Exportar Excel | `aud:relatorios:exportar` |
| GET | `/api/auditoria/dashboard` | Obter dados dashboard | `aud:dashboard:view` |

### 6.6 Análises Específicas

| Método | Endpoint | Descrição | Permissão |
|--------|----------|-----------|-----------|
| GET | `/api/auditoria/custos-fornecedor?dataInicio=&dataFim=` | Análise por fornecedor | `aud:auditoria:view` |
| GET | `/api/auditoria/custos-categoria?dataInicio=&dataFim=` | Análise por categoria | `aud:auditoria:view` |
| GET | `/api/auditoria/tendencias?periodo=mensal&meses=12` | Análise de tendências | `aud:auditoria:view` |

---

## 7. MODELO DE DADOS

**Referência**: Ver [MD-RF094.md](./MD-RF094.md) para DDL completo.

**Principais Entidades**:

- `AnaliseVariancia`: Registros de análises de variância
- `AnomaliaCusto`: Anomalias detectadas pelo sistema
- `AlertaConformidade`: Alertas de não-conformidade
- `RelatorioAuditoria`: Relatórios gerados
- `AuditoriaAcessoLGPD`: Log de acesso (retenção 7 anos)
- `CalculoTCO`: Histórico de cálculos de TCO
- `CalculoROI`: Histórico de cálculos de ROI

**Relacionamentos Críticos**:
- `AnomaliaCusto` → `Fatura` (FK)
- `AnaliseVariancia` → `CentroCusto` (FK)
- `AlertaConformidade` → `Fornecedor` | `Contrato` (FK opcional)

---

## 8. DEPENDÊNCIAS

### 8.1 RFs Dependentes (Upstream)

- **RF-032**: Gestão de Faturas e Notas Fiscais (fonte de dados de custos)
- **RF-035**: Gestão de Resumos Auditoria (dados de auditoria)
- **RF-054**: Gestão de Lotes Auditoria (agrupamento de auditorias)
- **RF-079**: Gestão Políticas Compliance (definições de políticas)
- **RF-089**: Conciliação Auditoria Faturas (dados consolidados)

### 8.2 RFs que Dependem Deste (Downstream)

- **RF-101**: Dashboards Executivos Operacionais (consome dados de auditoria)
- **RF-102**: Relatórios e Análises (consome dados consolidados)

### 8.3 Dependências de Bibliotecas

- **Backend**: Hangfire (jobs batch), MathNet.Numerics (estatísticas)
- **Frontend**: Chart.js (gráficos), Angular Material (componentes)

---

## 9. KPIs E MÉTRICAS

| KPI | Meta | Medição |
|-----|------|---------|
| **Economia Identificada (mensal)** | R$ 50.000+ | Soma de economia potencial |
| **Anomalias Detectadas (mensal)** | 5-20 por cliente | Contagem Z-Score > 2.5 |
| **Taxa de Variância Aceitável** | > 90% dos centros | Percentual < 5% |
| **Tempo de Resolução de Anomalia** | < 5 dias | Mediano entre detecção e resolução |
| **Taxa de Falsos Positivos** | < 20% | Anomalias marcadas falso positivo / Total |
| **Conformidade com Política** | > 95% | Transações aprovadas / Total |
| **Tempo de Resposta Dashboard** | < 2 segundos | P95 de latência |
| **Disponibilidade do Módulo** | 99,5% | Uptime mensal |

---

## 10. ALERTAS CRÍTICOS

| Alerta | Condição | Ação |
|--------|----------|------|
| **Anomalia Crítica Detectada** | Z-Score > 4.0 em gasto | Email ao gestor + SMS + Card dashboard |
| **Compliance Violado** | Fornecedor não aprovado | Notificação compliance officer + bloquear pagamento |
| **Orçamento Excedido** | Gasto > 110% orçamento | Email ao diretor + sugerir economia |
| **Job Batch Falhou** | Erro em AnaliseBatchAuditoriaJob | Alerta DevOps |
| **Variância Alta** | > 15% em centro de custo | Relatório automático ao gestor |
| **Contrato Vencido** | Data vencimento < hoje | Alerta crítica ao procurement |

---

## 11. CENTRAL DE FUNCIONALIDADES

**Código da Funcionalidade**: `AUDITORIA_CUSTOS_COMPLIANCE`

**Módulo**: Financeiro > Auditoria

**i18n keys**:
- Menu: `auditoria.menu`
- Título: `auditoria.titulo`
- Subtítulo: `auditoria.descricao`

**Rota Frontend**: `/financeiro/auditoria`

**Sub-funcionalidades**:
- `/financeiro/auditoria/variancia` - Análise de Variância
- `/financeiro/auditoria/anomalias` - Detecção de Anomalias
- `/financeiro/auditoria/compliance` - Conformidade e Alertas
- `/financeiro/auditoria/tco` - Cálculo de TCO
- `/financeiro/auditoria/roi` - Cálculo de ROI
- `/financeiro/auditoria/relatorios` - Relatórios
- `/financeiro/auditoria/dashboard` - Dashboard Executivo

---

## PRÓXIMOS PASSOS

1. **Modelo de Dados**: Criar [MD-RF094.md](./MD-RF094.md) com DDL completo
2. **Casos de Uso**: Criar [UC-RF094.md](./UC-RF094.md) com 5+ casos de uso (UC00-UC04)
3. **Workflows**: Criar [WF-RF094.md](./WF-RF094.md) com diagramas de fluxo
4. **User Stories**: Criar [user-stories.yaml](./user-stories.yaml)
5. **Testes**: Criar [TC-RF094-BACKEND.md](./TC-RF094-BACKEND.md), [TC-RF094-FRONTEND.md](./TC-RF094-FRONTEND.md), [TC-RF094-E2E.md](./TC-RF094-E2E.md)
6. **Implementação Backend**: Commands/Queries, Handlers, Validators, DTOs
7. **Implementação Frontend**: Componentes Angular, Services, Dashboards
8. **Integração ML**: Implementar Scikit-learn (Isolation Forest) ou Azure ML
9. **Deploy Azure**: Containerizar, CI/CD no DevOps
10. **Validação Tester-Backend**: Aprovação formal antes de merge em dev

---

## CHANGELOG

| Versão | Data | Descrição | Autor |
|--------|------|-----------|-------|
| 1.0 | 2025-12-28 | Versão inicial com referências ao legado misturadas | Claude Code (IA) |
| 2.0 | 2025-12-31 | Migração v2.0: Separação RF/RL, 11 seções, 10 RNs, SEM legado | Claude Code (IA) |

---

**Última Atualização**: 2025-12-31
**Autor**: Claude Code - Agente de Migração de Documentação
**Revisão**: Pendente de aprovação pelo time de arquitetura
