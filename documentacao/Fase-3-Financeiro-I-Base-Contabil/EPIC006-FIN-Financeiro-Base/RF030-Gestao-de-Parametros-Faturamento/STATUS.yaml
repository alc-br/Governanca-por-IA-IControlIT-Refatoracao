rf: RF030
fase: Fase-3-Financeiro-I-Base-Contabil
epic: EPIC006-FIN-Financeiro-Base
titulo: Gestao de Parametros Faturamento
skeleton:
  criado: true
  data_criacao: '2025-12-27'
  observacao: 'Backend parcialmente implementado: 10% completo. Implementado: CRUD
    Parametros Faturamento (5 endpoints basicos - ParametrosFaturamento.cs). Faltam:
    Gerenciamento layouts de importacao (cadastro layouts flexiveis CSV, Excel, XML,
    JSON, EDI X12 com mapeamento drag-and-drop + validacao por coluna + transformacoes
    upper/trim/regex), motor validacao pre-importacao (engine FluentValidation + Custom
    Validators + paralelizacao valida 100% linhas ANTES de gravar), biblioteca regras
    auditoria (catalogo 50+ regras configuraveis: ex ''Fatura > R$ 10k sem anexo'',
    ''Consumo fora da media +30%'' com Expression Engine NCalc + severidade Informativa/Alerta/Bloqueante),
    templates rateio configuraveis (modelos reutilizaveis distribuicao custos por
    depto/centro custo/projeto com tipos: Fixo %, Variavel por metrica, Escalonado,
    Misto), simulador importacao sandbox (ambiente seguro testar layouts + regras
    com dados ficticios In-Memory Database + Modo Dry-Run + preview resultados), versionamento
    completo configuracoes (historico mudanças layouts/regras/templates quem/quando/o
    que/por que com Temporal Tables SQL Server + Change Tracking retencao 7 anos SOX/LGPD),
    parametros fiscais tributarios (configuracao aliquotas, CFOP, NCM, CST, regime
    tributario Simples/Lucro Real/Presumido + biblioteca Brasil.NET + integracao SEFAZ
    atualizacoes automaticas), gestao fornecedores homologados (catalogo fornecedores
    aprovados + layouts/regras especificos + workflow aprovacao + validacoes documentacao
    fiscal/certificacoes/historico glosas), dashboard qualidade dados (painel metricas:
    % linhas rejeitadas, top erros, tempo medio importacao com Angular 19 + ApexCharts
    + SignalR real-time), API configuracao integracoes (endpoints REST/GraphQL sistemas
    externos consultarem layouts + regras vigentes com ASP.NET Core + GraphQL HotChocolate
    + OAuth2 + API Key + Rate Limiting).'
documentacao:
  versao: '2.0'
  data_migracao: '2025-12-30'
  documentacao: true
  documentacao_yaml: true
  rl: true
  rl_yaml: true
  uc: true
  md: true
  wf: true
  arquivos_obrigatorios_presentes: true
  separacao_rf_rl_validada: true
separacao_rf_rl:
  documentacao_limpo: true
  rl_completo: true
  itens_com_destino: true
  validador_executado: true
estatisticas:
  total_rns: 15
  total_endpoints_api: 50
  total_permissoes_rbac: 10
  total_integracoes_obrigatorias: 4
  itens_legado_rastreados: 18
  bancos_legados_mapeados: 0
  problemas_legado_identificados: 8
  linhas_documentacao:
    documentacao_md: 426
    documentacao_yaml: 524
    rl_md: 651
    rl_yaml: 797
    total: 2398
desenvolvimento:
  backend:
    status: skeleton
    contrato_validado: true
    contrato: CONTRATO-EXECUCAO-BACKEND
    versao_contrato: v1.0
    branch: null
  frontend:
    status: done
    branch: null
testes:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run
documentacao_testes:
  backend: false
  frontend: false
  e2e: false
  seguranca: false
testes_ti:
  backend: not_run
  frontend: not_run
  e2e: not_run
  seguranca: not_run
testes_qa:
  executado: false
  aprovado: false
devops:
  work_item_id: 556
  test_plan_id: null
  last_sync: '2025-12-27 15:31:33'
  board_column: Skeleton
governanca:
  contrato_ativo: CONTRATO-EXECUCAO-TESTES
  ultimo_manifesto: null
validacoes:
  documentacao_uc_cobertura_total: true
  uc_md_consistente: true
  uc_wf_consistente: true
  documentacao_yaml_sincronizado: true
  uc_yaml_sincronizado: true
governanca_atualizada:
  contrato_ativo: CONTRATO-GERACAO-DOCS-TC
  ultimo_manifesto: null
  regras:
  - UC não deve ser alterado após aprovado
  - Mudanças de execução devem ocorrer apenas no STATUS.yaml
  - UC só pode ser marcado como Done se TC correspondente estiver Pass
  - RF só é considerado entregue quando todos os UCs estiverem Done
execucoes:
- contrato: CONTRATO-GERACAO-DOCS-UC
  data: '2025-12-31 16:22:00'
  aprovado: true
  executor: agente-ia
  observacao: UC-RF030.md atualizado com metadados v2.0, UC-RF030.yaml criado com
    9 UCs (UC00-UC08). Validador passou com 100%
- contrato: CONTRATO-GERACAO-DOCS-UC
  data: '2025-12-31 18:00:00'
  aprovado: true
  executor: agente-ia
  observacao: 'UC-RF030 completado: adicionados UC09-UC14 (Templates Rateio, Parametros
    Fiscais, Homologacao, Dashboard). Total 15 UCs. Cobertura 100% de documentacao_items. Validador
    passou com 0 gaps'
