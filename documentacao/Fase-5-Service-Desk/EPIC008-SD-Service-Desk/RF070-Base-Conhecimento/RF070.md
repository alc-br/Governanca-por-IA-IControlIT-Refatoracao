# RF-070: Base de Conhecimento

**Versão**: 2.0
**Data**: 2025-12-30
**Autor**: Agência ALC - alc.dev.br
**EPIC**: EPIC008-SD - Service Desk
**Fase**: Fase 5 - Service Desk

---

## 1. OBJETIVO DO REQUISITO

Este requisito especifica o **Módulo de Base de Conhecimento (Knowledge Base)** do sistema IControlIT modernizado, responsável por criar, organizar, publicar e gerenciar artigos técnicos, tutoriais, procedimentos, FAQs e documentação de suporte que auxiliam na resolução de chamados, reduzem tempo de atendimento e promovem autoatendimento pelos usuários finais.

O RF-070 define o comportamento esperado do módulo de gestão de conhecimento, servindo como **contrato oficial** entre negócio, desenvolvimento, testes e agentes de IA. Este documento **não define implementação técnica**, apenas **o que o sistema deve fazer**, sob quais condições e quais garantias devem ser preservadas.

**Problema Resolvido**: Centralização de conhecimento disperso (documentos Word, e-mails, memória de analistas) em plataforma colaborativa com busca inteligente, controle de qualidade e métricas de efetividade, aumentando eficiência operacional e promovendo autoatendimento.

**Usuários Principais**:
- Analistas de Service Desk (consulta durante atendimento)
- Especialistas Técnicos (criação e manutenção de artigos)
- Gestores de Conhecimento (aprovação, curadoria, métricas)
- Usuários Finais (autoatendimento via portal self-service)
- Auditores (rastreabilidade de mudanças)

---

## 2. ESCOPO

### 2.1 O que está dentro do escopo

- Criação, atualização, visualização e exclusão lógica de artigos de conhecimento
- Editor rico WYSIWYG com suporte a formatação avançada, imagens, vídeos e código
- Sistema de busca full-text com ranking por relevância
- Categorização hierárquica (árvore N níveis) com relacionamento many-to-many
- Sistema de votação (Útil/Não Útil) com comentários e métricas de utilidade
- Versionamento completo de conteúdo com histórico before/after
- Workflow de aprovação configurável por categoria
- Gestão de anexos (upload, download, preview inline)
- Sugestão automática de artigos relacionados
- Integração com RF-073 (Gestão de Chamados) para sugestão de artigos durante atendimento
- Portal self-service público para autoatendimento
- Analytics e relatórios (artigos mais acessados, taxa de conversão, coverage)
- Tags dinâmicas com autocomplete
- Suporte multi-idioma (pt-BR, en-US, es-ES)
- Exportação massiva (PDF, DOCX, HTML, Markdown, JSON)
- Sistema de notificações e subscrição por categoria
- API REST/GraphQL para integração com sistemas externos
- Controle de acesso baseado em permissões (RBAC)
- Auditoria completa de operações com retenção de 7 anos
- Isolamento multi-tenant (ClienteId)

### 2.2 Fora do escopo (não objetivos)

- Interface visual específica (responsabilidade do Frontend)
- Tecnologia, framework ou linguagem de implementação
- Layout, UX ou identidade visual (definidos pelo Design System)
- Estratégia de deploy ou infraestrutura (responsabilidade de DevOps)
- Motor de busca específico (ElasticSearch/Azure Cognitive Search - decisão técnica)
- Algoritmos de ML/IA para tags automáticas (feature opcional)
- Chatbot integrado (pode ser adicionado posteriormente)
- Gamificação (ranking de autores, badges - feature opcional)

---

## 3. CONCEITOS E DEFINIÇÕES

| Termo | Definição |
|-------|-----------|
| **Artigo de Conhecimento** | Documento estruturado que descreve solução para problema específico, procedimento técnico, tutorial ou resposta a pergunta frequente. Contém: título, resumo, problema/sintoma, solução passo-a-passo, causa raiz (opcional), prevenção (opcional), tags, categorias e anexos. |
| **Categoria de Conhecimento** | Estrutura hierárquica (árvore N níveis) que organiza artigos por domínio técnico, público-alvo ou área de negócio. Permite navegação intuitiva e filtros de busca. Cada artigo pode pertencer a múltiplas categorias. |
| **Motor de Busca Full-Text** | Sistema de indexação e busca textual que analisa todo conteúdo dos artigos (título, corpo, tags, anexos) retornando resultados ranqueados por relevância. Suporta: stemming, stopwords, sinônimos e busca fonética. |
| **Sistema de Votação** | Mecanismo que permite usuários avaliarem utilidade do artigo com votação binária (Útil/Não Útil), incluindo comentários opcionais. Calcula Taxa de Utilidade = (Votos Útil / Total Votos) * 100. |
| **Versionamento de Conteúdo** | Sistema que registra todas as versões anteriores de um artigo (before/after completo) com metadata (quem alterou, quando, motivo). Permite rollback e comparação visual entre versões. |
| **Workflow de Aprovação** | Fluxo configurável de revisão e aprovação antes de publicar artigo novo ou atualização. Estados: Rascunho → Aguardando Revisão → Em Revisão → Aprovado → Publicado. |
| **Artigo Relacionado** | Sugestão automática de artigos semanticamente relacionados baseada em análise de conteúdo, tags compartilhadas e padrões de acesso. |
| **Analytics de Conhecimento** | Conjunto de métricas que medem efetividade da base de conhecimento: artigos mais acessados, taxa de conversão, tempo médio de leitura, artigos obsoletos (sem acesso em 180 dias), coverage de chamados. |
| **Score de Utilidade** | Percentual calculado a partir das votações (Útil vs Não Útil). Artigos com score < 60% são sinalizados para revisão. |
| **Artigo Obsoleto** | Artigo publicado que não recebe acessos há 180 dias ou mais, sinalizando necessidade de arquivamento ou atualização. |
| **Coverage de Chamados** | Percentual de chamados que possuem pelo menos um artigo relacionado vinculado. Meta: > 70%. |

---

## 4. FUNCIONALIDADES COBERTAS

1. **CRUD de Artigos** - Criar, visualizar, atualizar e excluir (lógico) artigos de conhecimento
2. **Editor Rico WYSIWYG** - Editor avançado com formatação texto, listas, tabelas, imagens, vídeos, syntax highlighting para código
3. **Busca Full-Text Inteligente** - Motor de busca com autocomplete, correção ortográfica, filtros facetados, ranking por relevância
4. **Sistema de Categorização Hierárquica** - Árvore de categorias N níveis, artigo pode pertencer a múltiplas categorias
5. **Votação e Feedback** - Sistema Útil/Não Útil com comentários, relatório de artigos com baixa utilidade
6. **Versionamento Completo** - Histórico de versões com diff visual, rollback, log de auditoria
7. **Workflow de Aprovação** - Fluxo configurável por categoria com SLA e notificações automáticas
8. **Gestão de Anexos** - Upload múltiplos arquivos, preview inline, controle de versão de anexos
9. **Artigos Relacionados Automáticos** - Algoritmo que sugere artigos semanticamente similares
10. **Integração com Chamados** - Sugestão automática de artigos ao criar chamado, vinculação de artigos a chamados
11. **Portal Self-Service** - Interface pública para usuários finais com busca simplificada
12. **Analytics e Relatórios** - Dashboard com métricas de uso e efetividade
13. **Tags Dinâmicas** - Sistema de tags livres com autocomplete
14. **Multi-Idioma (i18n)** - Suporte a tradução de artigos (pt-BR, en-US, es-ES)
15. **Exportação Massiva** - Exportar artigos em PDF, DOCX, HTML, Markdown, JSON
16. **Subscrição e Notificações** - Usuário pode seguir categorias e receber notificações
17. **API REST/GraphQL** - Endpoints para integração com sistemas externos

---

## 5. REGRAS DE NEGÓCIO

### RN-RF070-01 — Título Único por Categoria

**Descrição**: Dentro de uma mesma categoria, não podem existir dois artigos ativos com títulos idênticos (case-insensitive).

**Justificativa**: Evitar duplicação de conteúdo, confusão para usuários e dificuldades de manutenção.

**Critério de Aceite**:
- Título duplicado na mesma categoria → rejeição com erro `KB_TITULO_DUPLICADO`
- Títulos idênticos em categorias diferentes → permitido
- Comparação case-insensitive

**Validação**: Verificar antes de criar ou atualizar artigo.

---

### RN-RF070-02 — Conteúdo Mínimo Obrigatório

**Descrição**: Todo artigo DEVE conter:
- Título: 10-200 caracteres
- Resumo: 50-500 caracteres
- Problema/Sintoma: mínimo 100 caracteres
- Solução: mínimo 200 caracteres
- Pelo menos 1 categoria

Campos opcionais: Causa Raiz, Prevenção, Anexos.

**Justificativa**: Garantir qualidade mínima e padronização. Artigos muito curtos não ajudam na resolução de problemas.

**Critério de Aceite**:
- Campo obrigatório ausente ou fora da faixa → rejeição com código de erro específico
- Validação tanto no backend quanto no frontend

**Validação**: FluentValidation no backend.

---

### RN-RF070-03 — Limite de Categorias por Artigo

**Descrição**: Cada artigo pode pertencer a no máximo 5 categorias simultaneamente.

**Justificativa**: Evitar categorização excessiva que dificulta navegação e filtragem.

**Critério de Aceite**:
- Tentativa de vincular > 5 categorias → rejeição com erro `KB_LIMITE_CATEGORIAS_EXCEDIDO`
- Mínimo 1 categoria obrigatória

**Validação**: Verificar ao criar ou atualizar artigo.

---

### RN-RF070-04 — Workflow de Aprovação por Categoria

**Descrição**: Artigos em categorias críticas (Segurança, Compliance, LGPD) SEMPRE requerem aprovação antes de publicação, independentemente de permissões do usuário.

**Justificativa**: Garantir qualidade e conformidade em conteúdos sensíveis.

**Critério de Aceite**:
- Artigo em categoria crítica criado com status `Rascunho`
- Transição para `Publicado` requer aprovação de usuário com permissão `kb:artigos:approve`
- Artigos em categorias não-críticas podem ser publicados diretamente se usuário tiver `kb:artigos:publish`

**Validação**: Verificar categoria ao tentar publicar artigo.

---

### RN-RF070-05 — Score de Utilidade Mínimo

**Descrição**: Artigos com score de utilidade < 60% após pelo menos 20 votações devem ser sinalizados para revisão.

**Justificativa**: Identificar conteúdo de baixa qualidade ou desatualizado.

**Critério de Aceite**:
- Score calculado como: (Votos Útil / Total Votos) * 100
- Sinalização automática quando: score < 60% AND total votos >= 20
- Dashboard exibe lista de artigos que requerem revisão

**Validação**: Cálculo automático após cada votação.

---

### RN-RF070-06 — Isolamento Multi-Tenant

**Descrição**: Todos os artigos, categorias, votações e anexos DEVEM ser isolados por `ClienteId` (tenant).

**Justificativa**: Garantir segurança e privacidade de dados entre diferentes clientes.

**Critério de Aceite**:
- Todas as queries DEVEM filtrar por `ClienteId` do usuário autenticado
- Tentativa de acesso cruzado entre tenants → HTTP 403
- `ClienteId` NÃO pode ser alterado após criação do artigo

**Validação**: Aplicado automaticamente em todas as operações de banco de dados.

---

### RN-RF070-07 — Versionamento Automático

**Descrição**: Toda atualização em campos críticos (Título, Problema, Solução, Causa Raiz) DEVE gerar nova versão do artigo.

**Justificativa**: Rastreabilidade de mudanças e possibilidade de rollback.

**Critério de Aceite**:
- Campos críticos alterados → incrementa versão (ex: 1.0 → 2.0)
- Registra: versão anterior, versão nova, campos alterados (before/after JSON), usuário, data/hora, motivo
- Histórico completo disponível para consulta
- Rollback para versão anterior restaura todos os campos

**Validação**: Implementado via Temporal Tables ou Entity Framework Change Tracking.

---

### RN-RF070-08 — Artigos Obsoletos

**Descrição**: Artigos publicados sem acessos há 180 dias ou mais devem ser marcados como obsoletos.

**Justificativa**: Identificar conteúdo potencialmente desatualizado para revisão ou arquivamento.

**Critério de Aceite**:
- Job automático diário verifica última data de acesso
- Artigos com última leitura > 180 dias → status `Obsoleto`
- Dashboard exibe lista de artigos obsoletos
- Gestor pode arquivar ou reativar artigo obsoleto

**Validação**: Job executado via Hangfire ou Azure Functions.

---

### RN-RF070-09 — Anexos - Tamanho e Tipos

**Descrição**: Anexos devem respeitar limite de 500MB por arquivo e permitir apenas tipos de arquivo seguros.

**Justificativa**: Prevenir upload de malware e evitar sobrecarga de armazenamento.

**Critério de Aceite**:
- Tipos permitidos: `.pdf`, `.docx`, `.xlsx`, `.pptx`, `.png`, `.jpg`, `.jpeg`, `.gif`, `.mp4`, `.zip`
- Tamanho máximo: 500MB por arquivo
- Tamanho total de anexos por artigo: 2GB
- Tentativa de upload de tipo não permitido → rejeição com erro `KB_TIPO_ARQUIVO_INVALIDO`
- Tentativa de upload > 500MB → rejeição com erro `KB_TAMANHO_ARQUIVO_EXCEDIDO`

**Validação**: Backend valida tipo MIME real (não apenas extensão).

---

### RN-RF070-10 — Permissões de Edição

**Descrição**: Usuário pode editar apenas artigos que criou, exceto se tiver permissão `kb:artigos:update_all`.

**Justificativa**: Controlar quem pode modificar conteúdo de terceiros.

**Critério de Aceite**:
- Usuário sem `kb:artigos:update_all` tentando editar artigo de outro → HTTP 403
- Criador do artigo sempre pode editar (se tiver `kb:artigos:update`)
- Gestores e Administradores podem editar qualquer artigo

**Validação**: Verificação de permissão em endpoint de atualização.

---

### RN-RF070-11 — Busca Full-Text - Performance

**Descrição**: Busca full-text deve retornar resultados em menos de 500ms para 95% das queries, mesmo em bases com 50.000+ artigos.

**Justificativa**: Garantir experiência de usuário fluida.

**Critério de Aceite**:
- 95% das buscas concluídas em < 500ms (P95)
- 99% das buscas concluídas em < 1000ms (P99)
- Timeout de busca: 5 segundos
- Monitoramento de performance via Application Insights

**Validação**: Testes de performance e monitoramento em produção.

---

### RN-RF070-12 — Auditoria de Operações Críticas

**Descrição**: Todas as operações CREATE, UPDATE, DELETE, PUBLISH, APPROVE em artigos devem ser auditadas com registro completo.

**Justificativa**: Rastreabilidade, conformidade regulatória (LGPD, ISO 20000) e investigação de incidentes.

**Critério de Aceite**:
- Registro inclui: ClienteId, ArtigoId, UsuarioId, Data/Hora, IP, Operação, Dados Alterados (before/after)
- Retenção: 7 anos (LGPD Art. 16)
- Acesso a logs apenas por usuários com permissão `kb:auditoria:view`

**Validação**: Implementado via Interceptor no Entity Framework ou Event Sourcing.

---

### RN-RF070-13 — Portal Self-Service - Acesso Público

**Descrição**: Portal self-service deve permitir busca e visualização de artigos públicos sem necessidade de autenticação.

**Justificativa**: Facilitar autoatendimento e reduzir volume de chamados.

**Critério de Aceite**:
- Usuário não autenticado pode buscar e ler artigos marcados como `NivelAcesso = Público`
- Artigos `NivelAcesso = Interno` requerem autenticação
- Votação requer autenticação (evitar manipulação)

**Validação**: Endpoint de busca pública não requer autenticação.

---

### RN-RF070-14 — Integração com Chamados - Sugestão Automática

**Descrição**: Ao criar chamado, sistema deve sugerir automaticamente até 5 artigos relacionados baseado em análise do título e descrição do chamado.

**Justificativa**: Aumentar taxa de resolução no primeiro contato (FCR) e reduzir MTTR.

**Critério de Aceite**:
- Algoritmo analisa título + descrição do chamado
- Busca full-text retorna top 5 artigos com maior score de relevância
- Analista pode visualizar artigos sugeridos e vincular ao chamado
- Métrica de efetividade: % de chamados resolvidos após visualização de artigo sugerido

**Validação**: Integração via Event Handler ao criar chamado.

---

### RN-RF070-15 — Tags - Autocomplete e Sugestão

**Descrição**: Sistema deve sugerir tags existentes via autocomplete ao digitar, evitando duplicação de tags similares.

**Justificativa**: Padronizar tags e facilitar busca e filtragem.

**Critério de Aceite**:
- Ao digitar, exibir até 10 tags existentes que começam com o texto digitado (case-insensitive)
- Permitir criação de nova tag se não encontrar match
- Normalizar tags: lowercase, sem acentos, sem espaços extras
- Sugerir tags populares ao criar artigo novo

**Validação**: Endpoint de autocomplete com debounce de 300ms.

---

## 6. ESTADOS DA ENTIDADE

| Estado | Descrição | Transições Permitidas |
|--------|-----------|----------------------|
| **Rascunho** | Artigo criado, ainda não finalizado. Visível apenas para criador e gestores. | → Aguardando Revisão, → Publicado (se não requer aprovação) |
| **Aguardando Revisão** | Artigo enviado para aprovação, aguardando atribuição de revisor. | → Em Revisão, → Rascunho |
| **Em Revisão** | Artigo sendo revisado por aprovador. | → Aprovado, → Rejeitado, → Aguardando Revisão |
| **Aprovado** | Artigo aprovado, pronto para publicação. | → Publicado |
| **Publicado** | Artigo ativo e visível na base de conhecimento. | → Arquivado, → Rascunho (para edição) |
| **Rejeitado** | Artigo rejeitado pelo aprovador, retorna para criador com feedback. | → Rascunho, → Arquivado |
| **Arquivado** | Artigo removido da visualização pública, mas mantido para histórico. | → Publicado (reativação) |
| **Obsoleto** | Artigo sem acessos há 180+ dias, sinalizado para revisão. | → Arquivado, → Publicado (após atualização) |

### Transições Proibidas

- **Rascunho** → **Aprovado** (deve passar por revisão se requerida)
- **Rejeitado** → **Publicado** (deve voltar a Rascunho primeiro)
- **Arquivado** → **Aprovado** (reativação vai direto para Publicado)
- **Obsoleto** → **Aguardando Revisão** (deve ser atualizado e republicado)

### Regras de Transição

1. Artigo em categoria crítica (Segurança, Compliance) SEMPRE passa por workflow de aprovação
2. Artigo em categoria não-crítica pode ir direto de Rascunho → Publicado se usuário tiver permissão `kb:artigos:publish`
3. Transição para Arquivado requer permissão `kb:artigos:archive`
4. Reativação de artigo arquivado requer permissão `kb:artigos:publish`

---

## 7. EVENTOS DE DOMÍNIO

| Evento | Quando Ocorre | Dados do Evento | Consumidores |
|--------|---------------|-----------------|--------------|
| `ArtigoCriadoEvent` | Após criação bem-sucedida de artigo | ArtigoId, ClienteId, UsuarioId, Titulo, Status, DataCriacao | Sistema de Notificações, Analytics |
| `ArtigoAtualizadoEvent` | Após atualização de artigo | ArtigoId, CamposAlterados, VersaoAnterior, VersaoNova, Motivo | Versionamento, Auditoria, Notificações |
| `ArtigoPublicadoEvent` | Artigo transiciona para estado Publicado | ArtigoId, Titulo, Categorias, Tags, DataPublicacao | Indexador de Busca, Notificações, RF-073 (Chamados) |
| `ArtigoArquivadoEvent` | Artigo arquivado | ArtigoId, Motivo, ScoreUtilidade, UltimoAcesso | Analytics, Auditoria |
| `ArtigoAprovadoEvent` | Artigo aprovado no workflow | ArtigoId, AprovadorId, NivelAprovacao, Comentarios | Workflow Engine, Notificações |
| `ArtigoRejeitadoEvent` | Artigo rejeitado no workflow | ArtigoId, AprovadorId, MotivoRejeicao, Comentarios | Workflow Engine, Notificações (criador) |
| `ArtigoAcessadoEvent` | Artigo visualizado por usuário | ArtigoId, UsuarioId, IP, UserAgent, OrigemAcesso, TempoLeitura | Analytics, Mecanismo de Recomendação |
| `ArtigoVotadoEvent` | Usuário vota em artigo | ArtigoId, UsuarioId, Voto (Util/NaoUtil), Comentario | Analytics, Sistema de Qualidade |
| `CategoriaAlteradaEvent` | Categorias de artigo modificadas | ArtigoId, CategoriasAntigas, CategoriasNovas | Indexador de Busca, Cache Invalidation |
| `AnexoAdicionadoEvent` | Anexo adicionado a artigo | ArtigoId, AnexoId, NomeArquivo, Tamanho, TipoMIME | Auditoria, Storage Service |
| `ArtigoObsoletoDetectadoEvent` | Job detecta artigo obsoleto | ArtigoId, DiasSeçãoAcesso, UltimoAcesso | Sistema de Notificações (gestor) |
| `ArtigoRelacionadoSugeridoEvent` | Sistema sugere artigo relacionado a chamado | ArtigoId, ChamadoId, ScoreSimilaridade | RF-073 (Chamados), Analytics |

---

## 8. CRITÉRIOS GLOBAIS DE ACEITE

- Nenhuma operação pode violar isolamento multi-tenant (ClienteId)
- Todas as regras de negócio devem ser validadas no backend (não confiar apenas em validação frontend)
- Erros devem retornar códigos estruturados e mensagens i18n
- Auditoria deve registrar todas operações críticas (CREATE, UPDATE, DELETE, PUBLISH, APPROVE)
- Busca full-text deve retornar resultados em < 500ms (P95)
- Versionamento deve preservar histórico completo com retenção de 7 anos
- Anexos devem ser armazenados em storage externo (Azure Blob Storage), não no banco de dados
- Portal self-service deve funcionar sem autenticação para artigos públicos
- Sistema deve suportar 1000 usuários simultâneos sem degradação de performance
- Todas as operações devem respeitar permissões RBAC
- Artigos em categorias críticas SEMPRE requerem aprovação antes de publicação
- Score de utilidade < 60% deve sinalizar artigo para revisão
- Artigos sem acesso há 180 dias devem ser marcados como obsoletos
- Integração com RF-073 (Chamados) deve sugerir artigos automaticamente ao criar chamado

---

## 9. SEGURANÇA

- **Autenticação**: JWT Bearer Token obrigatório para operações de criação, edição, aprovação
- **Autorização**: RBAC com permissões granulares (`kb:artigos:create`, `kb:artigos:update`, `kb:artigos:approve`, etc.)
- **Validação de Entrada**: FluentValidation para todos os Commands, sanitização de HTML no editor
- **Proteção contra XSS**: Sanitização de conteúdo HTML antes de exibir
- **Proteção contra CSRF**: Tokens anti-forgery em formulários
- **Isolamento Multi-Tenant**: Todas as queries filtradas por `ClienteId`, tentativa de acesso cruzado retorna HTTP 403
- **Upload Seguro de Anexos**: Validação de tipo MIME real (não apenas extensão), quarentena para scan de vírus
- **Rate Limiting**: Máximo 100 requests/minuto por usuário em endpoints de busca
- **Auditoria de Acesso**: Registro de quem acessou quais artigos, quando e de onde (IP)
- **Criptografia em Trânsito**: HTTPS obrigatório para todas as comunicações
- **Criptografia em Repouso**: Anexos armazenados com criptografia no Azure Blob Storage
- **Proteção de Dados Sensíveis**: Artigos marcados como `Confidencial` requerem permissão adicional
- **Conformidade LGPD**: Auditoria de acessos, retenção de 7 anos, direito ao esquecimento (anonimização de dados)

---

## 10. ARTEFATOS DERIVADOS

Este RF é base para os seguintes artefatos:

| Artefato | Status | Descrição |
|----------|--------|-----------|
| **UC-RF070.md** | Obrigatório | Casos de Uso detalhados (UC00-UC04 + casos específicos) |
| **MD-RF070.yaml** | Obrigatório | Modelo de Dados com DDL completo, relacionamentos, índices |
| **WF-RF070.md** | Obrigatório | Wireframes e fluxos de tela |
| **TC-RF070.yaml** | Obrigatório | Casos de Teste (Backend, Frontend, Segurança, E2E) |
| **MT-RF070.yaml** | Obrigatório | Massas de Teste para automação |
| **API-RF070.yaml** | Obrigatório | Especificação OpenAPI dos endpoints |
| **RL-RF070.md** | Obrigatório | Referência ao Legado (memória técnica do sistema anterior) |

---

## 11. RASTREABILIDADE

### Dependências de Entrada

| Artefato | Tipo | Descrição |
|----------|------|-----------|
| RF-073 | Funcional | Gestão de Chamados (integração para sugestão de artigos) |
| RF-074 | Funcional | Gestão de Tickets (vinculação de artigos a tickets) |
| Sistema de Autenticação | Técnico | JWT Bearer Token para autenticação de usuários |
| Sistema de Permissões (RBAC) | Técnico | Controle de acesso baseado em perfis |
| Sistema de Auditoria | Técnico | Registro de operações críticas |
| Sistema de i18n | Técnico | Traduções de interface e conteúdo |
| Azure Blob Storage | Técnico | Armazenamento de anexos |
| Motor de Busca Full-Text | Técnico | ElasticSearch ou Azure Cognitive Search |

### Dependências de Saída

| Artefato | Impacto |
|----------|---------|
| RF-073 (Gestão de Chamados) | Consome evento `ArtigoRelacionadoSugeridoEvent` para sugestão automática |
| RF-074 (Gestão de Tickets) | Permite vinculação de artigos a tickets para rastreabilidade |
| RF-071 (Pesquisa de Satisfação) | Pode referenciar artigos consultados durante resolução |
| Portal Self-Service | Consome API pública de busca e visualização de artigos |
| Sistema de Notificações | Consome eventos de publicação, aprovação, rejeição para notificar usuários |
| Analytics e Relatórios | Consome métricas de acesso, votação, conversão para dashboards |

### Casos de Uso Esperados

- UC00 - Listar Artigos de Conhecimento
- UC01 - Criar Artigo de Conhecimento
- UC02 - Visualizar Artigo de Conhecimento
- UC03 - Editar Artigo de Conhecimento
- UC04 - Arquivar Artigo de Conhecimento
- UC05 - Buscar Artigos (Full-Text)
- UC06 - Votar em Artigo (Útil/Não Útil)
- UC07 - Aprovar Artigo (Workflow)
- UC08 - Visualizar Histórico de Versões
- UC09 - Gerenciar Categorias
- UC10 - Gerenciar Anexos

---

## CHANGELOG

| Versão | Data | Descrição | Autor |
|--------|------|-----------|-------|
| 2.0 | 2025-12-30 | Migração v1.0 → v2.0: Separação RF/RL completa. Removido todo conteúdo legado (movido para RL-RF070.md). Adequação ao template RF.md v2.0 com 11 seções obrigatórias. | Agência ALC - alc.dev.br |
| 1.0 | 2025-12-28 | Versão inicial com conteúdo misto (moderno + legado) | Agência ALC - alc.dev.br |
