# Checklist de Auditoria de Conformidade
# Vers√£o estruturada para processamento automatizado
# Refer√™ncia: CONTRATO-AUDITORIA-CONFORMIDADE.md

metadata:
  nome: Auditoria de Conformidade
  versao: 1.0.0
  data_criacao: 2025-12-25
  contrato_origem: CONTRATO-AUDITORIA-CONFORMIDADE.md
  proposito: Validar conformidade entre especifica√ß√£o (RF/UC/MD/WF) e implementa√ß√£o (Backend/Frontend)

categorias:

  # ========================================
  # AUDITORIA BACKEND
  # ========================================

  - categoria: Backend - Entidades
    descricao: Comparar MD-RFXXX.md vs Domain/Entities/*.cs
    itens:
      - id: BE-ENT-001
        texto: Todos os campos especificados no MD est√£o presentes na entidade
        severidade_se_falhar: CRITICO

      - id: BE-ENT-002
        texto: Tipos de dados correspondem (string, int, Guid, decimal, bool, DateTime)
        severidade_se_falhar: CRITICO

      - id: BE-ENT-003
        texto: Propriedades obrigat√≥rias marcadas como required ou sem ?
        severidade_se_falhar: CRITICO

      - id: BE-ENT-004
        texto: Propriedades opcionais marcadas com ?
        severidade_se_falhar: IMPORTANTE

      - id: BE-ENT-005
        texto: MaxLength configurado conforme especifica√ß√£o
        severidade_se_falhar: IMPORTANTE

      - id: BE-ENT-006
        texto: Campos de auditoria presentes (CreatedBy, CreatedAt, UpdatedBy, UpdatedAt)
        severidade_se_falhar: CRITICO

      - id: BE-ENT-007
        texto: Campos de multi-tenancy presentes (ClienteId, EmpresaId)
        severidade_se_falhar: CRITICO

      - id: BE-ENT-008
        texto: Campos de soft-delete presentes (FlExcluido)
        severidade_se_falhar: CRITICO

      - id: BE-ENT-009
        texto: Navigation Properties configuradas para FKs
        severidade_se_falhar: IMPORTANTE

      - id: BE-ENT-010
        texto: Nenhum campo extra n√£o especificado (ou justificado)
        severidade_se_falhar: MENOR

  - categoria: Backend - Configurations
    descricao: Comparar MD-RFXXX.md vs Infrastructure/Data/Configurations/*.cs
    itens:
      - id: BE-CFG-001
        texto: Tabela nomeada corretamente (plural, ex EnderecoEntregas)
        severidade_se_falhar: IMPORTANTE

      - id: BE-CFG-002
        texto: Primary Key configurada (HasKey)
        severidade_se_falhar: CRITICO

      - id: BE-CFG-003
        texto: Campos obrigat√≥rios marcados com IsRequired()
        severidade_se_falhar: CRITICO

      - id: BE-CFG-004
        texto: MaxLength aplicado conforme MD
        severidade_se_falhar: IMPORTANTE

      - id: BE-CFG-005
        texto: √çndices √∫nicos criados conforme especifica√ß√£o
        severidade_se_falhar: CRITICO

      - id: BE-CFG-006
        texto: Foreign Keys configuradas (HasOne/WithMany/HasForeignKey)
        severidade_se_falhar: CRITICO

      - id: BE-CFG-007
        texto: OnDelete configurado corretamente (Restrict/Cascade)
        severidade_se_falhar: IMPORTANTE

      - id: BE-CFG-008
        texto: Precision configurada para decimais
        severidade_se_falhar: IMPORTANTE

      - id: BE-CFG-009
        texto: Filtros √∫nicos aplicados (ex HasFilter FlPadrao)
        severidade_se_falhar: IMPORTANTE

  - categoria: Backend - Commands
    descricao: Comparar UC-RFXXX.md vs Application/.../Commands/*.cs
    itens:
      - id: BE-CMD-001
        texto: Todos os campos do formul√°rio (UC01) est√£o no Command
        severidade_se_falhar: CRITICO

      - id: BE-CMD-002
        texto: Campos obrigat√≥rios marcados com required ou valida√ß√£o
        severidade_se_falhar: CRITICO

      - id: BE-CMD-003
        texto: Tipos de dados corretos
        severidade_se_falhar: CRITICO

      - id: BE-CMD-004
        texto: Nenhum campo sens√≠vel exposto (ex senha sem hash)
        severidade_se_falhar: CRITICO

  - categoria: Backend - Validators
    descricao: Comparar Regras de Neg√≥cio (RN-XXX) vs XCommandValidator.cs
    itens:
      - id: BE-VAL-001
        texto: Todas as regras RN-XXX est√£o implementadas
        severidade_se_falhar: CRITICO

      - id: BE-VAL-002
        texto: Valida√ß√£o de campos obrigat√≥rios (NotEmpty)
        severidade_se_falhar: CRITICO

      - id: BE-VAL-003
        texto: Valida√ß√£o de MaxLength (MaximumLength)
        severidade_se_falhar: IMPORTANTE

      - id: BE-VAL-004
        texto: Valida√ß√£o de formatos (Email, Telefone, CPF, CNPJ, CEP)
        severidade_se_falhar: IMPORTANTE

      - id: BE-VAL-005
        texto: Valida√ß√£o de ranges (InclusiveBetween)
        severidade_se_falhar: IMPORTANTE

      - id: BE-VAL-006
        texto: Valida√ß√µes customizadas (ex endere√ßo padr√£o √∫nico)
        severidade_se_falhar: CRITICO

      - id: BE-VAL-007
        texto: Mensagens de erro em portugu√™s
        severidade_se_falhar: MENOR

  - categoria: Backend - DTOs
    descricao: Comparar UC-RFXXX.md (campos de listagem) vs XDto.cs
    itens:
      - id: BE-DTO-001
        texto: Todos os campos necess√°rios para exibi√ß√£o est√£o no DTO
        severidade_se_falhar: CRITICO

      - id: BE-DTO-002
        texto: Campos de navega√ß√£o inclu√≠dos (ex TipoNome ao inv√©s de TipoId)
        severidade_se_falhar: IMPORTANTE

      - id: BE-DTO-003
        texto: Campos sens√≠veis N√ÉO expostos
        severidade_se_falhar: CRITICO

      - id: BE-DTO-004
        texto: Tipos de dados corretos
        severidade_se_falhar: IMPORTANTE

  - categoria: Backend - Handlers
    descricao: Comparar Regras de Neg√≥cio (RN-XXX) vs l√≥gica no Handler
    itens:
      - id: BE-HND-001
        texto: Todas as regras RN-XXX est√£o implementadas no Handler
        severidade_se_falhar: CRITICO

      - id: BE-HND-002
        texto: Valida√ß√£o de endere√ßo padr√£o √∫nico (se aplic√°vel)
        severidade_se_falhar: CRITICO

      - id: BE-HND-003
        texto: Autoriza√ß√£o verificada (ClienteId, EmpresaId)
        severidade_se_falhar: CRITICO

      - id: BE-HND-004
        texto: Soft-delete ao inv√©s de DELETE f√≠sico
        severidade_se_falhar: CRITICO

      - id: BE-HND-005
        texto: Auditoria preenchida automaticamente
        severidade_se_falhar: IMPORTANTE

  - categoria: Backend - Endpoints
    descricao: Comparar UC-RFXXX.md (opera√ß√µes) vs Web/Endpoints/*.cs
    itens:
      - id: BE-END-001
        texto: Endpoint GET (listar) implementado
        severidade_se_falhar: CRITICO

      - id: BE-END-002
        texto: Endpoint GET/{id} (buscar por ID) implementado
        severidade_se_falhar: CRITICO

      - id: BE-END-003
        texto: Endpoint POST (criar) implementado
        severidade_se_falhar: CRITICO

      - id: BE-END-004
        texto: Endpoint PUT/{id} (atualizar) implementado
        severidade_se_falhar: CRITICO

      - id: BE-END-005
        texto: Endpoint DELETE/{id} (excluir) implementado
        severidade_se_falhar: CRITICO

      - id: BE-END-006
        texto: Autentica√ß√£o exigida (RequireAuthorization)
        severidade_se_falhar: CRITICO

      - id: BE-END-007
        texto: Pol√≠tica de autoriza√ß√£o correta (Policy vs Role)
        severidade_se_falhar: CRITICO

      - id: BE-END-008
        texto: Swagger documentado (WithSummary)
        severidade_se_falhar: MENOR

      - id: BE-END-009
        texto: Respostas HTTP corretas (200, 201, 404, 401, 403, 500)
        severidade_se_falhar: IMPORTANTE

  - categoria: Backend - Seeds
    descricao: Comparar RFXXX.md (dados iniciais) vs ApplicationDbContextInitialiser.cs
    itens:
      - id: BE-SED-001
        texto: Entidades de lookup semeadas (ex EnderecoEntregaTipo)
        severidade_se_falhar: CRITICO

      - id: BE-SED-002
        texto: Permiss√µes criadas e nomeadas corretamente
        severidade_se_falhar: CRITICO

      - id: BE-SED-003
        texto: Permiss√µes associadas ao perfil Developer
        severidade_se_falhar: CRITICO

      - id: BE-SED-004
        texto: Funcionalidade registrada na Central de M√≥dulos
        severidade_se_falhar: CRITICO

      - id: BE-SED-005
        texto: Seeds idempotentes (verificam exist√™ncia antes de criar)
        severidade_se_falhar: IMPORTANTE

      - id: BE-SED-006
        texto: Nenhum seed hardcoded (usar constantes/configura√ß√µes)
        severidade_se_falhar: MENOR

  # ========================================
  # AUDITORIA FRONTEND
  # ========================================

  - categoria: Frontend - Componentes
    descricao: Comparar WF-RFXXX.md vs src/app/.../components/*.ts e *.html
    itens:
      - id: FE-CMP-001
        texto: Componente de listagem implementado
        severidade_se_falhar: CRITICO

      - id: FE-CMP-002
        texto: Componente de formul√°rio (criar/editar) implementado
        severidade_se_falhar: CRITICO

      - id: FE-CMP-003
        texto: Componente de detalhes (se especificado) implementado
        severidade_se_falhar: IMPORTANTE

      - id: FE-CMP-004
        texto: Todos os campos do wireframe est√£o presentes no template
        severidade_se_falhar: CRITICO

      - id: FE-CMP-005
        texto: Tipos de input corretos (text, number, select, checkbox, date)
        severidade_se_falhar: IMPORTANTE

  - categoria: Frontend - Formul√°rios e Valida√ß√µes
    descricao: Comparar UC-RFXXX.md vs form.component.ts
    itens:
      - id: FE-FRM-001
        texto: FormGroup criado com todos os campos
        severidade_se_falhar: CRITICO

      - id: FE-FRM-002
        texto: Valida√ß√µes obrigat√≥rias (Validators.required)
        severidade_se_falhar: CRITICO

      - id: FE-FRM-003
        texto: Valida√ß√µes de formato (email, pattern)
        severidade_se_falhar: IMPORTANTE

      - id: FE-FRM-004
        texto: Valida√ß√µes de range (min, max)
        severidade_se_falhar: IMPORTANTE

      - id: FE-FRM-005
        texto: Mensagens de erro exibidas em portugu√™s
        severidade_se_falhar: IMPORTANTE

      - id: FE-FRM-006
        texto: Mensagens de erro traduzidas (i18n)
        severidade_se_falhar: IMPORTANTE

      - id: FE-FRM-007
        texto: Desabilitar campos quando aplic√°vel
        severidade_se_falhar: MENOR

  - categoria: Frontend - Services
    descricao: Comparar endpoints do backend vs chamadas HTTP no service
    itens:
      - id: FE-SVC-001
        texto: M√©todo getAll() implementado
        severidade_se_falhar: CRITICO

      - id: FE-SVC-002
        texto: M√©todo getById(id) implementado
        severidade_se_falhar: CRITICO

      - id: FE-SVC-003
        texto: M√©todo create(dto) implementado
        severidade_se_falhar: CRITICO

      - id: FE-SVC-004
        texto: M√©todo update(id, dto) implementado
        severidade_se_falhar: CRITICO

      - id: FE-SVC-005
        texto: M√©todo delete(id) implementado
        severidade_se_falhar: CRITICO

      - id: FE-SVC-006
        texto: M√©todo para buscar tipos/lookups implementado
        severidade_se_falhar: CRITICO

      - id: FE-SVC-007
        texto: Headers corretos (Subscription-Key, Authorization)
        severidade_se_falhar: CRITICO

      - id: FE-SVC-008
        texto: Tratamento de erros (catchError)
        severidade_se_falhar: IMPORTANTE

  - categoria: Frontend - Rotas e Guards
    descricao: Comparar WF-RFXXX.md vs app-routing.module.ts
    itens:
      - id: FE-RTE-001
        texto: Rota de listagem configurada
        severidade_se_falhar: CRITICO

      - id: FE-RTE-002
        texto: Rota de cria√ß√£o configurada
        severidade_se_falhar: CRITICO

      - id: FE-RTE-003
        texto: Rota de edi√ß√£o configurada (com :id)
        severidade_se_falhar: CRITICO

      - id: FE-RTE-004
        texto: Guard de autentica√ß√£o aplicado
        severidade_se_falhar: CRITICO

      - id: FE-RTE-005
        texto: Guard de permiss√£o aplicado (PolicyGuard)
        severidade_se_falhar: CRITICO

      - id: FE-RTE-006
        texto: Lazy loading configurado
        severidade_se_falhar: MENOR

  - categoria: Frontend - Tradu√ß√µes
    descricao: Comparar textos exibidos vs arquivos i18n/*.json
    itens:
      - id: FE-I18-001
        texto: T√≠tulo da tela traduzido
        severidade_se_falhar: IMPORTANTE

      - id: FE-I18-002
        texto: Labels de campos traduzidos
        severidade_se_falhar: IMPORTANTE

      - id: FE-I18-003
        texto: Placeholders traduzidos
        severidade_se_falhar: IMPORTANTE

      - id: FE-I18-004
        texto: Mensagens de sucesso traduzidas
        severidade_se_falhar: IMPORTANTE

      - id: FE-I18-005
        texto: Mensagens de erro traduzidas
        severidade_se_falhar: IMPORTANTE

      - id: FE-I18-006
        texto: Mensagens de confirma√ß√£o traduzidas
        severidade_se_falhar: IMPORTANTE

      - id: FE-I18-007
        texto: Bot√µes traduzidos
        severidade_se_falhar: IMPORTANTE

      - id: FE-I18-008
        texto: 3 idiomas presentes (pt, en, es)
        severidade_se_falhar: IMPORTANTE

  - categoria: Frontend - Models/Interfaces
    descricao: Comparar DTOs do backend vs interfaces TypeScript
    itens:
      - id: FE-MDL-001
        texto: Interface criada para a entidade principal
        severidade_se_falhar: CRITICO

      - id: FE-MDL-002
        texto: Propriedades correspondem ao DTO do backend
        severidade_se_falhar: CRITICO

      - id: FE-MDL-003
        texto: Tipos TypeScript corretos (string, number, boolean, Date)
        severidade_se_falhar: IMPORTANTE

      - id: FE-MDL-004
        texto: Propriedades opcionais marcadas com ?
        severidade_se_falhar: IMPORTANTE

  # ========================================
  # INTEGRA√á√ïES OBRIGAT√ìRIAS
  # ========================================

  - categoria: Central de Funcionalidades
    descricao: Validar integra√ß√£o com Central de Funcionalidades
    itens:
      - id: INT-CEN-001
        texto: Funcionalidade registrada em CentralDeFuncionalidadesSeeds
        severidade_se_falhar: CRITICO

      - id: INT-CEN-002
        texto: C√≥digo √∫nico definido
        severidade_se_falhar: CRITICO

      - id: INT-CEN-003
        texto: Nome, Descri√ß√£o, √çcone configurados
        severidade_se_falhar: IMPORTANTE

      - id: INT-CEN-004
        texto: Ordem de exibi√ß√£o definida
        severidade_se_falhar: MENOR

  - categoria: I18n (Internacionaliza√ß√£o)
    descricao: Validar conformidade com i18n
    itens:
      - id: INT-I18-001
        texto: Todas as chaves criadas em pt.json
        severidade_se_falhar: CRITICO

      - id: INT-I18-002
        texto: Todas as chaves criadas em en.json
        severidade_se_falhar: CRITICO

      - id: INT-I18-003
        texto: Todas as chaves criadas em es.json
        severidade_se_falhar: CRITICO

      - id: INT-I18-004
        texto: Nenhum texto hardcoded no frontend
        severidade_se_falhar: IMPORTANTE

      - id: INT-I18-005
        texto: Nenhum texto hardcoded no backend (mensagens de valida√ß√£o)
        severidade_se_falhar: IMPORTANTE

  - categoria: Auditoria (Campos de Auditoria)
    descricao: Validar campos de auditoria
    itens:
      - id: INT-AUD-001
        texto: Entidade herda de BaseAuditableGuidEntity
        severidade_se_falhar: CRITICO

      - id: INT-AUD-002
        texto: CreatedBy preenchido automaticamente
        severidade_se_falhar: CRITICO

      - id: INT-AUD-003
        texto: CreatedAt preenchido automaticamente
        severidade_se_falhar: CRITICO

      - id: INT-AUD-004
        texto: UpdatedBy atualizado automaticamente
        severidade_se_falhar: CRITICO

      - id: INT-AUD-005
        texto: UpdatedAt atualizado automaticamente
        severidade_se_falhar: CRITICO

  - categoria: Multi-Tenancy
    descricao: Validar multi-tenancy
    itens:
      - id: INT-MTN-001
        texto: ClienteId presente na entidade
        severidade_se_falhar: CRITICO

      - id: INT-MTN-002
        texto: EmpresaId presente na entidade (se aplic√°vel)
        severidade_se_falhar: CRITICO

      - id: INT-MTN-003
        texto: Queries filtram por ClienteId automaticamente
        severidade_se_falhar: CRITICO

      - id: INT-MTN-004
        texto: Commands validam ClienteId do usu√°rio logado
        severidade_se_falhar: CRITICO

  - categoria: Permiss√µes (RBAC)
    descricao: Validar permiss√µes e autoriza√ß√£o
    itens:
      - id: INT-PRM-001
        texto: Permiss√µes criadas com nomenclatura correta
        severidade_se_falhar: CRITICO

      - id: INT-PRM-002
        texto: Permiss√µes associadas ao perfil Developer
        severidade_se_falhar: CRITICO

      - id: INT-PRM-003
        texto: Endpoints protegidos com Policy (n√£o Role)
        severidade_se_falhar: CRITICO

      - id: INT-PRM-004
        texto: Frontend protegido com PolicyGuard
        severidade_se_falhar: CRITICO

# Classifica√ß√£o de severidade
severidades:
  CRITICO:
    impacto: Funcionalidade N√ÉO funciona sem corre√ß√£o
    acao: Bloqueia RF de ser marcado como conclu√≠do
    simbolo: üî¥

  IMPORTANTE:
    impacto: Funcionalidade funciona, mas est√° INCOMPLETA
    acao: RF pode ser marcado como conclu√≠do com ressalvas
    simbolo: üü°

  MENOR:
    impacto: Funcionalidade funciona e est√° completa, mas diverge da especifica√ß√£o
    acao: Diverg√™ncia documental, n√£o bloqueia conclus√£o
    simbolo: üü¢

# Formato de relat√≥rio
relatorio:
  caminho: D:\IC2\relatorios\
  nomenclatura: AAAA-MM-DD-RFXXX-CAMADA-Gaps.md
  secoes_obrigatorias:
    - SUM√ÅRIO EXECUTIVO
    - GAPS IDENTIFICADOS
    - VALIDA√á√ÉO P√ìS-CORRE√á√ÉO
    - PR√ìXIMOS PASSOS
    - CONCLUS√ÉO
